<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Data Visualization and Publishing to the Web | Reproducible Practices for Arctic Research Using R</title>
  <meta name="description" content="9 Data Visualization and Publishing to the Web | Reproducible Practices for Arctic Research Using R" />
  <meta name="generator" content="bookdown 0.24.1 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Data Visualization and Publishing to the Web | Reproducible Practices for Arctic Research Using R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Data Visualization and Publishing to the Web | Reproducible Practices for Arctic Research Using R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cleaning-and-manipulating-data.html"/>
<link rel="next" href="functions-and-packages.html"/>
<script src="libs/header-attrs-2.19/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.19/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#reproducible-research-techniques-for-synthesis" id="toc-reproducible-research-techniques-for-synthesis">Reproducible Practices for Arctic Research Using R</a>
<ul>
<li><a href="index.html#schedule" id="toc-schedule"><span class="toc-section-number">0.1</span> Schedule</a>
<ul>
<li><a href="index.html#code-of-conduct" id="toc-code-of-conduct"><span class="toc-section-number">0.1.1</span> Code of Conduct</a></li>
<li><a href="index.html#logistics" id="toc-logistics"><span class="toc-section-number">0.1.2</span> Logistics</a></li>
<li><a href="index.html#about-this-book" id="toc-about-this-book"><span class="toc-section-number">0.1.3</span> About this book</a></li>
</ul></li>
</ul></li>
<li><a href="welcome-and-introductions.html#welcome-and-introductions" id="toc-welcome-and-introductions"><span class="toc-section-number">1</span> Welcome and Introductions</a>
<ul>
<li><a href="welcome-and-introductions.html#introduction-to-the-arctic-data-center-and-nsf-standards-and-policies" id="toc-introduction-to-the-arctic-data-center-and-nsf-standards-and-policies"><span class="toc-section-number">1.1</span> Introduction to the Arctic Data Center and NSF Standards and Policies</a>
<ul>
<li><a href="welcome-and-introductions.html#learning-objectives" id="toc-learning-objectives"><span class="toc-section-number">1.1.1</span> Learning Objectives</a></li>
<li><a href="welcome-and-introductions.html#arctic-data-center---history-and-introduction" id="toc-arctic-data-center---history-and-introduction"><span class="toc-section-number">1.1.2</span> Arctic Data Center - History and Introduction</a></li>
<li><a href="welcome-and-introductions.html#data-discovery-portal" id="toc-data-discovery-portal"><span class="toc-section-number">1.1.3</span> Data Discovery Portal</a></li>
<li><a href="welcome-and-introductions.html#tools-and-infrastructure" id="toc-tools-and-infrastructure"><span class="toc-section-number">1.1.4</span> Tools and Infrastructure</a></li>
<li><a href="welcome-and-introductions.html#support-services" id="toc-support-services"><span class="toc-section-number">1.1.5</span> Support Services</a></li>
<li><a href="welcome-and-introductions.html#training-and-outreach" id="toc-training-and-outreach"><span class="toc-section-number">1.1.6</span> Training and Outreach</a></li>
<li><a href="welcome-and-introductions.html#data-rescue" id="toc-data-rescue"><span class="toc-section-number">1.1.7</span> Data Rescue</a></li>
<li><a href="welcome-and-introductions.html#who-must-submit" id="toc-who-must-submit"><span class="toc-section-number">1.1.8</span> Who Must Submit</a></li>
<li><a href="welcome-and-introductions.html#summary" id="toc-summary"><span class="toc-section-number">1.1.9</span> Summary</a></li>
</ul></li>
<li><a href="welcome-and-introductions.html#writing-good-data-management-plans" id="toc-writing-good-data-management-plans"><span class="toc-section-number">1.2</span> Writing Good Data Management Plans</a>
<ul>
<li><a href="welcome-and-introductions.html#learning-objectives-1" id="toc-learning-objectives-1"><span class="toc-section-number">1.2.1</span> Learning Objectives</a></li>
<li><a href="welcome-and-introductions.html#when-to-plan-the-data-life-cycle" id="toc-when-to-plan-the-data-life-cycle"><span class="toc-section-number">1.2.2</span> When to Plan: The Data Life Cycle</a></li>
<li><a href="welcome-and-introductions.html#why-plan" id="toc-why-plan"><span class="toc-section-number">1.2.3</span> Why Plan?</a></li>
<li><a href="welcome-and-introductions.html#how-to-plan" id="toc-how-to-plan"><span class="toc-section-number">1.2.4</span> How to Plan</a></li>
<li><a href="welcome-and-introductions.html#what-to-include-in-a-dmp" id="toc-what-to-include-in-a-dmp"><span class="toc-section-number">1.2.5</span> What to include in a DMP</a></li>
<li><a href="welcome-and-introductions.html#nsf-dmp-requirements" id="toc-nsf-dmp-requirements"><span class="toc-section-number">1.2.6</span> NSF DMP requirements</a></li>
<li><a href="welcome-and-introductions.html#tools-in-support-of-creating-a-dmp" id="toc-tools-in-support-of-creating-a-dmp"><span class="toc-section-number">1.2.7</span> Tools in Support of Creating a DMP</a></li>
<li><a href="welcome-and-introductions.html#arctic-data-center-support-for-dmps" id="toc-arctic-data-center-support-for-dmps"><span class="toc-section-number">1.2.8</span> Arctic Data Center Support for DMPs</a></li>
<li><a href="welcome-and-introductions.html#sharing-your-dmp" id="toc-sharing-your-dmp"><span class="toc-section-number">1.2.9</span> Sharing Your DMP</a></li>
<li><a href="welcome-and-introductions.html#additional-resources" id="toc-additional-resources"><span class="toc-section-number">1.2.10</span> Additional Resources</a></li>
</ul></li>
</ul></li>
<li><a href="documenting-and-publishing-data.html#documenting-and-publishing-data" id="toc-documenting-and-publishing-data"><span class="toc-section-number">2</span> Documenting and Publishing Data</a>
<ul>
<li><a href="documenting-and-publishing-data.html#data-documentation-and-publishing" id="toc-data-documentation-and-publishing"><span class="toc-section-number">2.1</span> Data Documentation and Publishing</a>
<ul>
<li><a href="documenting-and-publishing-data.html#learning-objectives-2" id="toc-learning-objectives-2"><span class="toc-section-number">2.1.1</span> Learning Objectives</a></li>
<li><a href="documenting-and-publishing-data.html#data-sharing-and-preservation" id="toc-data-sharing-and-preservation"><span class="toc-section-number">2.1.2</span> Data sharing and preservation</a></li>
<li><a href="documenting-and-publishing-data.html#data-repositories-built-for-data-and-code" id="toc-data-repositories-built-for-data-and-code"><span class="toc-section-number">2.1.3</span> Data repositories: built for data (and code)</a></li>
<li><a href="documenting-and-publishing-data.html#metadata" id="toc-metadata"><span class="toc-section-number">2.1.4</span> Metadata</a></li>
<li><a href="documenting-and-publishing-data.html#structure-of-a-data-package" id="toc-structure-of-a-data-package"><span class="toc-section-number">2.1.5</span> Structure of a data package</a></li>
<li><a href="documenting-and-publishing-data.html#dataone-federation" id="toc-dataone-federation"><span class="toc-section-number">2.1.6</span> DataONE Federation</a></li>
<li><a href="documenting-and-publishing-data.html#publishing-data-from-the-web" id="toc-publishing-data-from-the-web"><span class="toc-section-number">2.1.7</span> Publishing data from the web</a></li>
</ul></li>
</ul></li>
<li><a href="literate-analysis-with-rmarkdown.html#literate-analysis-with-rmarkdown" id="toc-literate-analysis-with-rmarkdown"><span class="toc-section-number">3</span> Literate Analysis with RMarkdown</a>
<ul>
<li><a href="literate-analysis-with-rmarkdown.html#rstudio-setup" id="toc-rstudio-setup"><span class="toc-section-number">3.1</span> RStudio Setup</a>
<ul>
<li><a href="literate-analysis-with-rmarkdown.html#learning-objectives-3" id="toc-learning-objectives-3"><span class="toc-section-number">3.1.1</span> Learning Objectives</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#logging-into-the-rstudio-server" id="toc-logging-into-the-rstudio-server"><span class="toc-section-number">3.1.2</span> Logging into the RStudio server</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#why-use-an-r-project" id="toc-why-use-an-r-project"><span class="toc-section-number">3.1.3</span> Why use an R project?</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#understand-how-to-use-paths-and-working-directories" id="toc-understand-how-to-use-paths-and-working-directories"><span class="toc-section-number">3.1.4</span> Understand how to use paths and working directories</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#organizing-your-project" id="toc-organizing-your-project"><span class="toc-section-number">3.1.5</span> Organizing your project</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#summary-1" id="toc-summary-1"><span class="toc-section-number">3.1.6</span> Summary</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#setting-up-git" id="toc-setting-up-git"><span class="toc-section-number">3.1.7</span> Setting up git</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#github-authentication" id="toc-github-authentication"><span class="toc-section-number">3.1.8</span> GitHub Authentication</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#setting-up-the-r-environment-on-your-local-computer" id="toc-setting-up-the-r-environment-on-your-local-computer"><span class="toc-section-number">3.1.9</span> Setting up the R environment on your local computer</a></li>
</ul></li>
<li><a href="literate-analysis-with-rmarkdown.html#literate-analysis-with-rmarkdown-1" id="toc-literate-analysis-with-rmarkdown-1"><span class="toc-section-number">3.2</span> Literate Analysis with RMarkdown</a>
<ul>
<li><a href="literate-analysis-with-rmarkdown.html#learning-objectives-4" id="toc-learning-objectives-4"><span class="toc-section-number">3.2.1</span> Learning Objectives</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#introduction-and-motivation" id="toc-introduction-and-motivation"><span class="toc-section-number">3.2.2</span> Introduction and motivation</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#basic-rmarkdown-syntax" id="toc-basic-rmarkdown-syntax"><span class="toc-section-number">3.2.3</span> Basic RMarkdown syntax</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#code-chunks" id="toc-code-chunks"><span class="toc-section-number">3.2.4</span> Code chunks</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#literate-analysis-practice" id="toc-literate-analysis-practice"><span class="toc-section-number">3.2.5</span> Literate analysis practice</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#rmarkdown-and-environments" id="toc-rmarkdown-and-environments"><span class="toc-section-number">3.2.6</span> RMarkdown and environments</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#go-further" id="toc-go-further"><span class="toc-section-number">3.2.7</span> Go Further</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#resources" id="toc-resources"><span class="toc-section-number">3.2.8</span> Resources</a></li>
<li><a href="literate-analysis-with-rmarkdown.html#troubleshooting" id="toc-troubleshooting"><span class="toc-section-number">3.2.9</span> Troubleshooting</a></li>
</ul></li>
</ul></li>
<li><a href="version-control-with-git-and-github.html#version-control-with-git-and-github" id="toc-version-control-with-git-and-github"><span class="toc-section-number">4</span> Version Control with git and GitHub</a>
<ul>
<li><a href="version-control-with-git-and-github.html#learning-objectives-5" id="toc-learning-objectives-5"><span class="toc-section-number">4.1</span> Learning Objectives</a></li>
<li><a href="version-control-with-git-and-github.html#introduction-to-git" id="toc-introduction-to-git"><span class="toc-section-number">4.2</span> Introduction to <code>Git</code></a>
<ul>
<li><a href="version-control-with-git-and-github.html#a-motivating-example" id="toc-a-motivating-example"><span class="toc-section-number">4.2.1</span> A Motivating Example</a></li>
<li><a href="version-control-with-git-and-github.html#version-control-and-collaboration-using-git-and-github" id="toc-version-control-and-collaboration-using-git-and-github"><span class="toc-section-number">4.2.2</span> Version control and Collaboration using <code>Git</code> and GitHub</a></li>
<li><a href="version-control-with-git-and-github.html#lets-look-at-a-github-repository" id="toc-lets-look-at-a-github-repository"><span class="toc-section-number">4.2.3</span> Let’s look at a GitHub repository</a></li>
<li><a href="version-control-with-git-and-github.html#the-git-lifecycle" id="toc-the-git-lifecycle"><span class="toc-section-number">4.2.4</span> The <code>Git</code> Lifecycle</a></li>
</ul></li>
<li><a href="version-control-with-git-and-github.html#create-a-remote-repository-on-github" id="toc-create-a-remote-repository-on-github"><span class="toc-section-number">4.3</span> Create a remote repository on GitHub</a>
<ul>
<li><a href="version-control-with-git-and-github.html#setup-2" id="toc-setup-2">Setup</a></li>
<li><a href="version-control-with-git-and-github.html#section-6" id="toc-section-6"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-5" id="toc-challenge-5">Challenge</a></li>
<li><a href="version-control-with-git-and-github.html#section-7" id="toc-section-7"></a></li>
</ul></li>
<li><a href="version-control-with-git-and-github.html#working-locally-with-git-via-rstudio" id="toc-working-locally-with-git-via-rstudio"><span class="toc-section-number">4.4</span> Working locally with <code>Git</code> via RStudio</a>
<ul>
<li><a href="version-control-with-git-and-github.html#setup-3" id="toc-setup-3">Setup</a></li>
<li><a href="version-control-with-git-and-github.html#section-8" id="toc-section-8"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-6" id="toc-challenge-6">Challenge</a></li>
<li><a href="version-control-with-git-and-github.html#section-9" id="toc-section-9"></a></li>
<li><a href="version-control-with-git-and-github.html#aside-3" id="toc-aside-3">Aside</a></li>
<li><a href="version-control-with-git-and-github.html#collaboration-and-conflict-free-workflows" id="toc-collaboration-and-conflict-free-workflows">Collaboration and conflict free workflows</a></li>
</ul></li>
<li><a href="version-control-with-git-and-github.html#setting-up-git-on-an-existing-project" id="toc-setting-up-git-on-an-existing-project"><span class="toc-section-number">4.5</span> Setting up Git on an existing project</a>
<ul>
<li><a href="version-control-with-git-and-github.html#challenge-7" id="toc-challenge-7">Challenge</a></li>
<li><a href="version-control-with-git-and-github.html#section-10" id="toc-section-10"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-8" id="toc-challenge-8">Challenge</a></li>
<li><a href="version-control-with-git-and-github.html#section-11" id="toc-section-11"></a></li>
</ul></li>
<li><a href="version-control-with-git-and-github.html#go-further-with-git" id="toc-go-further-with-git"><span class="toc-section-number">4.6</span> Go Further with <code>Git</code></a></li>
<li><a href="version-control-with-git-and-github.html#additional-git-resources" id="toc-additional-git-resources"><span class="toc-section-number">4.7</span> Additional <code>Git</code> Resources</a></li>
</ul></li>
<li><a href="git-collaboration-and-conflict-management.html#git-collaboration-and-conflict-management" id="toc-git-collaboration-and-conflict-management"><span class="toc-section-number">5</span> git Collaboration and Conflict Management</a>
<ul>
<li><a href="git-collaboration-and-conflict-management.html#learning-objectives-6" id="toc-learning-objectives-6"><span class="toc-section-number">5.1</span> Learning Objectives</a></li>
<li><a href="git-collaboration-and-conflict-management.html#introduction" id="toc-introduction"><span class="toc-section-number">5.2</span> Introduction</a></li>
<li><a href="git-collaboration-and-conflict-management.html#collaborating-with-a-trusted-colleague-without-conflicts" id="toc-collaborating-with-a-trusted-colleague-without-conflicts"><span class="toc-section-number">5.3</span> Collaborating with a trusted colleague <strong>without conflicts</strong></a>
<ul>
<li><a href="git-collaboration-and-conflict-management.html#setup-4" id="toc-setup-4">Setup</a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-12" id="toc-section-12"></a></li>
<li><a href="git-collaboration-and-conflict-management.html#step-1-collaborator-clone" id="toc-step-1-collaborator-clone"><span class="toc-section-number">5.3.1</span> Step 1: Collaborator clone</a></li>
<li><a href="git-collaboration-and-conflict-management.html#step-2-collaborator-edits" id="toc-step-2-collaborator-edits"><span class="toc-section-number">5.3.2</span> Step 2: Collaborator Edits</a></li>
<li><a href="git-collaboration-and-conflict-management.html#step-3-collaborator-commit-and-push" id="toc-step-3-collaborator-commit-and-push"><span class="toc-section-number">5.3.3</span> Step 3: Collaborator commit and push</a></li>
<li><a href="git-collaboration-and-conflict-management.html#step-4-owner-pull" id="toc-step-4-owner-pull"><span class="toc-section-number">5.3.4</span> Step 4: Owner pull</a></li>
<li><a href="git-collaboration-and-conflict-management.html#step-5-owner-edits-commit-and-push" id="toc-step-5-owner-edits-commit-and-push"><span class="toc-section-number">5.3.5</span> Step 5: Owner edits, commit, and push</a></li>
<li><a href="git-collaboration-and-conflict-management.html#step-6-collaborator-pull" id="toc-step-6-collaborator-pull"><span class="toc-section-number">5.3.6</span> Step 6: Collaborator pull</a></li>
<li><a href="git-collaboration-and-conflict-management.html#challenge-9" id="toc-challenge-9">Challenge</a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-13" id="toc-section-13"></a></li>
</ul></li>
<li><a href="git-collaboration-and-conflict-management.html#merge-conflicts" id="toc-merge-conflicts"><span class="toc-section-number">5.4</span> Merge conflicts</a></li>
<li><a href="git-collaboration-and-conflict-management.html#how-to-resolve-a-conflict" id="toc-how-to-resolve-a-conflict"><span class="toc-section-number">5.5</span> How to resolve a conflict</a>
<ul>
<li><a href="git-collaboration-and-conflict-management.html#abort-abort-abort" id="toc-abort-abort-abort">Abort, abort, abort…</a></li>
<li><a href="git-collaboration-and-conflict-management.html#checkout" id="toc-checkout">Checkout</a></li>
<li><a href="git-collaboration-and-conflict-management.html#pull-and-edit-the-file" id="toc-pull-and-edit-the-file">Pull and edit the file</a></li>
<li><a href="git-collaboration-and-conflict-management.html#producing-and-resolving-merge-conflicts" id="toc-producing-and-resolving-merge-conflicts"><span class="toc-section-number">5.5.1</span> Producing and resolving merge conflicts</a></li>
<li><a href="git-collaboration-and-conflict-management.html#merge-conflict-challenge" id="toc-merge-conflict-challenge">Merge Conflict Challenge</a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-14" id="toc-section-14"></a></li>
</ul></li>
<li><a href="git-collaboration-and-conflict-management.html#workflows-to-avoid-merge-conflicts" id="toc-workflows-to-avoid-merge-conflicts"><span class="toc-section-number">5.6</span> Workflows to avoid merge conflicts</a></li>
</ul></li>
<li><a href="social-aspects-of-collaboration.html#social-aspects-of-collaboration" id="toc-social-aspects-of-collaboration"><span class="toc-section-number">6</span> Social Aspects of Collaboration</a>
<ul>
<li><a href="social-aspects-of-collaboration.html#thinking-preferences" id="toc-thinking-preferences"><span class="toc-section-number">6.1</span> Thinking preferences</a>
<ul>
<li><a href="social-aspects-of-collaboration.html#learning-objectives-7" id="toc-learning-objectives-7"><span class="toc-section-number">6.1.1</span> Learning Objectives</a></li>
<li><a href="social-aspects-of-collaboration.html#thinking-preferences-activity" id="toc-thinking-preferences-activity"><span class="toc-section-number">6.1.2</span> Thinking Preferences Activity</a></li>
<li><a href="social-aspects-of-collaboration.html#about-the-whole-brain-thinking-system" id="toc-about-the-whole-brain-thinking-system"><span class="toc-section-number">6.1.3</span> About the Whole Brain Thinking System</a></li>
</ul></li>
<li><a href="social-aspects-of-collaboration.html#developing-a-code-of-conduct" id="toc-developing-a-code-of-conduct"><span class="toc-section-number">6.2</span> Developing a Code of Conduct</a></li>
<li><a href="social-aspects-of-collaboration.html#authorship-and-credit-policies" id="toc-authorship-and-credit-policies"><span class="toc-section-number">6.3</span> Authorship and Credit Policies</a></li>
<li><a href="social-aspects-of-collaboration.html#data-sharing-and-reuse-policies" id="toc-data-sharing-and-reuse-policies"><span class="toc-section-number">6.4</span> Data Sharing and Reuse Policies</a>
<ul>
<li><a href="social-aspects-of-collaboration.html#community-principles-care-and-fair" id="toc-community-principles-care-and-fair"><span class="toc-section-number">6.4.1</span> Community Principles: CARE and FAIR</a></li>
</ul></li>
<li><a href="social-aspects-of-collaboration.html#research-data-publishing-ethics" id="toc-research-data-publishing-ethics"><span class="toc-section-number">6.5</span> Research Data Publishing Ethics</a>
<ul>
<li><a href="social-aspects-of-collaboration.html#discussion-data-publishing-policies" id="toc-discussion-data-publishing-policies">Discussion: Data publishing policies</a></li>
<li><a href="social-aspects-of-collaboration.html#section-16" id="toc-section-16"></a></li>
</ul></li>
<li><a href="social-aspects-of-collaboration.html#extra-reading" id="toc-extra-reading"><span class="toc-section-number">6.6</span> Extra Reading</a></li>
</ul></li>
<li><a href="data-modeling-essentials.html#data-modeling-essentials" id="toc-data-modeling-essentials"><span class="toc-section-number">7</span> Data Modeling Essentials</a>
<ul>
<li><a href="data-modeling-essentials.html#data-modeling-tidy-data" id="toc-data-modeling-tidy-data"><span class="toc-section-number">7.1</span> Data Modeling &amp; Tidy Data</a>
<ul>
<li><a href="data-modeling-essentials.html#learning-objectives-8" id="toc-learning-objectives-8"><span class="toc-section-number">7.1.1</span> Learning Objectives</a></li>
<li><a href="data-modeling-essentials.html#introduction-1" id="toc-introduction-1"><span class="toc-section-number">7.1.2</span> Introduction</a></li>
<li><a href="data-modeling-essentials.html#recognizing-untidy-data" id="toc-recognizing-untidy-data"><span class="toc-section-number">7.1.3</span> Recognizing untidy data</a></li>
<li><a href="data-modeling-essentials.html#good-enough-data-modeling" id="toc-good-enough-data-modeling"><span class="toc-section-number">7.1.4</span> Good enough data modeling</a></li>
<li><a href="data-modeling-essentials.html#using-normalized-data" id="toc-using-normalized-data"><span class="toc-section-number">7.1.5</span> Using normalized data</a></li>
<li><a href="data-modeling-essentials.html#data-modeling-exercise" id="toc-data-modeling-exercise"><span class="toc-section-number">7.1.6</span> Data modeling exercise</a></li>
<li><a href="data-modeling-essentials.html#resources-1" id="toc-resources-1"><span class="toc-section-number">7.1.7</span> Resources</a></li>
</ul></li>
</ul></li>
<li><a href="cleaning-and-manipulating-data.html#cleaning-and-manipulating-data" id="toc-cleaning-and-manipulating-data"><span class="toc-section-number">8</span> Cleaning and Manipulating Data</a>
<ul>
<li><a href="cleaning-and-manipulating-data.html#data-cleaning-and-manipulation" id="toc-data-cleaning-and-manipulation"><span class="toc-section-number">8.1</span> Data Cleaning and Manipulation</a>
<ul>
<li><a href="cleaning-and-manipulating-data.html#learning-objectives-9" id="toc-learning-objectives-9"><span class="toc-section-number">8.1.1</span> Learning Objectives</a></li>
<li><a href="cleaning-and-manipulating-data.html#introduction-2" id="toc-introduction-2"><span class="toc-section-number">8.1.2</span> Introduction</a></li>
<li><a href="cleaning-and-manipulating-data.html#data-cleaning-basics" id="toc-data-cleaning-basics"><span class="toc-section-number">8.1.3</span> Data Cleaning Basics</a></li>
<li><a href="cleaning-and-manipulating-data.html#joins-in-dplyr" id="toc-joins-in-dplyr"><span class="toc-section-number">8.1.4</span> Joins in dplyr</a></li>
</ul></li>
</ul></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#data-visualization-and-publishing-to-the-web" id="toc-data-visualization-and-publishing-to-the-web"><span class="toc-section-number">9</span> Data Visualization and Publishing to the Web</a>
<ul>
<li><a href="data-visualization-and-publishing-to-the-web.html#publishing-analyses-to-the-web" id="toc-publishing-analyses-to-the-web"><span class="toc-section-number">9.1</span> Publishing Analyses to the Web</a>
<ul>
<li><a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-10" id="toc-learning-objectives-10"><span class="toc-section-number">9.1.1</span> Learning Objectives</a></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#introduction-3" id="toc-introduction-3"><span class="toc-section-number">9.1.2</span> Introduction</a></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#a-minimal-example" id="toc-a-minimal-example"><span class="toc-section-number">9.1.3</span> A Minimal Example</a></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#exercise-sharing-your-work" id="toc-exercise-sharing-your-work"><span class="toc-section-number">9.1.4</span> Exercise: Sharing your work</a></li>
</ul></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#publication-graphics" id="toc-publication-graphics"><span class="toc-section-number">9.2</span> Publication Graphics</a>
<ul>
<li><a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-11" id="toc-learning-objectives-11"><span class="toc-section-number">9.2.1</span> Learning Objectives</a></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#overview-1" id="toc-overview-1"><span class="toc-section-number">9.2.2</span> Overview</a></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#static-figures-using-ggplot2" id="toc-static-figures-using-ggplot2"><span class="toc-section-number">9.2.3</span> Static figures using <code>ggplot2</code></a></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#interactive-visualization-using-leaflet-and-dt" id="toc-interactive-visualization-using-leaflet-and-dt"><span class="toc-section-number">9.2.4</span> Interactive visualization using <code>leaflet</code> and <code>DT</code></a></li>
<li><a href="data-visualization-and-publishing-to-the-web.html#resources-2" id="toc-resources-2"><span class="toc-section-number">9.2.5</span> Resources</a></li>
</ul></li>
</ul></li>
<li><a href="functions-and-packages.html#functions-and-packages" id="toc-functions-and-packages"><span class="toc-section-number">10</span> Functions and Packages</a>
<ul>
<li><a href="functions-and-packages.html#creating-r-functions" id="toc-creating-r-functions"><span class="toc-section-number">10.1</span> Creating R Functions</a>
<ul>
<li><a href="functions-and-packages.html#why-functions" id="toc-why-functions"><span class="toc-section-number">10.1.1</span> Why functions?</a></li>
<li><a href="functions-and-packages.html#documenting-r-functions" id="toc-documenting-r-functions"><span class="toc-section-number">10.1.2</span> Documenting R functions</a></li>
<li><a href="functions-and-packages.html#summary-4" id="toc-summary-4"><span class="toc-section-number">10.1.3</span> Summary</a></li>
<li><a href="functions-and-packages.html#examples-minimizing-work-with-functions" id="toc-examples-minimizing-work-with-functions"><span class="toc-section-number">10.1.4</span> Examples: Minimizing work with functions</a></li>
</ul></li>
<li><a href="functions-and-packages.html#creating-r-packages" id="toc-creating-r-packages"><span class="toc-section-number">10.2</span> Creating R Packages</a>
<ul>
<li><a href="functions-and-packages.html#learning-objectives-12" id="toc-learning-objectives-12"><span class="toc-section-number">10.2.1</span> Learning Objectives</a></li>
<li><a href="functions-and-packages.html#why-packages" id="toc-why-packages"><span class="toc-section-number">10.2.2</span> Why packages?</a></li>
<li><a href="functions-and-packages.html#install-and-load-packages" id="toc-install-and-load-packages"><span class="toc-section-number">10.2.3</span> Install and load packages</a></li>
<li><a href="functions-and-packages.html#create-a-basic-package" id="toc-create-a-basic-package"><span class="toc-section-number">10.2.4</span> Create a basic package</a></li>
<li><a href="functions-and-packages.html#add-your-code" id="toc-add-your-code"><span class="toc-section-number">10.2.5</span> Add your code</a></li>
<li><a href="functions-and-packages.html#add-documentation" id="toc-add-documentation"><span class="toc-section-number">10.2.6</span> Add documentation</a></li>
<li><a href="functions-and-packages.html#test-your-package" id="toc-test-your-package"><span class="toc-section-number">10.2.7</span> Test your package</a></li>
<li><a href="functions-and-packages.html#checking-and-installing-your-package" id="toc-checking-and-installing-your-package"><span class="toc-section-number">10.2.8</span> Checking and installing your package</a></li>
<li><a href="functions-and-packages.html#sharing-and-releasing-your-package" id="toc-sharing-and-releasing-your-package"><span class="toc-section-number">10.2.9</span> Sharing and releasing your package</a></li>
<li><a href="functions-and-packages.html#more-reading" id="toc-more-reading"><span class="toc-section-number">10.2.10</span> More reading</a></li>
</ul></li>
</ul></li>
<li><a href="data-portals.html#data-portals" id="toc-data-portals"><span class="toc-section-number">11</span> Data Portals</a>
<ul>
<li><a href="data-portals.html#what-is-a-portal" id="toc-what-is-a-portal"><span class="toc-section-number">11.1</span> What is a Portal?</a></li>
<li><a href="data-portals.html#portal-uses" id="toc-portal-uses"><span class="toc-section-number">11.2</span> Portal Uses</a></li>
<li><a href="data-portals.html#portal-features" id="toc-portal-features"><span class="toc-section-number">11.3</span> Portal Features</a>
<ul>
<li><a href="data-portals.html#flexible-content-creation" id="toc-flexible-content-creation">Flexible Content Creation</a></li>
<li><a href="data-portals.html#curated-collections-of-data" id="toc-curated-collections-of-data">Curated Collections of Data</a></li>
<li><a href="data-portals.html#customized-search-capabilities" id="toc-customized-search-capabilities">Customized Search Capabilities</a></li>
<li><a href="data-portals.html#metrics-metrics-metrics" id="toc-metrics-metrics-metrics">Metrics, Metrics, Metrics</a></li>
</ul></li>
<li><a href="data-portals.html#enhancing-access-to-social-science-research-data" id="toc-enhancing-access-to-social-science-research-data"><span class="toc-section-number">11.4</span> Enhancing Access to Social Science Research Data</a></li>
<li><a href="data-portals.html#relationship-between-arctic-data-center-portals-and-dataone" id="toc-relationship-between-arctic-data-center-portals-and-dataone"><span class="toc-section-number">11.5</span> Relationship between Arctic Data Center portals and DataONE</a></li>
<li><a href="data-portals.html#creating-portals" id="toc-creating-portals"><span class="toc-section-number">11.6</span> Creating Portals</a>
<ul>
<li><a href="data-portals.html#getting-started-with-portals" id="toc-getting-started-with-portals">Getting Started with Portals</a></li>
<li><a href="data-portals.html#portal-settings-page" id="toc-portal-settings-page">Portal Settings Page</a></li>
<li><a href="data-portals.html#adding-data-to-portals" id="toc-adding-data-to-portals">Adding Data to Portals</a></li>
<li><a href="data-portals.html#building-search-options-for-your-audience" id="toc-building-search-options-for-your-audience">Building Search Options for Your Audience</a></li>
<li><a href="data-portals.html#data-package-metrics" id="toc-data-package-metrics">Data Package Metrics</a></li>
<li><a href="data-portals.html#creating-unique-freeform-pages" id="toc-creating-unique-freeform-pages">Creating Unique Freeform Pages</a></li>
<li><a href="data-portals.html#saving-and-editing-portals" id="toc-saving-and-editing-portals">Saving and Editing Portals</a></li>
</ul></li>
<li><a href="data-portals.html#how-to-publish-portals" id="toc-how-to-publish-portals"><span class="toc-section-number">11.7</span> How to Publish Portals</a></li>
<li><a href="data-portals.html#sharing-portals" id="toc-sharing-portals"><span class="toc-section-number">11.8</span> Sharing Portals</a></li>
<li><a href="data-portals.html#tutorial-videos" id="toc-tutorial-videos"><span class="toc-section-number">11.9</span> Tutorial Videos</a></li>
<li><a href="data-portals.html#acknowledgements" id="toc-acknowledgements"><span class="toc-section-number">11.10</span> Acknowledgements</a></li>
</ul></li>
<li><a href="exercise-cleaning-and-manipulating-data.html#exercise-cleaning-and-manipulating-data" id="toc-exercise-cleaning-and-manipulating-data"><span class="toc-section-number">12</span> Exercise: Cleaning and Manipulating Data</a>
<ul>
<li><a href="exercise-cleaning-and-manipulating-data.html#hands-on-clean-and-integrate-datasets" id="toc-hands-on-clean-and-integrate-datasets"><span class="toc-section-number">12.1</span> Hands On: Clean and Integrate Datasets</a>
<ul>
<li><a href="exercise-cleaning-and-manipulating-data.html#learning-objectives-13" id="toc-learning-objectives-13"><span class="toc-section-number">12.1.1</span> Learning Objectives</a></li>
<li><a href="exercise-cleaning-and-manipulating-data.html#outline" id="toc-outline"><span class="toc-section-number">12.1.2</span> Outline</a></li>
<li><a href="exercise-cleaning-and-manipulating-data.html#full-solution.-warning-spoilers-ahead" id="toc-full-solution.-warning-spoilers-ahead"><span class="toc-section-number">12.1.3</span> Full solution. Warning, spoilers ahead!</a></li>
</ul></li>
</ul></li>
<li><a href="geospatial-vector-analysis.html#geospatial-vector-analysis" id="toc-geospatial-vector-analysis"><span class="toc-section-number">13</span> Geospatial Vector Analysis</a>
<ul>
<li><a href="geospatial-vector-analysis.html#spatial-vector-analysis-using-sf" id="toc-spatial-vector-analysis-using-sf"><span class="toc-section-number">13.1</span> Spatial vector analysis using <code>sf</code></a>
<ul>
<li><a href="geospatial-vector-analysis.html#learning-objectives-14" id="toc-learning-objectives-14"><span class="toc-section-number">13.1.1</span> Learning Objectives</a></li>
<li><a href="geospatial-vector-analysis.html#introduction-4" id="toc-introduction-4"><span class="toc-section-number">13.1.2</span> Introduction</a></li>
<li><a href="geospatial-vector-analysis.html#working-with-geospatial-data" id="toc-working-with-geospatial-data"><span class="toc-section-number">13.1.3</span> Working with geospatial data</a></li>
<li><a href="geospatial-vector-analysis.html#sf-the-tidyverse" id="toc-sf-the-tidyverse"><span class="toc-section-number">13.1.4</span> <code>sf</code> &amp; the Tidyverse</a></li>
<li><a href="geospatial-vector-analysis.html#visualize-with-ggplot" id="toc-visualize-with-ggplot"><span class="toc-section-number">13.1.5</span> Visualize with ggplot</a></li>
<li><a href="geospatial-vector-analysis.html#visualize-sf-objects-with-leaflet" id="toc-visualize-sf-objects-with-leaflet"><span class="toc-section-number">13.1.6</span> Visualize <code>sf</code> objects with leaflet</a></li>
</ul></li>
</ul></li>
<li><a href="reproducibility-and-provenance.html#reproducibility-and-provenance" id="toc-reproducibility-and-provenance"><span class="toc-section-number">14</span> Reproducibility and Provenance</a>
<ul>
<li><a href="reproducibility-and-provenance.html#learning-objectives-15" id="toc-learning-objectives-15"><span class="toc-section-number">14.0.1</span> Learning Objectives</a></li>
<li><a href="reproducibility-and-provenance.html#data-citation-and-transitive-credit" id="toc-data-citation-and-transitive-credit"><span class="toc-section-number">14.0.2</span> Data Citation and Transitive Credit</a></li>
<li><a href="reproducibility-and-provenance.html#reproducible-papers-with-rrtools" id="toc-reproducible-papers-with-rrtools"><span class="toc-section-number">14.0.3</span> Reproducible Papers with <code>rrtools</code></a></li>
<li><a href="reproducibility-and-provenance.html#the-5th-generation-of-reproducible-papers" id="toc-the-5th-generation-of-reproducible-papers">The 5th Generation of Reproducible Papers</a></li>
</ul></li>
<li><a href="appendix.html#appendix" id="toc-appendix"><span class="toc-section-number">15</span> Appendix</a>
<ul>
<li><a href="appendix.html#collaborating-using-git" id="toc-collaborating-using-git"><span class="toc-section-number">15.1</span> Collaborating using Git</a>
<ul>
<li><a href="appendix.html#learning-objectives-16" id="toc-learning-objectives-16"><span class="toc-section-number">15.1.1</span> Learning Objectives</a></li>
<li><a href="appendix.html#pull-requests" id="toc-pull-requests"><span class="toc-section-number">15.1.2</span> Pull requests</a></li>
<li><a href="appendix.html#exercise-create-and-merge-pull-requests" id="toc-exercise-create-and-merge-pull-requests"><span class="toc-section-number">15.1.3</span> Exercise: Create and merge pull requests</a></li>
<li><a href="appendix.html#branches" id="toc-branches"><span class="toc-section-number">15.1.4</span> Branches</a></li>
</ul></li>
<li><a href="appendix.html#programming-metadata-and-data-publishing" id="toc-programming-metadata-and-data-publishing"><span class="toc-section-number">15.2</span> Programming Metadata and Data Publishing</a>
<ul>
<li><a href="appendix.html#learning-objectives-17" id="toc-learning-objectives-17"><span class="toc-section-number">15.2.1</span> Learning Objectives</a></li>
<li><a href="appendix.html#creating-metadata" id="toc-creating-metadata"><span class="toc-section-number">15.2.2</span> Creating Metadata</a></li>
<li><a href="appendix.html#publish-data-to-the-arctic-data-center-test-site" id="toc-publish-data-to-the-arctic-data-center-test-site"><span class="toc-section-number">15.2.3</span> Publish data to the Arctic Data Center test site</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Practices for Arctic Research Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization-and-publishing-to-the-web" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Data Visualization and Publishing to the Web<a href="data-visualization-and-publishing-to-the-web.html#data-visualization-and-publishing-to-the-web" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="publishing-analyses-to-the-web" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Publishing Analyses to the Web<a href="data-visualization-and-publishing-to-the-web.html#publishing-analyses-to-the-web" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="learning-objectives-10" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Learning Objectives<a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-10" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this lesson, you will learn:</p>
<ul>
<li>How to use git, GitHub (+Pages), and (R)Markdown to publish an analysis to the web</li>
</ul>
</div>
<div id="introduction-3" class="section level3 hasAnchor" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> Introduction<a href="data-visualization-and-publishing-to-the-web.html#introduction-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sharing your work with others in engaging ways is an important part of the scientific process.
So far in this course, we’ve introduced a small set of powerful tools for doing open science:</p>
<ul>
<li>R and its many packages</li>
<li>RStudio</li>
<li>git</li>
<li>GiHub</li>
<li>RMarkdown</li>
</ul>
<p>RMarkdown, in particular, is amazingly powerful for creating scientific reports but, so far, we haven’t tapped its full potential for sharing our work with others.</p>
<p>In this lesson, we’re going to take an existing GitHub repository and turn it into a beautiful and easy to read web page using the tools listed above.</p>
</div>
<div id="a-minimal-example" class="section level3 hasAnchor" number="9.1.3">
<h3><span class="header-section-number">9.1.3</span> A Minimal Example<a href="data-visualization-and-publishing-to-the-web.html#a-minimal-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Use your existing <code>training_username</code> repository</li>
<li>Add a new file at the top level called <code>index.Rmd</code>. The easiest way to do this is through the RStudio menu. Choose File -&gt; New File -&gt; RMarkdown… This will bring up a dialog box. You should create a “Document” in “HTML” format. These are the default options. Be sure to use the exact capitalization (lower case ‘index’) as different operating systems handle capitalization differently and it can interfere with loading your web page later.</li>
<li>Open <code>index.Rmd</code> (if it isn’t already open)</li>
<li>Press Knit
<ul>
<li>Observe the rendered output</li>
<li>Notice the new file in the same directory <code>index.html</code>.</li>
<li>This is our RMarkdown file rendered as HTML (a web page)</li>
</ul></li>
<li>Commit your changes (to both index.Rmd and index.html) and push to GitHub</li>
<li>Open your web browser to the GitHub.com page for your repository</li>
<li>Go to Settings &gt; GitHub Pages and turn on GitHub Pages for the <code>main</code> branch</li>
</ul>
<p>Now, the rendered website version of your repo will show up at a special URL.</p>
<p>GitHub Pages follows a convention like this:</p>
<div class="figure">
<img src="images/github_pages.png" alt="" />
<p class="caption">github pages url pattern</p>
</div>
<p>Note that it will no longer be at github.com but github.io</p>
<ul>
<li>Go to <a href="https://%7Busername%7D.github.io/%7Brepo_name%7D/" class="uri">https://{username}.github.io/{repo_name}/</a> (Note the trailing <code>/</code>)
Observe the awesome rendered output</li>
</ul>
<p>Now that we’ve successfully published a web page from an RMarkdown document, let’s make a change to our RMarkdown document and follow the steps to actually publish the change on the web:</p>
<ul>
<li>Go back to our <code>index.Rmd</code></li>
<li>Delete all the content, except the YAML frontmatter</li>
<li>Type “Hello world”</li>
<li>Commit, push</li>
<li>Go back to <a href="https://%7Busername%7D.github.io/%7Brepo_name%7D/" class="uri">https://{username}.github.io/{repo_name}/</a></li>
</ul>
</div>
<div id="exercise-sharing-your-work" class="section level3 hasAnchor" number="9.1.4">
<h3><span class="header-section-number">9.1.4</span> Exercise: Sharing your work<a href="data-visualization-and-publishing-to-the-web.html#exercise-sharing-your-work" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>RMarkdown web pages are a great way to share work in progress with your colleagues. To do so simply requires thinking through your presentation so that it highlights the workflow to be reviewed. You can also include multiple pages and build a simple web site for walking through your work that is accessible to people who aren’t all set up to open your content in R. In this exercise, we’ll publish another RMarkdown page, and create a table of contents on the main page to guide people to the main page.</p>
<p>First, in your training repository, create a new RMarkdown file that describes some piece of your work and note the name. I’ll use an RMarkdown named <code>data-cleaning.Rmd</code>.</p>
<p>Once you have an RMarkdown created, <code>Knit</code> the document which will create the HTML version of the file, which in this case will be named <code>data-cleaning.html</code>.</p>
<p>Now, return to editing your <code>index.Rmd</code> file from the beginning of this lesson. The index file represents the ‘default’ file for a web site, and is returned whenever you visit the web site but don’t specify an explicit file to be returned. Let’s modify the index page, adding a bulleted list, and in that list, include a link to the new markdown page that we created:</p>
<pre><code>## Analysis plan

- [Data Cleaning](data-cleaning.html)
- Data Interpolation and Gap filling
- Linear models
- Animal movement models based on telemetry
- Data visualization</code></pre>
<p>Commit and push the web page to GitHub. Now when you visit your web site, you’ll see the table of contents, and can navigate to the new data cleaning page.</p>
<p><img src="images/git-index-page.png" /></p>
</div>
</div>
<div id="publication-graphics" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Publication Graphics<a href="data-visualization-and-publishing-to-the-web.html#publication-graphics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="learning-objectives-11" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Learning Objectives<a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-11" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this lesson, you will learn:</p>
<ul>
<li>The basics of the <code>ggplot2</code> package to create static plots</li>
<li>How to use <code>ggplot2</code>’s theming abilities to create publication-grade graphics</li>
<li>The basics of the <code>leaflet</code> package to create interactive maps</li>
</ul>
</div>
<div id="overview-1" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Overview<a href="data-visualization-and-publishing-to-the-web.html#overview-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>ggplot2 is a popular package for visualizing data in R.
From the <a href="http://ggplot2.tidyverse.org/">home page</a>:</p>
<blockquote>
<p>ggplot2 is a system for declaratively creating graphics, based on The Grammar of Graphics. You provide the data, tell ggplot2 how to map variables to aesthetics, what graphical primitives to use, and it takes care of the details.
It’s been around for years and has pretty good documentation and tons of example code around the web (like on <a href="https://stackoverflow.com/questions/tagged/ggplot2">StackOverflow</a>).
This lesson will introduce you to the basic components of working with ggplot2.</p>
</blockquote>
<div id="ggplot-vs-base-vs-lattice-vs-xyz" class="section level4 unnumbered hasAnchor">
<h4>ggplot vs base vs lattice vs XYZ…<a href="data-visualization-and-publishing-to-the-web.html#ggplot-vs-base-vs-lattice-vs-xyz" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>R provides <strong>many</strong> ways to get your data into a plot.
Three common ones are,</p>
<ul>
<li>“base graphics” (<code>plot()</code>, <code>hist()</code>, etc`)</li>
<li>lattice</li>
<li>ggplot2</li>
</ul>
<p>All of them work!
I use base graphics for simple, quick and dirty plots.
I use ggplot2 for most everything else.
ggplot2 excels at making complicated plots easy and easy plots simple enough.</p>
</div>
<div id="setup-6" class="section level4 unnumbered setup hasAnchor">
<h4>Setup<a href="data-visualization-and-publishing-to-the-web.html#setup-6" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Open a new RMarkdown document and remove the filler text.</p>
<p>First, let’s load the packages we’ll need:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="data-visualization-and-publishing-to-the-web.html#cb88-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(leaflet)</span>
<span id="cb88-2"><a href="data-visualization-and-publishing-to-the-web.html#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(dplyr)</span>
<span id="cb88-3"><a href="data-visualization-and-publishing-to-the-web.html#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(tidyr)</span>
<span id="cb88-4"><a href="data-visualization-and-publishing-to-the-web.html#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ggplot2)</span>
<span id="cb88-5"><a href="data-visualization-and-publishing-to-the-web.html#cb88-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(DT)</span>
<span id="cb88-6"><a href="data-visualization-and-publishing-to-the-web.html#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(scales) <span class="co"># install.packages(&quot;scales&quot;)</span></span></code></pre></div>
<p>Load the data table directly from the KNB Data Repository, if it isn’t already present on your local computer. This technique only downloads the file if you need it.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-visualization-and-publishing-to-the-web.html#cb89-1" aria-hidden="true" tabindex="-1"></a>data_url <span class="ot">&lt;-</span> <span class="st">&quot;https://knb.ecoinformatics.org/knb/d1/mn/v2/object/urn%3Auuid%3Af119a05b-bbe7-4aea-93c6-85434dcb1c5e&quot;</span></span>
<span id="cb89-2"><a href="data-visualization-and-publishing-to-the-web.html#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="data-visualization-and-publishing-to-the-web.html#cb89-3" aria-hidden="true" tabindex="-1"></a>esc <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>(</span>
<span id="cb89-4"><a href="data-visualization-and-publishing-to-the-web.html#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">read.csv</span>(<span class="st">&quot;data/escapement.csv&quot;</span>),</span>
<span id="cb89-5"><a href="data-visualization-and-publishing-to-the-web.html#cb89-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">error=</span><span class="cf">function</span>(cond) {</span>
<span id="cb89-6"><a href="data-visualization-and-publishing-to-the-web.html#cb89-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">&quot;Escapement file does not seem to exist, so get it from the KNB.&quot;</span>))</span>
<span id="cb89-7"><a href="data-visualization-and-publishing-to-the-web.html#cb89-7" aria-hidden="true" tabindex="-1"></a>        esc <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">url</span>(data_url, <span class="at">method =</span> <span class="st">&quot;libcurl&quot;</span>))</span>
<span id="cb89-8"><a href="data-visualization-and-publishing-to-the-web.html#cb89-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(esc)</span>
<span id="cb89-9"><a href="data-visualization-and-publishing-to-the-web.html#cb89-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb89-10"><a href="data-visualization-and-publishing-to-the-web.html#cb89-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb89-11"><a href="data-visualization-and-publishing-to-the-web.html#cb89-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-12"><a href="data-visualization-and-publishing-to-the-web.html#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(esc)</span></code></pre></div>
</div>
<div id="challenge-18" class="section level4 unnumbered exercise hasAnchor">
<h4>Challenge<a href="data-visualization-and-publishing-to-the-web.html#challenge-18" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now that we have the data loaded, use your <code>dplyr</code> and <code>tidyr</code> skills to calculate annual escapement by species and region.</p>
<p>Hint: try to use <code>separate</code> to extract the year, month, and day from the date column.</p>
</div>
<div id="section-24" class="section level4 unnumbered">
<h4 class="unnumbered"></h4>
<p>Here is the solution:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="data-visualization-and-publishing-to-the-web.html#cb90-1" aria-hidden="true" tabindex="-1"></a>annual_esc <span class="ot">&lt;-</span> esc <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="data-visualization-and-publishing-to-the-web.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(sampleDate, <span class="fu">c</span>(<span class="st">&quot;Year&quot;</span>, <span class="st">&quot;Month&quot;</span>, <span class="st">&quot;Day&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb90-3"><a href="data-visualization-and-publishing-to-the-web.html#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.numeric</span>(Year)) <span class="sc">%&gt;%</span> </span>
<span id="cb90-4"><a href="data-visualization-and-publishing-to-the-web.html#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Species, SASAP.Region, Year) <span class="sc">%&gt;%</span> </span>
<span id="cb90-5"><a href="data-visualization-and-publishing-to-the-web.html#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">escapement =</span> <span class="fu">sum</span>(DailyCount)) <span class="sc">%&gt;%</span> </span>
<span id="cb90-6"><a href="data-visualization-and-publishing-to-the-web.html#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Chinook&quot;</span>, <span class="st">&quot;Sockeye&quot;</span>, <span class="st">&quot;Chum&quot;</span>, <span class="st">&quot;Coho&quot;</span>, <span class="st">&quot;Pink&quot;</span>))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;Species&#39;, &#39;SASAP.Region&#39;.
## You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-visualization-and-publishing-to-the-web.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(annual_esc)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
## # Groups:   Species, SASAP.Region [1]
##   Species SASAP.Region                           Year escapement
##   &lt;chr&gt;   &lt;chr&gt;                                 &lt;dbl&gt;      &lt;int&gt;
## 1 Chinook Alaska Peninsula and Aleutian Islands  1974       1092
## 2 Chinook Alaska Peninsula and Aleutian Islands  1975       1917
## 3 Chinook Alaska Peninsula and Aleutian Islands  1976       3045
## 4 Chinook Alaska Peninsula and Aleutian Islands  1977       4844
## 5 Chinook Alaska Peninsula and Aleutian Islands  1978       3901
## 6 Chinook Alaska Peninsula and Aleutian Islands  1979      10463</code></pre>
<p>The chunck above used a lot of the dplyr commands that we’ve used, and some that are new. The <code>separate</code> function is used to divide the sampleDate column up into Year, Month, and Day columns, and then we use <code>group_by</code> to indicate that we want to calculate our results for the unique combinations of species, region, and year. We next use <code>summarize</code> to calculate an escapement value for each of these groups. Finally, we use a filter and the <code>%in%</code> operator to select only the salmon species.</p>
</div>
</div>
<div id="static-figures-using-ggplot2" class="section level3 hasAnchor" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> Static figures using <code>ggplot2</code><a href="data-visualization-and-publishing-to-the-web.html#static-figures-using-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Every graphic you make in <code>ggplot2</code> will have at least one aesthetic and at least one geom (layer). The aesthetic maps your data to your geometry (layer). Your geometry specifies the type of plot we’re making (point, bar, etc.).</p>
<p>Now, let’s plot our results using <code>ggplot</code>. <code>ggplot</code> uses a mapping <em>aesthetic</em> (set using <code>aes()</code>) and a <em>geometry</em> to create your plot. Additional geometries/aesthetics and theme elements can be added to a <code>ggplot</code> object using <code>+</code>.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="data-visualization-and-publishing-to-the-web.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(annual_esc, </span>
<span id="cb94-2"><a href="data-visualization-and-publishing-to-the-web.html#cb94-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Species, <span class="at">y =</span> escapement)) <span class="sc">+</span></span>
<span id="cb94-3"><a href="data-visualization-and-publishing-to-the-web.html#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/plot_esc-1.png" width="672" /></p>
<p>What if we want our bars to be blue instead of gray? You might think we could run this:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-visualization-and-publishing-to-the-web.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(annual_esc, </span>
<span id="cb95-2"><a href="data-visualization-and-publishing-to-the-web.html#cb95-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Species, <span class="at">y =</span> escapement, </span>
<span id="cb95-3"><a href="data-visualization-and-publishing-to-the-web.html#cb95-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb95-4"><a href="data-visualization-and-publishing-to-the-web.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>Why did that happen?</p>
<p>Notice that we tried to set the fill color of the plot inside the mapping aesthetic call. What we have done, behind the scenes, is create a column filled with the word “blue” in our dataframe, and then mapped it to the <code>fill</code> aesthetic, which then chose the default fill color of red.</p>
<p>What we really wanted to do was just change the color of the bars. If we want do do that, we can call the color option in the <code>geom_bar</code> function, <strong>outside</strong> of the mapping aesthetics function call.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="data-visualization-and-publishing-to-the-web.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(annual_esc, </span>
<span id="cb96-2"><a href="data-visualization-and-publishing-to-the-web.html#cb96-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Species, <span class="at">y =</span> escapement)) <span class="sc">+</span></span>
<span id="cb96-3"><a href="data-visualization-and-publishing-to-the-web.html#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<p>What if we did want to map the color of the bars to a variable, such as region.</p>
<p><code>ggplot</code> is really powerful because we can easily get this plot to visualize more aspects of our data.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-visualization-and-publishing-to-the-web.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(annual_esc, </span>
<span id="cb97-2"><a href="data-visualization-and-publishing-to-the-web.html#cb97-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Species, <span class="at">y =</span> escapement, </span>
<span id="cb97-3"><a href="data-visualization-and-publishing-to-the-web.html#cb97-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> SASAP.Region)) <span class="sc">+</span></span>
<span id="cb97-4"><a href="data-visualization-and-publishing-to-the-web.html#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<div id="aside-8" class="section level4 unnumbered aside hasAnchor">
<h4>Aside<a href="data-visualization-and-publishing-to-the-web.html#aside-8" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong><code>ggplot2</code> and the pipe operator</strong></p>
<p>Just like in <code>dplyr</code> and <code>tidyr</code>, we can also pipe a <code>data.frame</code> directly into the first argument of the <code>ggplot</code> function using the <code>%&gt;%</code> operator.</p>
<p>Let’s look at an example using a different geometry. Here, we use the pipe operator to pass in a filtered version of <code>annual_esc</code>, and make a line plot with points at each observation.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="data-visualization-and-publishing-to-the-web.html#cb98-1" aria-hidden="true" tabindex="-1"></a>annual_esc <span class="sc">%&gt;%</span> </span>
<span id="cb98-2"><a href="data-visualization-and-publishing-to-the-web.html#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SASAP.Region <span class="sc">==</span> <span class="st">&quot;Kodiak&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb98-3"><a href="data-visualization-and-publishing-to-the-web.html#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> escapement, <span class="at">color =</span> Species)) <span class="sc">+</span> </span>
<span id="cb98-4"><a href="data-visualization-and-publishing-to-the-web.html#cb98-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb98-5"><a href="data-visualization-and-publishing-to-the-web.html#cb98-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<p>This can certainly be convenient, especially for cases like the above, but use it carefully! Combining too many data-tidying or subsetting operations with your <code>ggplot</code> call can make your code more difficult to debug and understand.</p>
</div>
<div id="setting-ggplot-themes" class="section level4 unnumbered hasAnchor">
<h4>Setting ggplot themes<a href="data-visualization-and-publishing-to-the-web.html#setting-ggplot-themes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now let’s work on making this plot look a bit nicer. Add a title using <code>ggtitle()</code>, adjust labels using <code>ylab()</code>, and include a built in theme using <code>theme_bw()</code>. There are a wide variety of built in themes in ggplot that help quickly set the look of the plot. Use the RStudio autocomplete <code>theme_</code> <code>&lt;TAB&gt;</code> to view a list of theme functions.</p>
<p>For clarity in the next section, I’ll save the filtered version of the annual escapement <code>data.frame</code> to it’s own object.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="data-visualization-and-publishing-to-the-web.html#cb99-1" aria-hidden="true" tabindex="-1"></a>kodiak_esc <span class="ot">&lt;-</span> annual_esc <span class="sc">%&gt;%</span> </span>
<span id="cb99-2"><a href="data-visualization-and-publishing-to-the-web.html#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SASAP.Region <span class="sc">==</span> <span class="st">&quot;Kodiak&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="data-visualization-and-publishing-to-the-web.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(kodiak_esc, </span>
<span id="cb100-2"><a href="data-visualization-and-publishing-to-the-web.html#cb100-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> escapement, </span>
<span id="cb100-3"><a href="data-visualization-and-publishing-to-the-web.html#cb100-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Species)) <span class="sc">+</span> </span>
<span id="cb100-4"><a href="data-visualization-and-publishing-to-the-web.html#cb100-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb100-5"><a href="data-visualization-and-publishing-to-the-web.html#cb100-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb100-6"><a href="data-visualization-and-publishing-to-the-web.html#cb100-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb100-7"><a href="data-visualization-and-publishing-to-the-web.html#cb100-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Kodiak Salmon Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb100-8"><a href="data-visualization-and-publishing-to-the-web.html#cb100-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
<p>You can see that the <code>theme_bw()</code> function changed a lot of the aspects of our plot! The background is white, the grid is a different color, etc. There are lots of other built in themes like this that come with the <code>ggplot2</code> package.</p>
</div>
<div id="challenge-19" class="section level4 unnumbered exercise hasAnchor">
<h4>Challenge<a href="data-visualization-and-publishing-to-the-web.html#challenge-19" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use the RStudio autocomplete, the <code>ggplot2</code> documentation, a cheatsheet, or good old google to find other built in themes. Pick out your favorite one and add it to your plot.</p>
</div>
<div id="section-25" class="section level4 unnumbered">
<h4 class="unnumbered"></h4>
<p>The built in theme functions change the default settings for many elements that can also be changed invididually using the<code>theme()</code> function. The <code>theme()</code> function is a way to further fine-tune the look of your plot. This function takes MANY arguments (just have a look at <code>?theme</code>). Luckily there are many great ggplot resources online so we don’t have to remember all of these, just google “ggplot cheatsheet” and find one you like.</p>
<p>Let’s look at an example of a <code>theme</code> call, where we change the position of our plot above from the right side to the bottom, and remove the title from the legend.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="data-visualization-and-publishing-to-the-web.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(kodiak_esc, </span>
<span id="cb101-2"><a href="data-visualization-and-publishing-to-the-web.html#cb101-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> escapement, </span>
<span id="cb101-3"><a href="data-visualization-and-publishing-to-the-web.html#cb101-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Species)) <span class="sc">+</span> </span>
<span id="cb101-4"><a href="data-visualization-and-publishing-to-the-web.html#cb101-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb101-5"><a href="data-visualization-and-publishing-to-the-web.html#cb101-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb101-6"><a href="data-visualization-and-publishing-to-the-web.html#cb101-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb101-7"><a href="data-visualization-and-publishing-to-the-web.html#cb101-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Kodiak Salmon Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb101-8"><a href="data-visualization-and-publishing-to-the-web.html#cb101-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb101-9"><a href="data-visualization-and-publishing-to-the-web.html#cb101-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb101-10"><a href="data-visualization-and-publishing-to-the-web.html#cb101-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<p>Note that the <code>theme()</code> call needs to come after any built in themes like <code>theme_bw()</code> are used. Otherwise, <code>theme_bw()</code> will likely override any theme elements that you changed using <code>theme()</code>.</p>
<p>You can also save the result of a series of <code>theme()</code> function calls to an object to use on multiple plots. This prevents needing to copy paste the same lines over and over again!</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-visualization-and-publishing-to-the-web.html#cb102-1" aria-hidden="true" tabindex="-1"></a>my_theme <span class="ot">&lt;-</span> <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb102-2"><a href="data-visualization-and-publishing-to-the-web.html#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb102-3"><a href="data-visualization-and-publishing-to-the-web.html#cb102-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="data-visualization-and-publishing-to-the-web.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(kodiak_esc, </span>
<span id="cb103-2"><a href="data-visualization-and-publishing-to-the-web.html#cb103-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Year, </span>
<span id="cb103-3"><a href="data-visualization-and-publishing-to-the-web.html#cb103-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> escapement, </span>
<span id="cb103-4"><a href="data-visualization-and-publishing-to-the-web.html#cb103-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Species)) <span class="sc">+</span> </span>
<span id="cb103-5"><a href="data-visualization-and-publishing-to-the-web.html#cb103-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb103-6"><a href="data-visualization-and-publishing-to-the-web.html#cb103-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb103-7"><a href="data-visualization-and-publishing-to-the-web.html#cb103-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb103-8"><a href="data-visualization-and-publishing-to-the-web.html#cb103-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Kodiak Salmon Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb103-9"><a href="data-visualization-and-publishing-to-the-web.html#cb103-9" aria-hidden="true" tabindex="-1"></a>    my_theme</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
</div>
<div id="challenge-20" class="section level4 unnumbered exercise hasAnchor">
<h4>Challenge<a href="data-visualization-and-publishing-to-the-web.html#challenge-20" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Using whatever method you like, figure out how to rotate the x-axis tick labels to a 45 degree angle.</p>
</div>
<div id="smarter-tick-labels-using-scales" class="section level4 unnumbered hasAnchor">
<h4>Smarter tick labels using <code>scales</code><a href="data-visualization-and-publishing-to-the-web.html#smarter-tick-labels-using-scales" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Fixing tick labels in <code>ggplot</code> can be super annoying. The y-axis labels in the plot above don’t look great. We could manually fix them, but it would likely be tedious and error prone.</p>
<p>The <code>scales</code> package provides some nice helper functions to easily rescale and relabel your plots. Here, we use <code>scale_y_continuous</code> from <code>ggplot2</code>, with the argument <code>labels</code>, which is assigned to the function name <code>comma</code>, from the <code>scales</code> package. This will format all of the labels on the y-axis of our plot with comma-formatted numbers.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-visualization-and-publishing-to-the-web.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(kodiak_esc, </span>
<span id="cb104-2"><a href="data-visualization-and-publishing-to-the-web.html#cb104-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Year, </span>
<span id="cb104-3"><a href="data-visualization-and-publishing-to-the-web.html#cb104-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> escapement, </span>
<span id="cb104-4"><a href="data-visualization-and-publishing-to-the-web.html#cb104-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Species)) <span class="sc">+</span> </span>
<span id="cb104-5"><a href="data-visualization-and-publishing-to-the-web.html#cb104-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb104-6"><a href="data-visualization-and-publishing-to-the-web.html#cb104-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb104-7"><a href="data-visualization-and-publishing-to-the-web.html#cb104-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb104-8"><a href="data-visualization-and-publishing-to-the-web.html#cb104-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb104-9"><a href="data-visualization-and-publishing-to-the-web.html#cb104-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Kodiak Salmon Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb104-10"><a href="data-visualization-and-publishing-to-the-web.html#cb104-10" aria-hidden="true" tabindex="-1"></a>    my_theme</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-76-1.png" width="672" /></p>
</div>
<div id="saving-plots" class="section level4 hasAnchor" number="9.2.3.1">
<h4><span class="header-section-number">9.2.3.1</span> Saving plots<a href="data-visualization-and-publishing-to-the-web.html#saving-plots" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Saving plots using ggplot is easy! The <code>ggsave</code> function will save either the last plot you created, or any plot that you have saved to a variable. You can specify what output format you want, size, resolution, etc.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-visualization-and-publishing-to-the-web.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;kodiak_esc.png&quot;</span>, <span class="at">width =</span> <span class="dv">3</span>, <span class="at">height =</span> <span class="dv">3</span>, <span class="at">units =</span> <span class="st">&quot;in&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-multiple-plots" class="section level4 unnumbered hasAnchor">
<h4>Creating multiple plots<a href="data-visualization-and-publishing-to-the-web.html#creating-multiple-plots" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>What if we wanted to generate a plot for every region? A fast way to do this uses the function <code>facet_wrap()</code>. This function takes a mapping to a variable using the syntax <code>~variable_name</code>. The <code>~</code> (tilde) is a model operator which tells <code>facet_wrap</code> to model each unique value within <code>variable_name</code> to a facet in the plot.</p>
<p>The default behaviour of facet wrap is to put all facets on the same x and y scale. You can use the <code>scales</code> argument to specify whether to allow different scales between facet plots. Here, we free the y scale. You can also specify the number of columns using the <code>n_col</code> argument.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="data-visualization-and-publishing-to-the-web.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(annual_esc, </span>
<span id="cb106-2"><a href="data-visualization-and-publishing-to-the-web.html#cb106-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Year, </span>
<span id="cb106-3"><a href="data-visualization-and-publishing-to-the-web.html#cb106-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> escapement, </span>
<span id="cb106-4"><a href="data-visualization-and-publishing-to-the-web.html#cb106-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Species)) <span class="sc">+</span> </span>
<span id="cb106-5"><a href="data-visualization-and-publishing-to-the-web.html#cb106-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb106-6"><a href="data-visualization-and-publishing-to-the-web.html#cb106-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb106-7"><a href="data-visualization-and-publishing-to-the-web.html#cb106-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb106-8"><a href="data-visualization-and-publishing-to-the-web.html#cb106-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>SASAP.Region, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb106-9"><a href="data-visualization-and-publishing-to-the-web.html#cb106-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;Escapement&quot;</span>) <span class="sc">+</span></span>
<span id="cb106-10"><a href="data-visualization-and-publishing-to-the-web.html#cb106-10" aria-hidden="true" tabindex="-1"></a>    my_theme</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-78-1.png" width="576" /></p>
</div>
</div>
<div id="interactive-visualization-using-leaflet-and-dt" class="section level3 hasAnchor" number="9.2.4">
<h3><span class="header-section-number">9.2.4</span> Interactive visualization using <code>leaflet</code> and <code>DT</code><a href="data-visualization-and-publishing-to-the-web.html#interactive-visualization-using-leaflet-and-dt" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="tables" class="section level4 unnumbered hasAnchor">
<h4>Tables<a href="data-visualization-and-publishing-to-the-web.html#tables" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now that we know how to make great static visualizations, lets introduce two other packages that allow us to display our data in interactive ways. These packages really shine when used with GitHub pages, so at the end of this lesson we will publish our figures to the website we created earlier <a href="publishing-analyses-to-the-web.html">this lesson</a>.</p>
<p>First let’s show an interactive table of unique sampling locations using <code>DT</code>.
Write a <code>data.frame</code> containing unique sampling locations with no missing values using two new functions from <code>dplyr</code> and <code>tidyr</code>: <code>distinct()</code> and <code>drop_na()</code>.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-visualization-and-publishing-to-the-web.html#cb107-1" aria-hidden="true" tabindex="-1"></a>locations <span class="ot">&lt;-</span> esc <span class="sc">%&gt;%</span> </span>
<span id="cb107-2"><a href="data-visualization-and-publishing-to-the-web.html#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Location, Latitude, Longitude) <span class="sc">%&gt;%</span> </span>
<span id="cb107-3"><a href="data-visualization-and-publishing-to-the-web.html#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span></code></pre></div>
<p>And display it as an interactive table using <code>datatable()</code> from the <code>DT</code> package.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="data-visualization-and-publishing-to-the-web.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(locations)</span></code></pre></div>
<div id="htmlwidget-9b199e279e22e0cc72f2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9b199e279e22e0cc72f2">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68"],["Akalura Creek","Anvik River","Ayakulik River","Bear Creek","Bear River","Big Bay Creek","Big Kitoi Creek","Black Lake","Buskin River","Chelatna Lake","Chignik River","Coghill River","Crescent River","Dog Salmon Creek","Eagle Sonar (Yukon/Canadian Border)","Egegik River","Eshamy River","Frazer Lake","Frosty Creek","George River","Goodnews River (Middle Fork)","Horse Marine Stream","Igushik River","Ilnik River","Judd Lake","Kanektok River","Karluk","Kasilof River","Kenai River","Kogrukluk River","Kvichak River","Lake Louise","Larson Lake","Litnik","Little Kitoi","Little River","Little Waterfall","Malina Creek","McLees","Middle Lagoon","Miles Lake","Morris Cove","Mortensens Creek","Naknek River","Nelson River","Nushagak River","Orzinski River","Pasagshak River","Pauls Bay","Pilot Station Sonar","Portage","Red Lake","Salmon River (Aniak)","Saltery Creek","Sandy River","Seal Bay Creek","Sturgeon River","Summer Bay","Takotna River","Tatlawiksuk River","Telaquana River","Thin Point Cove","Thorsheim","Togiak River","Uganik River","Ugashik River","Upper Station","Wood River"],[57.1641,62.7,57.1956,56.0389,56.0389,58.5426,58.1915,56.392,57.7768,62.4731,56.2623,61.0726,60.2252,57.1289,64.8,58.2461,60.4528,57.2027,55.1944,61.9,59.1,57.112,58.7132,55.8141,61.5706,59.8,57.563,60.3865,60.548,60.8,58.7969,57.7605,62.3387,58.0815,58.1963,57.7784,58.3955,58.173,54.0002,55.0827,60.6798,53.9167,55.1469,58.7173,55.8141,58.8677,55.731,57.4734,58.3898,62,56.2896,57.2648,61.1,57.5263,56.2163,58.3388,57.3388,53.8963,63,61.9,61.1,55.0109,58.2765,59.0722,57.6696,57.4881,57.0581,59.0523],[-154.2287,-160.2,-154.529,-160.2734,-160.2734,-152.5683,-152.3754,-158.937,-152.5372,-151.4545,-158.7054,-147.9109,-152.5585,-154.0287,-141,-157.6254,-148.1,-154.0573,-162.8535,-157.7,-161.5,-153.95,-158.8739,-161.2349,-151.5575,-161.9,-154.3843,-151.3001,-151.2642,-157.8,-157.0993,-152.5055,-149.892,-152.8286,-152.3681,-153.6666,-152.5058,-153.2158,-166.7281,-163.2164,-144.6684,-166.463,-162.6372,-157.053,-161.2349,-158.605,-160.0934,-152.4627,-152.3405,-162.9,-152.4284,-154.3573,-159.2,-152.7619,-160.055,-152.2238,-154.6931,-166.4596,-155.6,-156.2,-154.4,-162.6734,-152.8367,-160.3363,-153.3737,-157.5958,-154.3569,-158.4141]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Location<\/th>\n      <th>Latitude<\/th>\n      <th>Longitude<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="maps" class="section level4 unnumbered hasAnchor">
<h4>Maps<a href="data-visualization-and-publishing-to-the-web.html#maps" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Similar to <code>ggplot2</code>, you can make a basic <code>leaflet</code> map using just a couple lines of code. Note that unlike <code>ggplot2</code>, the <code>leaflet</code> package uses pipe operators (<code>%&gt;%</code>) and not the additive operator (<code>+</code>).</p>
<p>The <code>addTiles()</code> function without arguments will add base tiles to your map from <a href="https://www.openstreetmap.org/">OpenStreetMap</a>. <code>addMarkers()</code> will add a marker at each location specified by the latitude and longitude arguments. Note that the <code>~</code> symbol is used here to model the coordinates to the map (similar to <code>facet_wrap</code> in ggplot).</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-visualization-and-publishing-to-the-web.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(locations) <span class="sc">%&gt;%</span> </span>
<span id="cb109-2"><a href="data-visualization-and-publishing-to-the-web.html#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb109-3"><a href="data-visualization-and-publishing-to-the-web.html#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="at">lng =</span> <span class="sc">~</span>Longitude, </span>
<span id="cb109-4"><a href="data-visualization-and-publishing-to-the-web.html#cb109-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">lat =</span> <span class="sc">~</span>Latitude, </span>
<span id="cb109-5"><a href="data-visualization-and-publishing-to-the-web.html#cb109-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">popup =</span> <span class="sc">~</span> Location)</span></code></pre></div>
<div id="htmlwidget-8c11fa50bda71c5bfb09" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-8c11fa50bda71c5bfb09">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[57.1641,62.7,57.1956,56.0389,56.0389,58.5426,58.1915,56.392,57.7768,62.4731,56.2623,61.0726,60.2252,57.1289,64.8,58.2461,60.4528,57.2027,55.1944,61.9,59.1,57.112,58.7132,55.8141,61.5706,59.8,57.563,60.3865,60.548,60.8,58.7969,57.7605,62.3387,58.0815,58.1963,57.7784,58.3955,58.173,54.0002,55.0827,60.6798,53.9167,55.1469,58.7173,55.8141,58.8677,55.731,57.4734,58.3898,62,56.2896,57.2648,61.1,57.5263,56.2163,58.3388,57.3388,53.8963,63,61.9,61.1,55.0109,58.2765,59.0722,57.6696,57.4881,57.0581,59.0523],[-154.2287,-160.2,-154.529,-160.2734,-160.2734,-152.5683,-152.3754,-158.937,-152.5372,-151.4545,-158.7054,-147.9109,-152.5585,-154.0287,-141,-157.6254,-148.1,-154.0573,-162.8535,-157.7,-161.5,-153.95,-158.8739,-161.2349,-151.5575,-161.9,-154.3843,-151.3001,-151.2642,-157.8,-157.0993,-152.5055,-149.892,-152.8286,-152.3681,-153.6666,-152.5058,-153.2158,-166.7281,-163.2164,-144.6684,-166.463,-162.6372,-157.053,-161.2349,-158.605,-160.0934,-152.4627,-152.3405,-162.9,-152.4284,-154.3573,-159.2,-152.7619,-160.055,-152.2238,-154.6931,-166.4596,-155.6,-156.2,-154.4,-162.6734,-152.8367,-160.3363,-153.3737,-157.5958,-154.3569,-158.4141],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Akalura Creek","Anvik River","Ayakulik River","Bear Creek","Bear River","Big Bay Creek","Big Kitoi Creek","Black Lake","Buskin River","Chelatna Lake","Chignik River","Coghill River","Crescent River","Dog Salmon Creek","Eagle Sonar (Yukon/Canadian Border)","Egegik River","Eshamy River","Frazer Lake","Frosty Creek","George River","Goodnews River (Middle Fork)","Horse Marine Stream","Igushik River","Ilnik River","Judd Lake","Kanektok River","Karluk","Kasilof River","Kenai River","Kogrukluk River","Kvichak River","Lake Louise","Larson Lake","Litnik","Little Kitoi","Little River","Little Waterfall","Malina Creek","McLees","Middle Lagoon","Miles Lake","Morris Cove","Mortensens Creek","Naknek River","Nelson River","Nushagak River","Orzinski River","Pasagshak River","Pauls Bay","Pilot Station Sonar","Portage","Red Lake","Salmon River (Aniak)","Saltery Creek","Sandy River","Seal Bay Creek","Sturgeon River","Summer Bay","Takotna River","Tatlawiksuk River","Telaquana River","Thin Point Cove","Thorsheim","Togiak River","Uganik River","Ugashik River","Upper Station","Wood River"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[53.8963,64.8],"lng":[-166.7281,-141]}},"evals":[],"jsHooks":[]}</script>
<p>You can also use <code>leaflet</code> to import Web Map Service (WMS) tiles. Here is an example that utilizes the General Bathymetric Map of the Oceans <a href="https://www.gebco.net/">(GEBCO)</a> WMS tiles. In this example, we also demonstrate how to create a more simple circle marker, the look of which is explicitly set using a series of style-related arguments..</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="data-visualization-and-publishing-to-the-web.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(locations) <span class="sc">%&gt;%</span> </span>
<span id="cb110-2"><a href="data-visualization-and-publishing-to-the-web.html#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addWMSTiles</span>(<span class="st">&quot;https://www.gebco.net/data_and_products/gebco_web_services/web_map_service/mapserv?request=getmap&amp;service=wms&amp;BBOX=-90,-180,90,360&amp;crs=EPSG:4326&amp;format=image/jpeg&amp;layers=gebco_latest&amp;width=1200&amp;height=600&amp;version=1.3.0&quot;</span>,</span>
<span id="cb110-3"><a href="data-visualization-and-publishing-to-the-web.html#cb110-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">layers =</span> <span class="st">&#39;GEBCO_LATEST&#39;</span>,</span>
<span id="cb110-4"><a href="data-visualization-and-publishing-to-the-web.html#cb110-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">attribution =</span> <span class="st">&quot;Imagery reproduced from the GEBCO_2022 Grid, WMS 1.3.0 GetMap, www.gebco.net&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-5"><a href="data-visualization-and-publishing-to-the-web.html#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(<span class="at">lng =</span> <span class="sc">~</span>Longitude,</span>
<span id="cb110-6"><a href="data-visualization-and-publishing-to-the-web.html#cb110-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">lat =</span> <span class="sc">~</span>Latitude,</span>
<span id="cb110-7"><a href="data-visualization-and-publishing-to-the-web.html#cb110-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">popup =</span> <span class="sc">~</span> Location,</span>
<span id="cb110-8"><a href="data-visualization-and-publishing-to-the-web.html#cb110-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">radius =</span> <span class="dv">5</span>,</span>
<span id="cb110-9"><a href="data-visualization-and-publishing-to-the-web.html#cb110-9" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># set fill properties</span></span>
<span id="cb110-10"><a href="data-visualization-and-publishing-to-the-web.html#cb110-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fillColor =</span> <span class="st">&quot;salmon&quot;</span>,</span>
<span id="cb110-11"><a href="data-visualization-and-publishing-to-the-web.html#cb110-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fillOpacity =</span> <span class="dv">1</span>,</span>
<span id="cb110-12"><a href="data-visualization-and-publishing-to-the-web.html#cb110-12" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># set stroke properties</span></span>
<span id="cb110-13"><a href="data-visualization-and-publishing-to-the-web.html#cb110-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">stroke =</span> T,</span>
<span id="cb110-14"><a href="data-visualization-and-publishing-to-the-web.html#cb110-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb110-15"><a href="data-visualization-and-publishing-to-the-web.html#cb110-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb110-16"><a href="data-visualization-and-publishing-to-the-web.html#cb110-16" aria-hidden="true" tabindex="-1"></a>                   <span class="at">opacity =</span> <span class="dv">1</span>)</span></code></pre></div>
<div id="htmlwidget-48508f879f9f2e77d5ce" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-48508f879f9f2e77d5ce">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addWMSTiles","args":["https://www.gebco.net/data_and_products/gebco_web_services/web_map_service/mapserv?request=getmap&service=wms&BBOX=-90,-180,90,360&crs=EPSG:4326&format=image/jpeg&layers=gebco_latest&width=1200&height=600&version=1.3.0",null,null,{"styles":"","format":"image/jpeg","transparent":false,"version":"1.1.1","attribution":"Imagery reproduced from the GEBCO_2022 Grid, WMS 1.3.0 GetMap, www.gebco.net","layers":"GEBCO_LATEST"}]},{"method":"addCircleMarkers","args":[[57.1641,62.7,57.1956,56.0389,56.0389,58.5426,58.1915,56.392,57.7768,62.4731,56.2623,61.0726,60.2252,57.1289,64.8,58.2461,60.4528,57.2027,55.1944,61.9,59.1,57.112,58.7132,55.8141,61.5706,59.8,57.563,60.3865,60.548,60.8,58.7969,57.7605,62.3387,58.0815,58.1963,57.7784,58.3955,58.173,54.0002,55.0827,60.6798,53.9167,55.1469,58.7173,55.8141,58.8677,55.731,57.4734,58.3898,62,56.2896,57.2648,61.1,57.5263,56.2163,58.3388,57.3388,53.8963,63,61.9,61.1,55.0109,58.2765,59.0722,57.6696,57.4881,57.0581,59.0523],[-154.2287,-160.2,-154.529,-160.2734,-160.2734,-152.5683,-152.3754,-158.937,-152.5372,-151.4545,-158.7054,-147.9109,-152.5585,-154.0287,-141,-157.6254,-148.1,-154.0573,-162.8535,-157.7,-161.5,-153.95,-158.8739,-161.2349,-151.5575,-161.9,-154.3843,-151.3001,-151.2642,-157.8,-157.0993,-152.5055,-149.892,-152.8286,-152.3681,-153.6666,-152.5058,-153.2158,-166.7281,-163.2164,-144.6684,-166.463,-162.6372,-157.053,-161.2349,-158.605,-160.0934,-152.4627,-152.3405,-162.9,-152.4284,-154.3573,-159.2,-152.7619,-160.055,-152.2238,-154.6931,-166.4596,-155.6,-156.2,-154.4,-162.6734,-152.8367,-160.3363,-153.3737,-157.5958,-154.3569,-158.4141],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"white","weight":0.5,"opacity":1,"fill":true,"fillColor":"salmon","fillOpacity":1},null,null,["Akalura Creek","Anvik River","Ayakulik River","Bear Creek","Bear River","Big Bay Creek","Big Kitoi Creek","Black Lake","Buskin River","Chelatna Lake","Chignik River","Coghill River","Crescent River","Dog Salmon Creek","Eagle Sonar (Yukon/Canadian Border)","Egegik River","Eshamy River","Frazer Lake","Frosty Creek","George River","Goodnews River (Middle Fork)","Horse Marine Stream","Igushik River","Ilnik River","Judd Lake","Kanektok River","Karluk","Kasilof River","Kenai River","Kogrukluk River","Kvichak River","Lake Louise","Larson Lake","Litnik","Little Kitoi","Little River","Little Waterfall","Malina Creek","McLees","Middle Lagoon","Miles Lake","Morris Cove","Mortensens Creek","Naknek River","Nelson River","Nushagak River","Orzinski River","Pasagshak River","Pauls Bay","Pilot Station Sonar","Portage","Red Lake","Salmon River (Aniak)","Saltery Creek","Sandy River","Seal Bay Creek","Sturgeon River","Summer Bay","Takotna River","Tatlawiksuk River","Telaquana River","Thin Point Cove","Thorsheim","Togiak River","Uganik River","Ugashik River","Upper Station","Wood River"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[53.8963,64.8],"lng":[-166.7281,-141]}},"evals":[],"jsHooks":[]}</script>
<p>Leaflet has a ton of functionality that can enable you to create some beautiful, functional maps with relative ease. <a href="https://pages.github.nceas.ucsb.edu/NCEAS/sasap-data/language_vis.html">Here</a> is an example of some we created as part of the SASAP project, created using the same tools we showed you here. This map hopefully gives you an idea of how powerful the combination of RMarkdown and GitHub pages can be.</p>
</div>
</div>
<div id="resources-2" class="section level3 hasAnchor" number="9.2.5">
<h3><span class="header-section-number">9.2.5</span> Resources<a href="data-visualization-and-publishing-to-the-web.html#resources-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Lisa Charlotte Rost. (2018) <a href="https://blog.datawrapper.de/dualaxis/">Why not to use two axes, and what to use instead: The case against dual axis charts</a></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleaning-and-manipulating-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="functions-and-packages.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
