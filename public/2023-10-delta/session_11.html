<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>NCEAS Open Science Synthesis for the Delta Science Program - 11&nbsp; Publishing Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./session_12.html" rel="next">
<link href="./session_10.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session_11.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Publishing Data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Publishing Data</span></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Course Materials</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.nceas.ucsb.edu/learning-hub" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-door-fill"></i></a>
    <a href="https://twitter.com/ucsb_nceas" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/NCEAS/nceas-training/tree/2023-10-delta" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Mapping Census Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Communicating Your Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Flexdashboard</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Shiny</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Practice Session: Shiny and Flexdashboard</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Reproducible Workflows Using <code>targets</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Parallel Processing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_11.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Publishing Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Git Workflows</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Wrap up and Presentations</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#the-data-life-cycle" id="toc-the-data-life-cycle" class="nav-link" data-scroll-target="#the-data-life-cycle"><span class="header-section-number">11.1</span> The Data Life Cycle</a></li>
  <li><a href="#organizing-data" id="toc-organizing-data" class="nav-link" data-scroll-target="#organizing-data"><span class="header-section-number">11.2</span> Organizing Data</a></li>
  <li><a href="#metadata" id="toc-metadata" class="nav-link" data-scroll-target="#metadata"><span class="header-section-number">11.3</span> Metadata</a></li>
  <li><a href="#data-identifiers-citation" id="toc-data-identifiers-citation" class="nav-link" data-scroll-target="#data-identifiers-citation"><span class="header-section-number">11.4</span> Data Identifiers &amp; Citation</a></li>
  <li><a href="#provenance-and-computational-workflow" id="toc-provenance-and-computational-workflow" class="nav-link" data-scroll-target="#provenance-and-computational-workflow"><span class="header-section-number">11.5</span> Provenance and Computational Workflow</a></li>
  <li><a href="#preserving-your-data" id="toc-preserving-your-data" class="nav-link" data-scroll-target="#preserving-your-data"><span class="header-section-number">11.6</span> Preserving your data</a>
  <ul class="collapse">
  <li><a href="#data-repositories-built-for-data-and-code" id="toc-data-repositories-built-for-data-and-code" class="nav-link" data-scroll-target="#data-repositories-built-for-data-and-code"><span class="header-section-number">11.6.1</span> Data repositories: built for data (and code)</a></li>
  <li><a href="#structure-of-a-data-package" id="toc-structure-of-a-data-package" class="nav-link" data-scroll-target="#structure-of-a-data-package"><span class="header-section-number">11.6.2</span> Structure of a data package</a></li>
  </ul></li>
  <li><a href="#publishing-data-from-the-web" id="toc-publishing-data-from-the-web" class="nav-link" data-scroll-target="#publishing-data-from-the-web"><span class="header-section-number">11.7</span> Publishing data from the web</a>
  <ul class="collapse">
  <li><a href="#publishing-data-to-edi" id="toc-publishing-data-to-edi" class="nav-link" data-scroll-target="#publishing-data-to-edi"><span class="header-section-number">11.7.1</span> Publishing Data to EDI</a></li>
  <li><a href="#publishing-data-to-knb" id="toc-publishing-data-to-knb" class="nav-link" data-scroll-target="#publishing-data-to-knb"><span class="header-section-number">11.7.2</span> Publishing Data to KNB</a></li>
  </ul></li>
  <li><a href="#practice-publish-dummy-data-to-knb-demo-site" id="toc-practice-publish-dummy-data-to-knb-demo-site" class="nav-link" data-scroll-target="#practice-publish-dummy-data-to-knb-demo-site"><span class="header-section-number">11.8</span> Practice: Publish Dummy Data to KNB Demo Site</a>
  <ul class="collapse">
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise"><span class="header-section-number">11.8.1</span> Exercise</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">




<section id="learning-objectives" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<ul>
<li>Overview best practices for organizing data for publication</li>
<li>Review what science metadata is and how it can be used</li>
<li>Demonstrate how data and code can be documented and published in open data archives</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Find the presentation slides for this lesson <a href="files/publishing-data-slides.pdf">here</a>.</p>
</div>
</div>
</section>
<section id="the-data-life-cycle" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="the-data-life-cycle"><span class="header-section-number">11.1</span> The Data Life Cycle</h2>
<p>The Data Life Cycle gives you an overview of meaningful steps data goes through in a research project, from planning to archival. This step-by-step breakdown facilitates overseeing individual actions, operations and processes required at each stage.</p>
<p><img src="images/data-life-cycle.png" class="img-fluid"></p>
<table class="table">
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Plan</td>
<td>Map out the processes and resources for the entire data life cycle. Start with the project goals (desired outputs, outcomes, and impacts) and work backwards to build a data management plan, supporting data policies, and sustainability plans.</td>
</tr>
<tr class="even">
<td>Collect</td>
<td>Observations are made either by hand or with sensors or other instruments and the data are placed a into digital form. You can structure the process of collecting data up front to better implement data management.</td>
</tr>
<tr class="odd">
<td>Assure</td>
<td>Employ quality assurance and quality control procedures that enhance the quality of data (e.g., training participants, routine instrument calibration) and identify potential errors and techniques to address them.</td>
</tr>
<tr class="even">
<td>Describe</td>
<td>Document data by describing the why, who, what, when, where, and how of the data. Metadata, or data about data, are key to data sharing and reuse, and many tools such as standards and software are available to help describe data.</td>
</tr>
<tr class="odd">
<td>Preserve</td>
<td>Plan to preserve data in the short term to minimize potential losses (e.g., via accidents), and in the long term so that project stakeholders and others can access, interpret, and use the data in the future. Decide what data to preserve, where to preserve it, and what documentation needs to accompany the data.</td>
</tr>
<tr class="even">
<td>Discover</td>
<td>Identify complementary data sets that can add value to project data. Strategies to help endure the data have maximum impact include registering the project on a project directory site, depositing data in an open repository, and adding data descriptions to metadata clearing houses.</td>
</tr>
<tr class="odd">
<td>Integrate</td>
<td>Data from multiple sources are combined into a form that can be readily analyzed. For example, you could combine citizen science project data with other sources of data to enable new analyses and investigations. Successful data integration depends on documentation of the integration process, clearly citing and making accessable the data you are using, and employing good data management practices throughout the <a href="https://www.dataone.org/data-life-cycle">Data Life Cycle</a>.</td>
</tr>
<tr class="even">
<td>Analyze</td>
<td>Create analyses and visualizations to identify patterns, test hypotheses, and illustrate finding. During this process record your methods, document data processing steps, and ensure your data are reproduceable. Learn about these best practices and more.</td>
</tr>
</tbody>
</table>
<p>In this lesson we focus on the <em>Describe</em> and <em>Preserve</em> stages of this cycle. However, best practices on how to organize and document your data, apply to all stages.</p>
</section>
<section id="organizing-data" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="organizing-data"><span class="header-section-number">11.2</span> Organizing Data</h2>
<p>The goal is to operate through the data life cycle with the <a href="https://learning.nceas.ucsb.edu/2023-06-delta/session_16.html">FAIR and CARE principles</a> in mind and making sure our data is in a <a href="https://learning.nceas.ucsb.edu/2023-06-delta/session_09.html#what-is-tidy-data">tidy format</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/allison-horst-why-tidy-data.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Artwork by Allison Horst</figcaption>
</figure>
</div>
<p>Benefits of having clean and tidy data and complete metadata:</p>
<ul>
<li>Decreases errors from redundant updates</li>
<li>Enforces data integrity</li>
<li>Helps you and future researchers to handle large, complex datasets</li>
<li>Enables powerful search filtering</li>
</ul>
<p>Some of the best practices to follow are (<span class="citation" data-cites="borer_simple_2009">Borer et al. (<a href="#ref-borer_simple_2009" role="doc-biblioref">2009</a>)</span>, <span class="citation" data-cites="white_nine_2013">White et al. (<a href="#ref-white_nine_2013" role="doc-biblioref">2013</a>)</span>):</p>
<ul>
<li>Have scripts for all data wrangling that start with the uncorrected raw data file and clean the data programmatically before analysis.</li>
<li>Design your tables to add rows, not columns. A column should be only one variable and a row should be only one observation.</li>
<li>Include header lines in your tables</li>
<li>Use non-proprietary file formats (ie, open source) with descriptive file names without spaces.</li>
</ul>
<p>Non-proprietary file formats are essential to ensure that your data can still be machine readable long into the future. Open formats include text files and binary formats such as NetCDF.</p>
<p><img src="images/open-formats.png" class="img-fluid"></p>
<p>Common switches:</p>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 59%">
</colgroup>
<thead>
<tr class="header">
<th>Proprietary format</th>
<th>Export to…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Microsoft Excel (.xlsx) files</td>
<td>text (.txt) or comma separated values (.csv)</td>
</tr>
<tr class="even">
<td>GIS files</td>
<td>ESRI shapefiles (.shp)</td>
</tr>
<tr class="odd">
<td>MATLAB/IDL</td>
<td>NetCDF</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Large Data Packages
</div>
</div>
<div class="callout-body-container callout-body">
<p>When you have or are going to generate large data packages (in the terabytes or larger), it’s important to establish a relationship with the data center early on.</p>
<p>The data center can help come up with a strategy to tile data structures by subset, such as by spatial region, by temporal window, or by measured variable. They can also help with choosing an efficient tool to store the data (ie NetCDF or HDF), which is a compact data format that helps parallel read and write libraries of data.</p>
</div>
</div>
</section>
<section id="metadata" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="metadata"><span class="header-section-number">11.3</span> Metadata</h2>
<p>Within the data life cycle you can be collecting data (creating new data) or integrating data that has all ready been collected. Either way, <strong>metadata</strong> plays a major role to successfully spin around the cycle because it enables data reuse long after the original collection.</p>
<p>Imagine that you’re writing your metadata for a typical researcher (who might even be you!) 30+ years from now - what will they need to understand what’s inside your data files?</p>
<p>The goal is to have enough information for the researcher to <strong>understand the data</strong>, <strong>interpret the data</strong>, and then <strong>reuse the data</strong> in another study.</p>
<p>One way to think about metadata is to answer the following questions with the documentation:</p>
<ul>
<li>What was measured?</li>
<li>Who measured it?</li>
<li>When was it measured?</li>
<li>Where was it measured?</li>
<li>How was it measured?</li>
<li>How is the data structured?</li>
<li>Why was the data collected?</li>
<li>Who should get credit for this data (researcher AND funding agency)?</li>
<li>How can this data be reused (licensing)?</li>
</ul>
<p>Review detailed metadata guidelines on <a href="https://learning.nceas.ucsb.edu/2023-06-delta/session_05.html#metadata-best-practices">course material from week 1</a></p>
<p>We also know that it is important to keep in mind how will computers organize and integrate this information. There are a number of <strong>metadata standards</strong> that make your metadata machine readable and therefore easier for data curators to publish your data (Ecological Metadata Language, Geospatial Metadata Standards, Biological Data Profile, Darwin Core, Metadata Encoding Transmission Standard, etc.)</p>
<p>Today we are going to be focusing on the Ecological Metadata Language also known as EML. Which is widespread use in the earth and environmental sciences.</p>
<blockquote class="blockquote">
<p>“The Ecological Metadata Language (EML) defines a comprehensive vocabulary and a readable XML markup syntax for documenting research data” (<a href="https://eml.ecoinformatics.org/" class="uri">https://eml.ecoinformatics.org/</a>)</p>
</blockquote>
<p>EML or XML? It’s confusing. EML or Ecological Metadata Language is the name of the metadata standard. EML are stored in an XML file. XML (Extensible Markup Language), is a markup language that provides rules to define any data. XML file extension is <code>.xml</code>. So an EML file will be somthing like <code>metadata.xml</code>, and it will look like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">"1.0"</span><span class="ot"> encoding=</span><span class="st">"UTF-8"</span><span class="fu">?&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">eml:eml</span><span class="ot"> packageId=</span><span class="st">"df35d.442.6"</span><span class="ot"> system=</span><span class="st">"knb"</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ot">    xmlns:eml=</span><span class="st">"eml://ecoinformatics.org/eml-2.1.1"</span>&gt;</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">dataset</span>&gt;</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">title</span>&gt;Improving Preseason Forecasts of Sockeye Salmon Runs through </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            Salmon Smolt Monitoring in Kenai River, Alaska: 2005 - 2007&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">creator</span><span class="ot"> id=</span><span class="st">"1385594069457"</span>&gt;</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">individualName</span>&gt;</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">givenName</span>&gt;Mark&lt;/<span class="kw">givenName</span>&gt;</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">surName</span>&gt;Willette&lt;/<span class="kw">surName</span>&gt;</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">individualName</span>&gt;</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">organizationName</span>&gt;Alaska Department of Fish and Game&lt;/<span class="kw">organizationName</span>&gt;</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">positionName</span>&gt;Fishery Biologist&lt;/<span class="kw">positionName</span>&gt;</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">address</span>&gt;</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">city</span>&gt;Soldotna&lt;/<span class="kw">city</span>&gt;</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">administrativeArea</span>&gt;Alaska&lt;/<span class="kw">administrativeArea</span>&gt;</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">country</span>&gt;USA&lt;/<span class="kw">country</span>&gt;</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">address</span>&gt;</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">phone</span><span class="ot"> phonetype=</span><span class="st">"voice"</span>&gt;(907)260-2911&lt;/<span class="kw">phone</span>&gt;</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">electronicMailAddress</span>&gt;mark.willette@alaska.gov&lt;/<span class="kw">electronicMailAddress</span>&gt;</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        &lt;/<span class="kw">creator</span>&gt;</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">dataset</span>&gt;</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">eml:eml</span>&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="data-identifiers-citation" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="data-identifiers-citation"><span class="header-section-number">11.4</span> Data Identifiers &amp; Citation</h2>
<p>Many journals require a DOI - a digital object identifier - be assigned to the published data before the paper can be accepted for publication. The reason for that is so that the data can easily be found and easily linked to.</p>
<p>Keep in mind that generally, if the data package needs to be updated (which happens in many cases), each version of the package will get its own identifier. This way, researchers can and should cite the exact version of the data set that they used in their analysis. Having the data identified in this manner allows us to accurately track the dataset usage metrics.</p>
<p>Finally, stressed that researchers should get in the habit of citing the data that they use (even if it’s their own data!) in each publication that uses that data. This is important for correct attribution, provenance of your work and ultimately transparency in the scientific process.</p>
</section>
<section id="provenance-and-computational-workflow" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="provenance-and-computational-workflow"><span class="header-section-number">11.5</span> Provenance and Computational Workflow</h2>
<p><img src="images/comp-repro.png" class="img-fluid"></p>
<p>While the <a href="https://knb.ecoinformatiocs.org">Knowledge Network for Biocomplexity</a>, and similar repositories do focus on preserving data, we really set our sights much more broadly on preserving entire computational workflows that are instrumental to advances in science. A <strong>computational workflow</strong> represents the sequence of computational tasks that are performed from raw data acquisition through data quality control, integration, analysis, modeling, and visualization.</p>
<p>For example, a data acquisition and cleaning workflow often creates a derived and integrated data product that is then picked up and used by multiple downstream analytical workflows that produce specific scientific findings. These workflows can each be archived as distinct data packages, with the output of the first workflow becoming the input of the second and subsequent workflows.</p>
<p><img src="images/comp-workflow-2.png" class="img-fluid"></p>
<p>Adding provenance within your work makes it more reproducible and compliant with the <a href="https://www.go-fair.org/fair-principles/">FAIR</a> principles. It is also useful for building on the work of others; you can produce similar visualizations for another location, for example, using the same code.</p>
<p>Tools like R can be used as a provenance tool, as well - by starting with the raw data and cleaning it programmatically, rather than manually, you preserve the steps that you went through and your workflow is reproducible.</p>
</section>
<section id="preserving-your-data" class="level2 page-columns page-full" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="preserving-your-data"><span class="header-section-number">11.6</span> Preserving your data</h2>
<p>Throughout this course we have mentioned over and over the importance of preserving your data so you or other can access it years down the line. Imagine how helpful it would be if each of the data sets you are trying to get from multiple people and agencies would be publish in a data package for reuse. How much time would you safe? How many emails back and forth could be avoided. Data is a valuable asset. It takes time, effort and resources to collect. It is important to preserve our data for transparency in our work and making sure we and other can re use it.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="images/WhyManage.png" class="img-fluid"></p>
</div></div><section id="data-repositories-built-for-data-and-code" class="level3" data-number="11.6.1">
<h3 data-number="11.6.1" class="anchored" data-anchor-id="data-repositories-built-for-data-and-code"><span class="header-section-number">11.6.1</span> Data repositories: built for data (and code)</h3>
<ul>
<li><em>GitHub is not an archival location</em></li>
<li>Dedicated data repositories: KNB, Arctic Data Center, Zenodo, FigShare
<ul>
<li>Rich metadata</li>
<li>Archival in their mission</li>
</ul></li>
<li>Data papers, e.g., Scientific Data</li>
<li>List of data repositories: http://re3data.org</li>
</ul>
<p><img src="images/RepoLogos.png" class="img-fluid"></p>
<p>DataONE is a federation of dozens of data repositories that work together to make their systems interoperable and to provide a single unified search system that spans the repositories. DataONE aims to make it simpler for researchers to publish data to one of its member repositories, and then to discover and download that data for reuse in synthetic analyses.</p>
<p>DataONE can be searched on the web (https://search.dataone.org/), which effectively allows a single search to find data form the dozens of members of DataONE, rather than visiting each of the currently 43 repositories one at a time.</p>
<p><img src="images/DataONECNs.png" class="img-fluid"></p>
</section>
<section id="structure-of-a-data-package" class="level3" data-number="11.6.2">
<h3 data-number="11.6.2" class="anchored" data-anchor-id="structure-of-a-data-package"><span class="header-section-number">11.6.2</span> Structure of a data package</h3>
<p>We define a <em>data package</em> as a scientifically useful collection of data and metadata that a researcher wants to preserve. The rule of thumb is to package your data as you would like to receive it. Sometimes a data package represents all of the data from a particular experiment, while at other times it might be all of the data from a grant, or on a topic, or associated with a paper. Whatever the extent, we define <strong>a data package as having one or more data files, software files, and other scientific products such as graphs and images</strong>, all tied together with a descriptive metadata document.</p>
<p><img src="images/data-package.png" class="img-fluid"></p>
<p>These data repositories all assign a unique identifier to every version of every data file, Those identifiers usually take one of two forms. A <em>DOI</em> identifier is often assigned to the metadata and becomes the publicly citable identifier for the package. Each of the other files gets an internal identifier, often a UUID that is globally unique. In the example above, the package can be cited with the DOI <code>doi:10.5063/F1F18WN4</code>.</p>
</section>
</section>
<section id="publishing-data-from-the-web" class="level2" data-number="11.7">
<h2 data-number="11.7" class="anchored" data-anchor-id="publishing-data-from-the-web"><span class="header-section-number">11.7</span> Publishing data from the web</h2>
<p>Each data repository tends to have its own mechanism for submitting data and providing metadata. Repositories like the <a href="https://knb.ecoinformatics.org/">Knowledge Network for Biocomplexity (KNB)</a> and <a href="https://edirepository.org/">Environmenta Data Initiative (EDI)</a>, provide some <em>easy to use</em> web forms for editing and submitting a data package.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Stable repositories for <strong>storing</strong> data during analysis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that you can upload data to for example the <a href="https://knb.ecoinformatics.org/">KNB repository</a> even if you are not ready to publish. This repository can serve as “storage” while you are working with your data. By storing your data in a repository you and your collaborators can access these data either through a url or data <a href="https://learning.nceas.ucsb.edu/2023-06-delta/session_08.html#content-based-identifiers">content id</a>.</p>
<p>While you are working on your project. The data package where you store your data will be privet. Only people that are granted access can see data package.</p>
</div>
</div>
<section id="publishing-data-to-edi" class="level3" data-number="11.7.1">
<h3 data-number="11.7.1" class="anchored" data-anchor-id="publishing-data-to-edi"><span class="header-section-number">11.7.1</span> Publishing Data to EDI</h3>
<p>The Environmental Data Initiative (EDI) provides lots of great resources about data publication (Resources &gt; <a href="https://edirepository.org/resources/resources-for-data-authors">Data Authors</a>) and data reuse (Resources &gt; <a href="https://edirepository.org/resources/resources-for-data-users">Data Users</a>).</p>
<p>To publish a data package on EDI you have to go to <a href="https://edirepository.org/" class="uri">https://edirepository.org/</a> and click on “Publish Data”.</p>
<p><img src="images/edi_landing_page.png" class="img-fluid"></p>
<p>This will direct you to their Publish Data site where you can click on <strong>Login</strong> to ezEML metadata editor. <strong>ezEML</strong> is EDI’s web based tool to interactively fill in your data’s metadata.</p>
<p>This will direct you to the ezEML site, where you can log in with different methods. All methods are totally fine. We recommend ORCID. ORCID is a free and unique identifier for researchers. This identifier allows to distinguish researchers with similar names, or researcher who change their name through their professional career. Ensuring right attribution of their scientific contribution (papers, data packages, etc.) (Track Attribution with an ORCID iD, <a href="https://edirepository.org/resources/orcid-id">EDI</a>.</p>
<p>Once you are logged in, you can create a New EML Document and start documenting your knew data package filling out all the required information.</p>
<p><img src="images/edi_new_eml.png" class="img-fluid"> The left side bar menu allows you to easily navigate through the forms and fill in your metadata as you like. Note that at any point you can save and come back to it later.</p>
<p><img src="images/edi_abstract_example.png" class="img-fluid"></p>
</section>
<section id="publishing-data-to-knb" class="level3" data-number="11.7.2">
<h3 data-number="11.7.2" class="anchored" data-anchor-id="publishing-data-to-knb"><span class="header-section-number">11.7.2</span> Publishing Data to KNB</h3>
<p>Similarly, you can publish your data to the KNB repository by going to <a href="https://knb.ecoinformatics.org/" class="uri">https://knb.ecoinformatics.org/</a> and signing in with your ORCID.</p>
<p><img src="images/knb_landing_2023.png" class="img-fluid"></p>
<p>Once you sign in you click on “Submit Data” and it will direct you to the page where you can start filling in your metadata and uploading your data files.</p>
<p><img src="images/knb_submit_form.png" class="img-fluid"></p>
<p>To further familiarize our selves with the data publication process, we are going to practice “Submitting” a data package to KNB’s demo site.</p>
</section>
</section>
<section id="practice-publish-dummy-data-to-knb-demo-site" class="level2" data-number="11.8">
<h2 data-number="11.8" class="anchored" data-anchor-id="practice-publish-dummy-data-to-knb-demo-site"><span class="header-section-number">11.8</span> Practice: Publish Dummy Data to KNB Demo Site</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Context
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>During Week 2 we explored and <a href="https://learning.nceas.ucsb.edu/2023-08-delta/session_03.html#setting-ggplot-themes">visualized</a> the following data package EDI Data Repository <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=edi.587.1">Sacramento-San Joaquin Delta Socioecological Monitoring</a>.</p></li>
<li><p>Imagine that you decided to replicate this study and collected data on visits to different restoration sites on the Sacramento-San Joaquin Delta during 2022-2023 (original data is from 2017-2018).</p></li>
<li><p>You have been keeping the data on GitHub, but you know that ultimately that is not a great place to store the data.</p></li>
<li><p>It is time to upload the data to the KNB repository and start the process that will lead you to publish your data and script in a data package.</p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Setup
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Note the first 2 steps are just for the purpose of this exercise</strong></p>
<ul>
<li><p>Go to <a href="https://github.com/camilavargasp/publishing-data-practice">this GitHub Repo</a> and “Fork” the repository to your GitHub Account by clicking on the Fork button on the upper right side of the</p></li>
<li><p>By Forking you are creating a new repo under your user name that contains all the information of the “Forked” Repo.</p></li>
<li><p>Continuing with our hypothetical scenario, let’s imagine that this repo that we just forked is the repo we have been working all along, cleaning and visualizing our data.</p></li>
<li><p>Clone this repo to a new Rproject in the server by clicking on Code and copying the HTTPS URL. In RStudio, create a new Rproject, with version control and paste the URL you just copied.</p></li>
<li><p>Finally, in this hypothetical case, you have been somewhat diligent on documenting the metadata for these data sets. You set up a metadata spreadsheet that allow you to keep track of the information about your data. This spreadsheet lives in the <a href="https://deltacouncil.sharepoint.com/:x:/r/sites/Extranet-Science/Shared%20Documents/NCEAS-DSP%20working%20group/2023/2023-10-week-3/publishing-data-practice/delta-tabular-metadata-eml.xlsx?d=w4dd59367a20c424fbd55d364aa26f92f&amp;csf=1&amp;web=1&amp;e=gMMYJe">SharePoint folder</a>. Follow the link or navigate to 2023 &gt; 2023-10-week-3 &gt; publishing-data-practice.</p></li>
</ul>
</div>
</div>
<section id="exercise" class="level3" data-number="11.8.1">
<h3 data-number="11.8.1" class="anchored" data-anchor-id="exercise"><span class="header-section-number">11.8.1</span> Exercise</h3>
<section id="go-to-knb-demo-site-and-login-via-orcid" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="go-to-knb-demo-site-and-login-via-orcid"><strong>Go to KNB Demo site and login via ORCID</strong></h4>
<p>We will walk through web submission on <a href="https://demo.nceas.ucsb.edu" class="uri">https://demo.nceas.ucsb.edu</a>, and start by logging in with an ORCID account. ORCID provides a common account for sharing scholarly data, so if you don’t have one, you can create one when you are redirected to ORCID from the <em>Sign In</em> button.</p>
<p><img src="images/knb-banner.png" class="img-fluid"></p>
<p>When you sign in, you will be redirected to <a href="https://orcid.org">orcid.org</a>, where you can either provide your existing ORCID credentials, or create a new account. ORCID provides multiple ways to login, including using your email address, institutional logins from many universities, and logins from social media account providers. Choose the one that is best suited to your use as a scholarly record, such as your university or agency login.</p>
<p><img src="images/orcid-login.png" class="img-fluid"></p>
</section>
<section id="create-and-submit-the-data-set" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="create-and-submit-the-data-set"><strong>Create and submit the data set</strong></h4>
<p>After signing in, you can access the data submission form using the <em>Submit</em> button. Once on the form, upload your data files and follow the prompts to provide the required metadata. Required sections are listed with a red asterisk.</p>
</section>
<section id="click-add-files-to-choose-the-data-files-for-your-package" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="click-add-files-to-choose-the-data-files-for-your-package"><strong>Click <em>Add Files</em> to choose the data files for your package</strong></h4>
<p>You can select multiple files at a time to efficiently upload many files.</p>
<p><img src="images/editor-knb-01.png" class="img-fluid"></p>
<p>The files will upload showing a progress indicator. You can continue editing metadata while they upload.</p>
<p><img src="images/editor-knb-02.png" class="img-fluid"></p>
</section>
<section id="enter-overview-information" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="enter-overview-information"><strong>Enter Overview information</strong></h4>
<p>This includes a descriptive title, abstract, and keywords.</p>
<p>The title is the first way a potential user will get information about your dataset. It should be descriptive but succinct, lack acronyms, and include some indication of the temporal and geospatial coverage of the data.</p>
<p>The abstract should be sufficiently descriptive for a general scientific audience to understand your dataset at a high level. It should provide an overview of the scientific context/project/hypotheses, how this data package fits into the larger context, a synopsis of the experimental or sampling design, and a summary of the data contents.</p>
<p><img src="images/editor-knb-03.png" class="img-fluid"></p>
<p><strong>Keywords</strong>, while not required, can help increase the searchability of your dataset, particularly if they come from a semantically defined keyword thesaurus.</p>
<p><img src="images/editor-knb-04.png" class="img-fluid"></p>
<p>Optionally, you can also enter funding information, including a funding number, which can help link multiple datasets collected under the same grant.</p>
<p>Selecting a distribution <strong>license</strong> - either <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC-0</a> or <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a> is required.</p>
<p><img src="images/editor-knb-05.png" class="img-fluid"></p>
</section>
<section id="people-information" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="people-information"><strong>People Information</strong></h4>
<p>Information about the people associated with the dataset is essential to provide credit through citation and to help people understand who made contributions to the product. Enter information for the following people:</p>
<ul>
<li>Creators - <strong>all the people who should be in the citation for the dataset</strong></li>
<li>Contacts - one is required, but defaults to the first Creator if omitted</li>
<li>Principal Investigators</li>
<li>and any other that are relevant</li>
</ul>
<p>For each, please strive to provide their <a href="https://orcid.org">ORCID</a> identifier, which helps link this dataset to their other scholarly works.</p>
<p><img src="images/editor-knb-06.png" class="img-fluid"></p>
</section>
<section id="temporal-information" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="temporal-information"><strong>Temporal Information</strong></h4>
<p>Add the temporal coverage of the data, which represents the time period to which data apply.</p>
<p><img src="images/editor-knb-09.png" class="img-fluid"></p>
</section>
<section id="location-information" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="location-information"><strong>Location Information</strong></h4>
<p>The geospatial location that the data were collected is critical for discovery and interpretation of the data. Coordinates are entered in decimal degrees, and be sure to use negative values for West longitudes. The editor allows you to enter multiple locations, which you should do if you had noncontiguous sampling locations. This is particularly important if your sites are separated by large distances, so that a spatial search will be more precise.</p>
<p><img src="images/editor-knb-07.png" class="img-fluid"></p>
<p>Note that, if you miss fields that are required, they will be highlighted in red to draw your attention. In this case, for the description, provide a comma-separated place name, ordered from the local to global. For example:</p>
<ul>
<li>Mission Canyon, Santa Barbara, California, USA</li>
</ul>
<p><img src="images/editor-knb-08.png" class="img-fluid"></p>
</section>
<section id="methods" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="methods"><strong>Methods</strong></h4>
<p>Methods are critical to accurate interpretation and reuse of your data. The editor allows you to add multiple different methods sections, include details of sampling methods, experimental design, quality assurance procedures, and computational techniques and software. Please be complete with your methods sections, as they are fundamentally important to reuse of the data.</p>
<p><img src="images/editor-knb-10.png" class="img-fluid"></p>
</section>
<section id="save-a-first-version-with-submit" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="save-a-first-version-with-submit"><strong>Save a first version with <em>Submit</em> </strong></h4>
<p>When finished, click the <em>Submit Dataset</em> button at the bottom.<br>
If there are errors or missing fields, they will be highlighted.<br>
Correct those, and then try submitting again. When you are successful, you should see a green banner with a link to the current dataset view. Click the <code>X</code> to close that banner, if you want to continue editing metadata.</p>
<p><img src="images/editor-knb-11.png" class="img-fluid"></p>
<p>Success!</p>
</section>
<section id="file-and-variable-level-metadata" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="file-and-variable-level-metadata"><strong>File and variable level metadata</strong></h4>
<p>The final major section of metadata concerns the structure and contents of your data files (Entities). In this case, provide the names and descriptions of the data contained in each file, as well as details of their internal structure.</p>
<p>For example, for data tables, you’ll need the name, label, and definition of each variable in your file. Click the <strong>Describe</strong> button to access a dialog to enter this information.</p>
<p><img src="images/editor-knb-12.png" class="img-fluid"></p>
<p>The <strong>Attributes</strong> tab is where you enter variable (aka attribute) information. In the case of tabular data (such as csv files) each column is an attribute, thus there should be one attribute defined for every column in your dataset. Attribute metadata includes:</p>
<ul>
<li>variable name (for programs)</li>
<li>variable label (for display)</li>
</ul>
<p><img src="images/editor-knb-13.png" class="img-fluid"></p>
<ul>
<li>variable definition (be specific)</li>
<li>type of measurement</li>
</ul>
<p><img src="images/editor-knb-14.png" class="img-fluid"></p>
<ul>
<li>units &amp; code definitions</li>
</ul>
<p><img src="images/editor-knb-15.png" class="img-fluid"></p>
<p>You’ll need to add these definitions for every variable (column) in the file. When done, click <strong>Done</strong>.</p>
<p><img src="images/editor-knb-16.png" class="img-fluid"></p>
<p>Now the list of data files will show a green checkbox indicating that you have full described that file’s internal structure. Proceed with the other CSV files, and then click <strong>Submit Dataset</strong> to save all of these changes.</p>
<p>Note that attribute information is not relevant for data files that do not contain variables, such as the R script in this example. Other examples of data files that might not need attributes are images, pdfs, and non-tabular text documents (such as readme files). The yellow circle in the editor indicates that attributes have not been filled out for a data file, and serves as a warning that they might be needed, depending on the file.</p>
<p><img src="images/editor-knb-17.png" class="img-fluid"></p>
<p>After you get the green success message, you can visit your dataset and review all of the information that you provided. If you find any errors, simply click <strong>Edit</strong> again to make changes.</p>
</section>
<section id="add-workflow-provenance" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="add-workflow-provenance"><strong>Add workflow provenance</strong></h4>
<p>Understanding the relationships between files in a package is critically important, especially as the number of files grows. Raw data are transformed and integrated to produce derived data, that are often then used in analysis and visualization code to produce final outputs. In DataONE, we support structured descriptions of these relationships, so one can see the flow of data from raw data to derived to outputs.</p>
<p>Once you have saved your data package, you can add provenance by navigating to the data table descriptions, and selecting the <code>Add</code> buttons to link the data and scripts that were used in your computational workflow. On the left side, select the <code>Add</code> circle to add an input data source to the delta_restoration_locations_visits_2022_2023.csv file. This starts building the provenance graph to explain the origin and history of each data object.</p>
<p><img src="images/editor-knb-18.png" class="img-fluid"></p>
<p>The linkage to the source dataset should appear.</p>
<p><img src="images/editor-knb-19.png" class="img-fluid"></p>
<p>Then you can add the link to the source code that handled the conversion between the data files by clicking on <code>Add</code> arrow and selecting the R script. Note that you have to add the scrip as a file in your data package to be able to reference on the workflow.</p>
<p><img src="images/editor-knb-20.png" class="img-fluid"></p>
<p>Select the R script and click “Done.”</p>
<p><img src="images/editor-knb-21.png" class="img-fluid"></p>
<p><img src="images/editor-knb-22.png" class="img-fluid"></p>
<p>The diagram now shows the relationships among the data files and the R script, so click <strong>Submit</strong> to save another version of the package.</p>
<p><img src="images/editor-knb-23.png" class="img-fluid"></p>
<p>Et voilà! A beautifully preserved data package!</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-borer_simple_2009" class="csl-entry" role="listitem">
Borer, Elizabeth, Eric Seabloom, Matthew B. Jones, and Mark Schildhauer. 2009. <span>“Some <span>Simple</span> <span>Guidelines</span> for <span>Effective</span> <span>Data</span> <span>Management</span>.”</span> <em>Bulletin of the Ecological Society of America</em> 90: 205–14. <a href="https://doi.org/10.1890/0012-9623-90.2.205">https://doi.org/10.1890/0012-9623-90.2.205</a>.
</div>
<div id="ref-white_nine_2013" class="csl-entry" role="listitem">
White, Ethan, Elita Baldridge, Zachary Brym, Kenneth Locey, Daniel McGlinn, and Sarah Supp. 2013. <span>“Nine Simple Ways to Make It Easier to (Re)use Your Data.”</span> <em>Ideas in Ecology and Evolution</em> 6 (2). <a href="https://doi.org/10.4033/iee.2013.6b.6.f">https://doi.org/10.4033/iee.2013.6b.6.f</a>.
</div>
</div>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./session_10.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./session_12.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Git Workflows</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>