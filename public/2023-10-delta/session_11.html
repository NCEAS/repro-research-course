<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>NCEAS Open Science Synthesis for the Delta Science Program - 11&nbsp; Publishing Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./session_12.html" rel="next">
<link href="./session_10.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session_11.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Publishing Data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Publishing Data</span></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Course Materials</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.nceas.ucsb.edu/learning-hub" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-door-fill"></i></a>
    <a href="https://twitter.com/ucsb_nceas" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/NCEAS/nceas-training/tree/2023-10-delta" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Mapping Census Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Communicating Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Flexdashboard</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Shiny</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Practice Session: Shiny and Flexdashboard</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Reproducible Workflows</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Parellel Processing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_11.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Publishing Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Git Workflows</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Wrap up and Presentations</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives"><span class="header-section-number">11.1</span> Learning Objectives</a></li>
  <li><a href="#the-data-life-cycle---a-recap" id="toc-the-data-life-cycle---a-recap" class="nav-link" data-scroll-target="#the-data-life-cycle---a-recap"><span class="header-section-number">11.2</span> The Data Life Cycle - A Recap</a></li>
  <li><a href="#organizing-data" id="toc-organizing-data" class="nav-link" data-scroll-target="#organizing-data"><span class="header-section-number">11.3</span> Organizing Data</a></li>
  <li><a href="#data-sharing-and-preservation" id="toc-data-sharing-and-preservation" class="nav-link" data-scroll-target="#data-sharing-and-preservation"><span class="header-section-number">11.4</span> Data sharing and preservation</a>
  <ul class="collapse">
  <li><a href="#data-repositories-built-for-data-and-code" id="toc-data-repositories-built-for-data-and-code" class="nav-link" data-scroll-target="#data-repositories-built-for-data-and-code"><span class="header-section-number">11.4.1</span> Data repositories: built for data (and code)</a></li>
  <li><a href="#metadata" id="toc-metadata" class="nav-link" data-scroll-target="#metadata"><span class="header-section-number">11.4.2</span> Metadata</a></li>
  <li><a href="#structure-of-a-data-package" id="toc-structure-of-a-data-package" class="nav-link" data-scroll-target="#structure-of-a-data-package"><span class="header-section-number">11.4.3</span> Structure of a data package</a></li>
  <li><a href="#dataone-federation" id="toc-dataone-federation" class="nav-link" data-scroll-target="#dataone-federation"><span class="header-section-number">11.4.4</span> DataONE Federation</a></li>
  </ul></li>
  <li><a href="#publishing-data-from-the-web" id="toc-publishing-data-from-the-web" class="nav-link" data-scroll-target="#publishing-data-from-the-web"><span class="header-section-number">11.5</span> Publishing data from the web</a></li>
  <li><a href="#login-via-orcid" id="toc-login-via-orcid" class="nav-link" data-scroll-target="#login-via-orcid"><span class="header-section-number">11.6</span> Login via ORCID</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="learning-objectives" class="level2 unnmbered" data-number="11.1">
<h2 class="unnmbered anchored" data-number="11.1" data-anchor-id="learning-objectives"><span class="header-section-number">11.1</span> Learning Objectives</h2>
<ul>
<li>Overview best practices for organizing data for publication<br>
</li>
<li>Review what science metadata is and how it can be used</li>
<li>Demonstrate how data and code can be documented and published in open data archives</li>
</ul>
</section>
<section id="the-data-life-cycle---a-recap" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="the-data-life-cycle---a-recap"><span class="header-section-number">11.2</span> The Data Life Cycle - A Recap</h2>
<p>The Data Life Cycle gives you an overview of meaningful steps data goes through in a research project, from planning to archival. This step-by-step breakdown facilitates overseeing individual actions, operations and processes required at each stage.</p>
<p><img src="images/data-life-cycle.png" class="img-fluid"></p>
<table class="table">
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Plan</td>
<td>Map out the processes and resources for the entire data life cycle. Start with the project goals (desired outputs, outcomes, and impacts) and work backwards to build a data management plan, supporting data policies, and sustainability plans.</td>
</tr>
<tr class="even">
<td>Collect</td>
<td>Observations are made either by hand or with sensors or other instruments and the data are placed a into digital form. You can structure the process of collecting data up front to better implement data management.</td>
</tr>
<tr class="odd">
<td>Assure</td>
<td>Employ quality assurance and quality control procedures that enhance the quality of data (e.g., training participants, routine instrument calibration) and identify potential errors and techniques to address them.</td>
</tr>
<tr class="even">
<td>Describe</td>
<td>Document data by describing the why, who, what, when, where, and how of the data. Metadata, or data about data, are key to data sharing and reuse, and many tools such as standards and software are available to help describe data.</td>
</tr>
<tr class="odd">
<td>Preserve</td>
<td>Plan to preserve data in the short term to minimize potential losses (e.g., via accidents), and in the long term so that project stakeholders and others can access, interpret, and use the data in the future. Decide what data to preserve, where to preserve it, and what documentation needs to accompany the data.</td>
</tr>
<tr class="even">
<td>Discover</td>
<td>Identify complementary data sets that can add value to project data. Strategies to help endure the data have maximum impact include registering the project on a project directory site, depositing data in an open repository, and adding data descriptions to metadata clearing houses.</td>
</tr>
<tr class="odd">
<td>Integrate</td>
<td>Data from multiple sources are combined into a form that can be readily analyzed. For example, you could combine citizen science project data with other sources of data to enable new analyses and investigations. Successful data integration depends on documentation of the integration process, clearly citing and making accessable the data you are using, and employing good data management practices throughout the <a href="https://www.dataone.org/data-life-cycle">Data Life Cycle</a>.</td>
</tr>
<tr class="even">
<td>Analyze</td>
<td>Create analyses and visualizations to identify patterns, test hypotheses, and illustrate finding. During this process record your methods, document data processing steps, and ensure your data are reproduceable. Learn about these best practices and more.</td>
</tr>
</tbody>
</table>
<p>In this lesson we focus on the <em>Describe</em> and <em>Preserve</em> stages of this cycle. However, best practices on how to organize and document your data, apply to all stages.</p>
</section>
<section id="organizing-data" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="organizing-data"><span class="header-section-number">11.3</span> Organizing Data</h2>
<p>The goal is to operate through the data life cycle with the <a href="https://learning.nceas.ucsb.edu/2023-06-delta/session_16.html">FAIR and CARE principles</a> in mind and making sure our data is in a <a href="https://learning.nceas.ucsb.edu/2023-06-delta/session_09.html#what-is-tidy-data">tidy format</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/allison-horst-why-tidy-data.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Artwork by Allison Horst</figcaption>
</figure>
</div>
<p>Benefits of having clean and tidy data and complete metadata:</p>
<ul>
<li>Decreases errors from redundant updates</li>
<li>Enforces data integrity</li>
<li>Helps you and future researchers to handle large, complex datasets</li>
<li>Enables powerful search filtering</li>
</ul>
<p>Some of the best practices to follow are (<span class="citation" data-cites="borer_simple_2009">Borer et al. (<a href="#ref-borer_simple_2009" role="doc-biblioref">2009</a>)</span>, <span class="citation" data-cites="white_nine_2013">White et al. (<a href="#ref-white_nine_2013" role="doc-biblioref">2013</a>)</span>):</p>
<ul>
<li>Have scripts for all data wrangling that start with the uncorrected raw data file and clean the data programmatically before analysis.</li>
<li>Design your tables to add rows, not columns. A column should be only one variable and a row should be only one observation.</li>
<li>Include header lines in your tables</li>
<li>Use non-proprietary file formats (ie, open source) with descriptive file names without spaces.</li>
</ul>
<p>Non-proprietary file formats are essential to ensure that your data can still be machine readable long into the future. Open formats include text files and binary formats such as NetCDF.</p>
<p><img src="images/open-formats.png" class="img-fluid"></p>
<p>Common switches:</p>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 59%">
</colgroup>
<thead>
<tr class="header">
<th>Proprietary format</th>
<th>Export to…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Microsoft Excel (.xlsx) files</td>
<td>text (.txt) or comma separated values (.csv)</td>
</tr>
<tr class="even">
<td>GIS files</td>
<td>ESRI shapefiles (.shp)</td>
</tr>
<tr class="odd">
<td>MATLAB/IDL</td>
<td>NetCDF</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Large Data Packages
</div>
</div>
<div class="callout-body-container callout-body">
<p>When you have or are going to generate large data packages (in the terabytes or larger), it’s important to establish a relationship with the data center early on.</p>
<p>The data center can help come up with a strategy to tile data structures by subset, such as by spatial region, by temporal window, or by measured variable. They can also help with choosing an efficient tool to store the data (ie NetCDF or HDF), which is a compact data format that helps parallel read and write libraries of data.</p>
</div>
</div>
</section>
<section id="data-sharing-and-preservation" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="data-sharing-and-preservation"><span class="header-section-number">11.4</span> Data sharing and preservation</h2>
<p><img src="images/WhyManage.png" class="img-fluid"></p>
<section id="data-repositories-built-for-data-and-code" class="level3" data-number="11.4.1">
<h3 data-number="11.4.1" class="anchored" data-anchor-id="data-repositories-built-for-data-and-code"><span class="header-section-number">11.4.1</span> Data repositories: built for data (and code)</h3>
<ul>
<li>GitHub is not an archival location</li>
<li>Dedicated data repositories: KNB, Arctic Data Center, Zenodo, FigShare
<ul>
<li>Rich metadata</li>
<li>Archival in their mission</li>
</ul></li>
<li>Data papers, e.g., Scientific Data</li>
<li>List of data repositories: http://re3data.org</li>
</ul>
<p><img src="images/RepoLogos.png" class="img-fluid"></p>
</section>
<section id="metadata" class="level3" data-number="11.4.2">
<h3 data-number="11.4.2" class="anchored" data-anchor-id="metadata"><span class="header-section-number">11.4.2</span> Metadata</h3>
<p>Metadata are documentation describing the content, context, and structure of data to enable future interpretation and reuse of the data. Generally, metadata describe who collected the data, what data were collected, when and where it was collected, and why it was collected.</p>
<p>For consistency, metadata are typically structured following metadata content standards such as the <a href="https://knb.ecoinformatics.org/software/eml/">Ecological Metadata Language (EML)</a>. For example, here’s an excerpt of the metadata for a sockeye salmon data set:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">"1.0"</span><span class="ot"> encoding=</span><span class="st">"UTF-8"</span><span class="fu">?&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">eml:eml</span><span class="ot"> packageId=</span><span class="st">"df35d.442.6"</span><span class="ot"> system=</span><span class="st">"knb"</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ot">    xmlns:eml=</span><span class="st">"eml://ecoinformatics.org/eml-2.1.1"</span>&gt;</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">dataset</span>&gt;</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">title</span>&gt;Improving Preseason Forecasts of Sockeye Salmon Runs through </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            Salmon Smolt Monitoring in Kenai River, Alaska: 2005 - 2007&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">creator</span><span class="ot"> id=</span><span class="st">"1385594069457"</span>&gt;</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">individualName</span>&gt;</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">givenName</span>&gt;Mark&lt;/<span class="kw">givenName</span>&gt;</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">surName</span>&gt;Willette&lt;/<span class="kw">surName</span>&gt;</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">individualName</span>&gt;</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">organizationName</span>&gt;Alaska Department of Fish and Game&lt;/<span class="kw">organizationName</span>&gt;</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">positionName</span>&gt;Fishery Biologist&lt;/<span class="kw">positionName</span>&gt;</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">address</span>&gt;</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">city</span>&gt;Soldotna&lt;/<span class="kw">city</span>&gt;</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">administrativeArea</span>&gt;Alaska&lt;/<span class="kw">administrativeArea</span>&gt;</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">country</span>&gt;USA&lt;/<span class="kw">country</span>&gt;</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">address</span>&gt;</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">phone</span><span class="ot"> phonetype=</span><span class="st">"voice"</span>&gt;(907)260-2911&lt;/<span class="kw">phone</span>&gt;</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">electronicMailAddress</span>&gt;mark.willette@alaska.gov&lt;/<span class="kw">electronicMailAddress</span>&gt;</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        &lt;/<span class="kw">creator</span>&gt;</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">dataset</span>&gt;</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">eml:eml</span>&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>That same metadata document can be converted to HTML format and displayed in a much more readable form on the web: https://knb.ecoinformatics.org/#view/doi:10.5063/F1F18WN4</p>
<p><img src="images/knb-metadata.png" class="img-fluid"> And as you can see, the whole data set or its components can be downloaded and reused.</p>
<p>Also note that the repository tracks how many times each file has been downloaded, which gives great feedback to researchers on the activity for their published data.</p>
</section>
<section id="structure-of-a-data-package" class="level3" data-number="11.4.3">
<h3 data-number="11.4.3" class="anchored" data-anchor-id="structure-of-a-data-package"><span class="header-section-number">11.4.3</span> Structure of a data package</h3>
<p>Note that the data set above lists a collection of files that are contained within the data set. We define a <em>data package</em> as a scientifically useful collection of data and metadata that a researcher wants to preserve. Sometimes a data package represents all of the data from a particular experiment, while at other times it might be all of the data from a grant, or on a topic, or associated with a paper. Whatever the extent, we define a data package as having one or more data files, software files, and other scientific products such as graphs and images, all tied together with a descriptive metadata document.</p>
<p><img src="images/data-package.png" class="img-fluid"> These data repositories all assign a unique identifier to every version of every data file, similarly to how it works with source code commits in GitHub. Those identifiers usually take one of two forms. A <em>DOI</em> identifier is often assigned to the metadata and becomes the publicly citable identifier for the package. Each of the other files gets an internal identifier, often a UUID that is globally unique. In the example above, the package can be cited with the DOI <code>doi:10.5063/F1F18WN4</code>.</p>
</section>
<section id="dataone-federation" class="level3" data-number="11.4.4">
<h3 data-number="11.4.4" class="anchored" data-anchor-id="dataone-federation"><span class="header-section-number">11.4.4</span> DataONE Federation</h3>
<p>DataONE is a federation of dozens of data repositories that work together to make their systems interoperable and to provide a single unified search system that spans the repositories. DataONE aims to make it simpler for researchers to publish data to one of its member repositories, and then to discover and download that data for reuse in synthetic analyses.</p>
<p>DataONE can be searched on the web (https://search.dataone.org/), which effectively allows a single search to find data form the dozens of members of DataONE, rather than visiting each of the currently 43 repositories one at a time.</p>
<p><img src="images/DataONECNs.png" class="img-fluid"></p>
</section>
</section>
<section id="publishing-data-from-the-web" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="publishing-data-from-the-web"><span class="header-section-number">11.5</span> Publishing data from the web</h2>
<p>Each data repository tends to have its own mechanism for submitting data and providing metadata. With repositories like the KNB Data Repository and the Arctic Data Center, we provide some easy to use web forms for editing and submitting a data package. Let’s walk through a web submission to see what you might expect.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Setup
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Download the data to be used for the tutorial</strong></p>
<p>I’ve already uploaded the test data package, and so you can access the data here:</p>
<ul>
<li>https://dev.nceas.ucsb.edu/view/urn:uuid:0702cc63-4483-4af4-a218-531ccc59069f</li>
</ul>
<p>Grab both CSV files, and the R script, and store them in a convenient folder.</p>
<p><img src="images/hatfield-knb-01.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="login-via-orcid" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="login-via-orcid"><span class="header-section-number">11.6</span> Login via ORCID</h2>
<p>We will walk through web submission on https://demo.nceas.ucsb.edu, and start by logging in with an ORCID account. ORCID provides a common account for sharing scholarly data, so if you don’t have one, you can create one when you are redirected to ORCID from the <em>Sign In</em> button.</p>
<p><img src="images/knb-banner.png" class="img-fluid"></p>
<p>When you sign in, you will be redirected to <a href="https://orcid.org">orcid.org</a>, where you can either provide your existing ORCID credentials, or create a new account. ORCID provides multiple ways to login, including using your email address, institutional logins from many universities, and logins from social media account providers. Choose the one that is best suited to your use as a scholarly record, such as your university or agency login.</p>
<p><img src="images/orcid-login.png" class="img-fluid"></p>
<section id="create-and-submit-the-data-set" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="create-and-submit-the-data-set">Create and submit the data set</h4>
<p>After signing in, you can access the data submission form using the <em>Submit</em> button. Once on the form, upload your data files and follow the prompts to provide the required metadata. Required sections are listed with a red asterisk.</p>
<section id="click-add-files-to-choose-the-data-files-for-your-package" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="click-add-files-to-choose-the-data-files-for-your-package">Click <strong>Add Files</strong> to choose the data files for your package</h5>
<p>You can select multiple files at a time to efficiently upload many files.</p>
<p><img src="images/editor-knb-01.png" class="img-fluid"></p>
<p>The files will upload showing a progress indicator. You can continue editing metadata while they upload.</p>
<p><img src="images/editor-knb-02.png" class="img-fluid"></p>
</section>
<section id="enter-overview-information" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="enter-overview-information">Enter Overview information</h5>
<p>This includes a descriptive title, abstract, and keywords.</p>
<p>The title is the first way a potential user will get information about your dataset. It should be descriptive but succinct, lack acronyms, and include some indication of the temporal and geospatial coverage of the data.</p>
<p>The abstract should be sufficently descriptive for a general scientific audience to understand your dataset at a high level. It should provide an overview of the scientific context/project/hypotheses, how this data package fits into the larger context, a synopsis of the experimental or sampling design, and a summary of the data contents.</p>
<p><img src="images/editor-knb-03.png" class="img-fluid"></p>
<p>Keywords, while not required, can help increase the searchability of your dataset, particularly if they come from a semantically defined keyword thesaurus.</p>
<p><img src="images/editor-knb-04.png" class="img-fluid"></p>
<p>Optionally, you can also enter funding information, including a funding number, which can help link multiple datasets collected under the same grant.</p>
<p>Selecting a distribution license - either <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC-0</a> or <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a> is required.</p>
<p><img src="images/editor-knb-05.png" class="img-fluid"></p>
</section>
<section id="people-information" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="people-information">People Information</h5>
<p>Information about the people associated with the dataset is essential to provide credit through citation and to help people understand who made contributions to the product. Enter information for the following people:</p>
<ul>
<li>Creators - <strong>all the people who should be in the citation for the dataset</strong></li>
<li>Contacts - one is required, but defaults to the first Creator if omitted</li>
<li>Principal Investigators</li>
<li>and any other that are relevant</li>
</ul>
<p>For each, please strive to provide their <a href="https://orcid.org">ORCID</a> identifier, which helps link this dataset to their other scholarly works.</p>
<p><img src="images/editor-knb-06.png" class="img-fluid"></p>
</section>
<section id="temporal-information" class="level5" data-number="11.6.0.0.1">
<h5 data-number="11.6.0.0.1" class="anchored" data-anchor-id="temporal-information"><span class="header-section-number">11.6.0.0.1</span> Temporal Information</h5>
<p>Add the temporal coverage of the data, which represents the time period to which data apply.</p>
<p><img src="images/editor-knb-09.png" class="img-fluid"></p>
</section>
<section id="location-information" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="location-information">Location Information</h5>
<p>The geospatial location that the data were collected is critical for discovery and interpretation of the data. Coordinates are entered in decimal degrees, and be sure to use negative values for West longitudes. The editor allows you to enter multiple locations, which you should do if you had noncontiguous sampling locations. This is particularly important if your sites are separated by large distances, so that a spatial search will be more precise.</p>
<p><img src="images/editor-knb-07.png" class="img-fluid"></p>
<p>Note that, if you miss fields that are required, they will be highlighted in red to draw your attention. In this case, for the description, provide a comma-separated place name, ordered from the local to global. For example:</p>
<ul>
<li>Mission Canyon, Santa Barbara, California, USA</li>
</ul>
<p><img src="images/editor-knb-08.png" class="img-fluid"></p>
</section>
<section id="methods" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="methods">Methods</h5>
<p>Methods are critical to accurate interpretation and reuse of your data. The editor allows you to add multiple different methods sections, include details of sampling methods, experimental design, quality assurance procedures, and computational techniques and software. Please be complete with your methods sections, as they are fundamentally important to reuse of the data.</p>
<p><img src="images/editor-knb-10.png" class="img-fluid"></p>
</section>
<section id="save-a-first-version-with-submit" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="save-a-first-version-with-submit">Save a first version with <strong>Submit</strong></h5>
<p>When finished, click the <em>Submit Dataset</em> button at the bottom.<br>
If there are errors or missing fields, they will be highlighted.<br>
Correct those, and then try submitting again. When you are successful, you should see a green banner with a link to the current dataset view. Click the <code>X</code> to close that banner, if you want to continue editing metadata.</p>
<p><img src="images/editor-knb-11.png" class="img-fluid"></p>
<p>Success!</p>
</section>
</section>
<section id="file-and-variable-level-metadata" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="file-and-variable-level-metadata">File and variable level metadata</h4>
<p>The final major section of metadata concerns the structure and contents of your data files. In this case, provide the names and descriptions of the data contained in each file, as well as details of their internal structure.</p>
<p>For example, for data tables, you’ll need the name, label, and definition of each variable in your file. Click the <strong>Describe</strong> button to access a dialog to enter this information.</p>
<p><img src="images/editor-knb-12.png" class="img-fluid"></p>
<p>The <strong>Attributes</strong> tab is where you enter variable (aka attribute) information. In the case of tabular data (such as csv files) each column is an attribute, thus there should be one attribute defined for every column in your dataset. Attribute metadata includes:</p>
<ul>
<li>variable name (for programs)</li>
<li>variable label (for display)</li>
</ul>
<p><img src="images/editor-knb-13.png" class="img-fluid"></p>
<ul>
<li>variable definition (be specific)</li>
<li>type of measurement</li>
</ul>
<p><img src="images/editor-knb-14.png" class="img-fluid"></p>
<ul>
<li>units &amp; code definitions</li>
</ul>
<p><img src="images/editor-knb-15.png" class="img-fluid"></p>
<p>You’ll need to add these definitions for every variable (column) in the file. When done, click <strong>Done</strong>.</p>
<p><img src="images/editor-knb-16.png" class="img-fluid"></p>
<p>Now the list of data files will show a green checkbox indicating that you have full described that file’s internal structure. Proceed with the other CSV files, and then click <strong>Submit Dataset</strong> to save all of these changes.</p>
<p>Note that attribute information is not relevant for data files that do not contain variables, such as the R script in this example. Other examples of data files that might not need attributes are images, pdfs, and non-tabular text documents (such as readme files). The yellow circle in the editor indicates that attributes have not been filled out for a data file, and serves as a warning that they might be needed, depending on the file.</p>
<p><img src="images/editor-knb-17.png" class="img-fluid"></p>
<p>After you get the green success message, you can visit your dataset and review all of the information that you provided. If you find any errors, simply click <strong>Edit</strong> again to make changes.</p>
</section>
<section id="add-workflow-provenance" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="add-workflow-provenance">Add workflow provenance</h4>
<p>Understanding the relationships between files in a package is critically important, especially as the number of files grows. Raw data are transformed and integrated to produce derived data, that are often then used in analysis and visualization code to produce final outputs. In DataONE, we support structured descriptions of these relationships, so one can see the flow of data from raw data to derived to outputs.</p>
<p>You add provenance by navigating to the data table descriptions, and selecting the <code>Add</code> buttons to link the data and scripts that were used in your computational workflow. On the left side, select the <code>Add</code> circle to add an input data source to the filteredSpecies.csv file. This starts building the provenance graph to explain the origin and history of each data object.</p>
<p><img src="images/editor-knb-18.png" class="img-fluid"></p>
<p>The linkage to the source dataset should appear.</p>
<p><img src="images/editor-knb-19.png" class="img-fluid"></p>
<p>Then you can add the link to the source code that handled the conversion between the data files by clicking on <code>Add</code> arrow and selecting the R script:</p>
<p><img src="images/editor-knb-20.png" class="img-fluid"></p>
<p>Select the R script and click “Done.”</p>
<p><img src="images/editor-knb-21.png" class="img-fluid"></p>
<p><img src="images/editor-knb-22.png" class="img-fluid"></p>
<p>The diagram now shows the relationships among the data files and the R script, so click <strong>Submit</strong> to save another version of the package.</p>
<p><img src="images/editor-knb-23.png" class="img-fluid"></p>
<p>Et voilà! A beatifully preserved data package!</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-borer_simple_2009" class="csl-entry" role="listitem">
Borer, Elizabeth, Eric Seabloom, Matthew B. Jones, and Mark Schildhauer. 2009. <span>“Some <span>Simple</span> <span>Guidelines</span> for <span>Effective</span> <span>Data</span> <span>Management</span>.”</span> <em>Bulletin of the Ecological Society of America</em> 90: 205–14. <a href="https://doi.org/10.1890/0012-9623-90.2.205">https://doi.org/10.1890/0012-9623-90.2.205</a>.
</div>
<div id="ref-white_nine_2013" class="csl-entry" role="listitem">
White, Ethan, Elita Baldridge, Zachary Brym, Kenneth Locey, Daniel McGlinn, and Sarah Supp. 2013. <span>“Nine Simple Ways to Make It Easier to (Re)use Your Data.”</span> <em>Ideas in Ecology and Evolution</em> 6 (2). <a href="https://doi.org/10.4033/iee.2013.6b.6.f">https://doi.org/10.4033/iee.2013.6b.6.f</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./session_10.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Hands On Synthesis</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./session_12.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Git Workflows</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>