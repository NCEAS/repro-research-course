<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>12 Exercise: Cleaning and Manipulating Data | Reproducible Practices for Arctic Research Using R</title>
  <meta name="description" content="12 Exercise: Cleaning and Manipulating Data | Reproducible Practices for Arctic Research Using R" />
  <meta name="generator" content="bookdown 0.24.10 and GitBook 2.6.7" />

  <meta property="og:title" content="12 Exercise: Cleaning and Manipulating Data | Reproducible Practices for Arctic Research Using R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12 Exercise: Cleaning and Manipulating Data | Reproducible Practices for Arctic Research Using R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-portals.html"/>
<link rel="next" href="geospatial-vector-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.21/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.0/leaflet.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#reproducible-research-techniques-for-synthesis">Reproducible Practices for Arctic Research Using R<span></span></a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>0.1</b> Schedule<span></span></a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>0.1.1</b> Code of Conduct<span></span></a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#logistics"><i class="fa fa-check"></i><b>0.1.2</b> Logistics<span></span></a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i><b>0.1.3</b> About this book<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html"><i class="fa fa-check"></i><b>1</b> Introduction to the Arctic Data Center<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#introduction-to-the-arctic-data-center-and-nsf-standards-and-policies"><i class="fa fa-check"></i><b>1.1</b> Introduction to the Arctic Data Center and NSF Standards and Policies<span></span></a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#learning-objectives"><i class="fa fa-check"></i><b>1.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#arctic-data-center---history-and-introduction"><i class="fa fa-check"></i><b>1.1.2</b> Arctic Data Center - History and Introduction<span></span></a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#data-discovery-portal"><i class="fa fa-check"></i><b>1.1.3</b> Data Discovery Portal<span></span></a></li>
<li class="chapter" data-level="1.1.4" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#tools-and-infrastructure"><i class="fa fa-check"></i><b>1.1.4</b> Tools and Infrastructure<span></span></a></li>
<li class="chapter" data-level="1.1.5" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#support-services"><i class="fa fa-check"></i><b>1.1.5</b> Support Services<span></span></a></li>
<li class="chapter" data-level="1.1.6" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#training-and-outreach"><i class="fa fa-check"></i><b>1.1.6</b> Training and Outreach<span></span></a></li>
<li class="chapter" data-level="1.1.7" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#data-rescue"><i class="fa fa-check"></i><b>1.1.7</b> Data Rescue<span></span></a></li>
<li class="chapter" data-level="1.1.8" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#who-must-submit"><i class="fa fa-check"></i><b>1.1.8</b> Who Must Submit<span></span></a></li>
<li class="chapter" data-level="1.1.9" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#summary"><i class="fa fa-check"></i><b>1.1.9</b> Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#writing-good-data-management-plans"><i class="fa fa-check"></i><b>1.2</b> Writing Good Data Management Plans<span></span></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#learning-objectives-1"><i class="fa fa-check"></i><b>1.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#when-to-plan-the-data-life-cycle"><i class="fa fa-check"></i><b>1.2.2</b> When to Plan: The Data Life Cycle<span></span></a></li>
<li class="chapter" data-level="1.2.3" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#why-plan"><i class="fa fa-check"></i><b>1.2.3</b> Why Plan?<span></span></a></li>
<li class="chapter" data-level="1.2.4" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#how-to-plan"><i class="fa fa-check"></i><b>1.2.4</b> How to Plan<span></span></a></li>
<li class="chapter" data-level="1.2.5" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#what-to-include-in-a-dmp"><i class="fa fa-check"></i><b>1.2.5</b> What to include in a DMP<span></span></a></li>
<li class="chapter" data-level="1.2.6" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#nsf-dmp-requirements"><i class="fa fa-check"></i><b>1.2.6</b> NSF DMP requirements<span></span></a></li>
<li class="chapter" data-level="1.2.7" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#tools-in-support-of-creating-a-dmp"><i class="fa fa-check"></i><b>1.2.7</b> Tools in Support of Creating a DMP<span></span></a></li>
<li class="chapter" data-level="1.2.8" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#arctic-data-center-support-for-dmps"><i class="fa fa-check"></i><b>1.2.8</b> Arctic Data Center Support for DMPs<span></span></a></li>
<li class="chapter" data-level="1.2.9" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#sharing-your-dmp"><i class="fa fa-check"></i><b>1.2.9</b> Sharing Your DMP<span></span></a></li>
<li class="chapter" data-level="1.2.10" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#additional-resources"><i class="fa fa-check"></i><b>1.2.10</b> Additional Resources<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html"><i class="fa fa-check"></i><b>2</b> Documenting and Publishing Data<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#data-documentation-and-publishing"><i class="fa fa-check"></i><b>2.1</b> Data Documentation and Publishing<span></span></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#learning-objectives-2"><i class="fa fa-check"></i><b>2.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#data-sharing-and-preservation"><i class="fa fa-check"></i><b>2.1.2</b> Data sharing and preservation<span></span></a></li>
<li class="chapter" data-level="2.1.3" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#data-repositories-built-for-data-and-code"><i class="fa fa-check"></i><b>2.1.3</b> Data repositories: built for data (and code)<span></span></a></li>
<li class="chapter" data-level="2.1.4" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#metadata"><i class="fa fa-check"></i><b>2.1.4</b> Metadata<span></span></a></li>
<li class="chapter" data-level="2.1.5" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#structure-of-a-data-package"><i class="fa fa-check"></i><b>2.1.5</b> Structure of a data package<span></span></a></li>
<li class="chapter" data-level="2.1.6" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#dataone-federation"><i class="fa fa-check"></i><b>2.1.6</b> DataONE Federation<span></span></a></li>
<li class="chapter" data-level="2.1.7" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#publishing-data-from-the-web"><i class="fa fa-check"></i><b>2.1.7</b> Publishing data from the web<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html"><i class="fa fa-check"></i><b>3</b> Literate Analysis with RMarkdown<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#rstudio-and-gitgithub-setup"><i class="fa fa-check"></i><b>3.1</b> RStudio and Git/GitHub Setup<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#learning-objectives-3"><i class="fa fa-check"></i><b>3.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#logging-into-the-rstudio-server"><i class="fa fa-check"></i><b>3.1.2</b> Logging into the RStudio server<span></span></a></li>
<li class="chapter" data-level="3.1.3" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#preparing-to-work-in-rstudio"><i class="fa fa-check"></i><b>3.1.3</b> Preparing to work in RStudio<span></span></a></li>
<li class="chapter" data-level="3.1.4" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#setting-up-the-r-environment-on-your-local-computer"><i class="fa fa-check"></i><b>3.1.4</b> Setting up the R environment on your local computer<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#literate-analysis-with-rmarkdown-1"><i class="fa fa-check"></i><b>3.2</b> Literate Analysis with RMarkdown<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#learning-objectives-4"><i class="fa fa-check"></i><b>3.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#introduction-and-motivation"><i class="fa fa-check"></i><b>3.2.2</b> Introduction and motivation<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#basic-rmarkdown-syntax"><i class="fa fa-check"></i><b>3.2.3</b> Basic RMarkdown syntax<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#code-chunks"><i class="fa fa-check"></i><b>3.2.4</b> Code chunks<span></span></a></li>
<li class="chapter" data-level="3.2.5" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#literate-analysis-practice"><i class="fa fa-check"></i><b>3.2.5</b> Literate analysis practice<span></span></a></li>
<li class="chapter" data-level="3.2.6" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#rmarkdown-and-environments"><i class="fa fa-check"></i><b>3.2.6</b> RMarkdown and environments<span></span></a></li>
<li class="chapter" data-level="3.2.7" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#go-further"><i class="fa fa-check"></i><b>3.2.7</b> Go Further<span></span></a></li>
<li class="chapter" data-level="3.2.8" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#resources"><i class="fa fa-check"></i><b>3.2.8</b> Resources<span></span></a></li>
<li class="chapter" data-level="3.2.9" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>3.2.9</b> Troubleshooting<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html"><i class="fa fa-check"></i><b>4</b> Version Control with git and GitHub<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#learning-objectives-5"><i class="fa fa-check"></i><b>4.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#introduction-to-git"><i class="fa fa-check"></i><b>4.2</b> Introduction to git<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#a-motivating-example"><i class="fa fa-check"></i><b>4.2.1</b> A Motivating Example<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#version-control-and-collaboration-using-git-and-github">Version control and Collaboration using Git and GitHub<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#lets-look-at-a-github-repository">Let’s look at a GitHub repository<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#the-git-lifecycle">The Git lifecycle<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#create-a-remote-repository-on-github"><i class="fa fa-check"></i><b>4.3</b> Create a remote repository on GitHub<span></span></a>
<ul>
<li><a href="version-control-with-git-and-github.html#setup-4">Setup<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-1"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-5">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-2"></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#working-locally-with-git-via-rstudio"><i class="fa fa-check"></i><b>4.4</b> Working locally with Git via RStudio<span></span></a>
<ul>
<li><a href="version-control-with-git-and-github.html#setup-5">Setup<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-3"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-6">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-4"></a></li>
<li><a href="version-control-with-git-and-github.html#aside-3">Aside<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#collaboration-and-conflict-free-workflows">Collaboration and conflict free workflows<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#setting-up-git-on-an-existing-project"><i class="fa fa-check"></i><b>4.5</b> Setting up git on an existing project<span></span></a>
<ul>
<li><a href="version-control-with-git-and-github.html#challenge-7">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-5"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-8">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-6"></a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#go-further-1"><i class="fa fa-check"></i><b>4.6</b> Go Further<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html"><i class="fa fa-check"></i><b>5</b> git Collaboration and Conflict Management<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#learning-objectives-6"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#introduction"><i class="fa fa-check"></i><b>5.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#collaborating-with-a-trusted-colleague-without-conflicts"><i class="fa fa-check"></i><b>5.3</b> Collaborating with a trusted colleague <strong>without conflicts</strong><span></span></a>
<ul>
<li><a href="git-collaboration-and-conflict-management.html#setup-6">Setup<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-7"></a></li>
<li class="chapter" data-level="5.3.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-1-collaborator-clone"><i class="fa fa-check"></i><b>5.3.1</b> Step 1: Collaborator clone<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-2-collaborator-edits"><i class="fa fa-check"></i><b>5.3.2</b> Step 2: Collaborator Edits<span></span></a></li>
<li class="chapter" data-level="5.3.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-3-collaborator-commit-and-push"><i class="fa fa-check"></i><b>5.3.3</b> Step 3: Collaborator commit and push<span></span></a></li>
<li class="chapter" data-level="5.3.4" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-4-owner-pull"><i class="fa fa-check"></i><b>5.3.4</b> Step 4: Owner pull<span></span></a></li>
<li class="chapter" data-level="5.3.5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-5-owner-edits-commit-and-push"><i class="fa fa-check"></i><b>5.3.5</b> Step 5: Owner edits, commit, and push<span></span></a></li>
<li class="chapter" data-level="5.3.6" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-6-collaborator-pull"><i class="fa fa-check"></i><b>5.3.6</b> Step 6: Collaborator pull<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#challenge-9">Challenge<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-8"></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#merge-conflicts"><i class="fa fa-check"></i><b>5.4</b> Merge conflicts<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#how-to-resolve-a-conflict"><i class="fa fa-check"></i><b>5.5</b> How to resolve a conflict<span></span></a>
<ul>
<li><a href="git-collaboration-and-conflict-management.html#abort-abort-abort">Abort, abort, abort…<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#checkout">Checkout<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#pull-and-edit-the-file">Pull and edit the file<span></span></a></li>
<li class="chapter" data-level="5.5.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#producing-and-resolving-merge-conflicts"><i class="fa fa-check"></i><b>5.5.1</b> Producing and resolving merge conflicts<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#merge-conflict-challenge">Merge Conflict Challenge<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-9"></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#workflows-to-avoid-merge-conflicts"><i class="fa fa-check"></i><b>5.6</b> Workflows to avoid merge conflicts<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html"><i class="fa fa-check"></i><b>6</b> Social Aspects of Collaboration<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#thinking-preferences"><i class="fa fa-check"></i><b>6.1</b> Thinking preferences<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#learning-objectives-7"><i class="fa fa-check"></i><b>6.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#thinking-preferences-activity"><i class="fa fa-check"></i><b>6.1.2</b> Thinking Preferences Activity<span></span></a></li>
<li class="chapter" data-level="6.1.3" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#about-the-whole-brain-thinking-system"><i class="fa fa-check"></i><b>6.1.3</b> About the Whole Brain Thinking System<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#collaboration-authorship-and-data-policies"><i class="fa fa-check"></i><b>6.2</b> Collaboration, authorship and data policies<span></span></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#developing-a-code-of-conduct"><i class="fa fa-check"></i><b>6.2.1</b> Developing a Code of Conduct<span></span></a></li>
<li class="chapter" data-level="6.2.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#authorship-and-credit"><i class="fa fa-check"></i><b>6.2.2</b> Authorship and Credit<span></span></a></li>
<li class="chapter" data-level="6.2.3" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#data-policies"><i class="fa fa-check"></i><b>6.2.3</b> Data Policies<span></span></a></li>
<li class="chapter" data-level="6.2.4" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#community-principles-care-and-fair"><i class="fa fa-check"></i><b>6.2.4</b> Community Principles: CARE and FAIR<span></span></a></li>
<li class="chapter" data-level="6.2.5" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#extra-reading"><i class="fa fa-check"></i><b>6.2.5</b> Extra Reading<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html"><i class="fa fa-check"></i><b>7</b> Data Modeling Essentials<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#data-modeling-tidy-data"><i class="fa fa-check"></i><b>7.1</b> Data Modeling &amp; Tidy Data<span></span></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#learning-objectives-8"><i class="fa fa-check"></i><b>7.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="7.1.2" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#introduction-1"><i class="fa fa-check"></i><b>7.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="7.1.3" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#recognizing-untidy-data"><i class="fa fa-check"></i><b>7.1.3</b> Recognizing untidy data<span></span></a></li>
<li class="chapter" data-level="7.1.4" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#good-enough-data-modeling"><i class="fa fa-check"></i><b>7.1.4</b> Good enough data modeling<span></span></a></li>
<li class="chapter" data-level="7.1.5" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#using-normalized-data"><i class="fa fa-check"></i><b>7.1.5</b> Using normalized data<span></span></a></li>
<li class="chapter" data-level="7.1.6" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#data-modeling-exercise"><i class="fa fa-check"></i><b>7.1.6</b> Data modeling exercise<span></span></a></li>
<li class="chapter" data-level="7.1.7" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#resources-1"><i class="fa fa-check"></i><b>7.1.7</b> Resources<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html"><i class="fa fa-check"></i><b>8</b> Cleaning and Manipulating Data<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#data-cleaning-and-manipulation"><i class="fa fa-check"></i><b>8.1</b> Data Cleaning and Manipulation<span></span></a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#learning-objectives-9"><i class="fa fa-check"></i><b>8.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="8.1.2" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#introduction-2"><i class="fa fa-check"></i><b>8.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="8.1.3" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#data-cleaning-basics"><i class="fa fa-check"></i><b>8.1.3</b> Data Cleaning Basics<span></span></a></li>
<li class="chapter" data-level="8.1.4" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#joins-in-dplyr"><i class="fa fa-check"></i><b>8.1.4</b> Joins in dplyr<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html"><i class="fa fa-check"></i><b>9</b> Data Visualization and Publishing to the Web<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#publishing-analyses-to-the-web"><i class="fa fa-check"></i><b>9.1</b> Publishing Analyses to the Web<span></span></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-10"><i class="fa fa-check"></i><b>9.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="9.1.2" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#introduction-3"><i class="fa fa-check"></i><b>9.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="9.1.3" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#a-minimal-example"><i class="fa fa-check"></i><b>9.1.3</b> A Minimal Example<span></span></a></li>
<li class="chapter" data-level="9.1.4" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#exercise-sharing-your-work"><i class="fa fa-check"></i><b>9.1.4</b> Exercise: Sharing your work<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#publication-graphics"><i class="fa fa-check"></i><b>9.2</b> Publication Graphics<span></span></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-11"><i class="fa fa-check"></i><b>9.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="9.2.2" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#overview-1"><i class="fa fa-check"></i><b>9.2.2</b> Overview<span></span></a></li>
<li class="chapter" data-level="9.2.3" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#static-figures-using-ggplot2"><i class="fa fa-check"></i><b>9.2.3</b> Static figures using <code>ggplot2</code><span></span></a></li>
<li class="chapter" data-level="9.2.4" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#interactive-visualization-using-leaflet-and-dt"><i class="fa fa-check"></i><b>9.2.4</b> Interactive visualization using <code>leaflet</code> and <code>DT</code><span></span></a></li>
<li class="chapter" data-level="9.2.5" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#resources-2"><i class="fa fa-check"></i><b>9.2.5</b> Resources<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="functions-and-packages.html"><a href="functions-and-packages.html"><i class="fa fa-check"></i><b>10</b> Functions and Packages<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#creating-r-functions"><i class="fa fa-check"></i><b>10.1</b> Creating R Functions<span></span></a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#why-functions"><i class="fa fa-check"></i><b>10.1.1</b> Why functions?<span></span></a></li>
<li class="chapter" data-level="10.1.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#documenting-r-functions"><i class="fa fa-check"></i><b>10.1.2</b> Documenting R functions<span></span></a></li>
<li class="chapter" data-level="10.1.3" data-path="functions-and-packages.html"><a href="functions-and-packages.html#summary-4"><i class="fa fa-check"></i><b>10.1.3</b> Summary<span></span></a></li>
<li class="chapter" data-level="10.1.4" data-path="functions-and-packages.html"><a href="functions-and-packages.html#examples-minimizing-work-with-functions"><i class="fa fa-check"></i><b>10.1.4</b> Examples: Minimizing work with functions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#creating-r-packages"><i class="fa fa-check"></i><b>10.2</b> Creating R Packages<span></span></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#learning-objectives-12"><i class="fa fa-check"></i><b>10.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="10.2.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#why-packages"><i class="fa fa-check"></i><b>10.2.2</b> Why packages?<span></span></a></li>
<li class="chapter" data-level="10.2.3" data-path="functions-and-packages.html"><a href="functions-and-packages.html#install-and-load-packages"><i class="fa fa-check"></i><b>10.2.3</b> Install and load packages<span></span></a></li>
<li class="chapter" data-level="10.2.4" data-path="functions-and-packages.html"><a href="functions-and-packages.html#create-a-basic-package"><i class="fa fa-check"></i><b>10.2.4</b> Create a basic package<span></span></a></li>
<li class="chapter" data-level="10.2.5" data-path="functions-and-packages.html"><a href="functions-and-packages.html#add-your-code"><i class="fa fa-check"></i><b>10.2.5</b> Add your code<span></span></a></li>
<li class="chapter" data-level="10.2.6" data-path="functions-and-packages.html"><a href="functions-and-packages.html#add-documentation"><i class="fa fa-check"></i><b>10.2.6</b> Add documentation<span></span></a></li>
<li class="chapter" data-level="10.2.7" data-path="functions-and-packages.html"><a href="functions-and-packages.html#test-your-package"><i class="fa fa-check"></i><b>10.2.7</b> Test your package<span></span></a></li>
<li class="chapter" data-level="10.2.8" data-path="functions-and-packages.html"><a href="functions-and-packages.html#checking-and-installing-your-package"><i class="fa fa-check"></i><b>10.2.8</b> Checking and installing your package<span></span></a></li>
<li class="chapter" data-level="10.2.9" data-path="functions-and-packages.html"><a href="functions-and-packages.html#sharing-and-releasing-your-package"><i class="fa fa-check"></i><b>10.2.9</b> Sharing and releasing your package<span></span></a></li>
<li class="chapter" data-level="10.2.10" data-path="functions-and-packages.html"><a href="functions-and-packages.html#more-reading"><i class="fa fa-check"></i><b>10.2.10</b> More reading<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-portals.html"><a href="data-portals.html"><i class="fa fa-check"></i><b>11</b> Data Portals<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-portals.html"><a href="data-portals.html#creating-a-data-portal"><i class="fa fa-check"></i><b>11.1</b> Creating a data portal<span></span></a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="data-portals.html"><a href="data-portals.html#what-is-a-portal"><i class="fa fa-check"></i><b>11.1.1</b> What is a Portal?<span></span></a></li>
<li class="chapter" data-level="11.1.2" data-path="data-portals.html"><a href="data-portals.html#portal-uses"><i class="fa fa-check"></i><b>11.1.2</b> Portal Uses<span></span></a></li>
<li class="chapter" data-level="11.1.3" data-path="data-portals.html"><a href="data-portals.html#portal-features"><i class="fa fa-check"></i><b>11.1.3</b> Portal Features<span></span></a></li>
<li class="chapter" data-level="11.1.4" data-path="data-portals.html"><a href="data-portals.html#creating-portals"><i class="fa fa-check"></i><b>11.1.4</b> Creating Portals<span></span></a></li>
<li class="chapter" data-level="11.1.5" data-path="data-portals.html"><a href="data-portals.html#adding-data-to-portals"><i class="fa fa-check"></i><b>11.1.5</b> Adding Data to Portals<span></span></a></li>
<li class="chapter" data-level="11.1.6" data-path="data-portals.html"><a href="data-portals.html#building-search-options-for-your-audience"><i class="fa fa-check"></i><b>11.1.6</b> Building Search Options for Your Audience<span></span></a></li>
<li class="chapter" data-level="11.1.7" data-path="data-portals.html"><a href="data-portals.html#creating-unique-freeform-pages"><i class="fa fa-check"></i><b>11.1.7</b> Creating Unique Freeform Pages<span></span></a></li>
<li class="chapter" data-level="11.1.8" data-path="data-portals.html"><a href="data-portals.html#saving-and-editing-portals"><i class="fa fa-check"></i><b>11.1.8</b> Saving and Editing Portals<span></span></a></li>
<li class="chapter" data-level="11.1.9" data-path="data-portals.html"><a href="data-portals.html#how-to-publish-portals"><i class="fa fa-check"></i><b>11.1.9</b> How to Publish Portals<span></span></a></li>
<li class="chapter" data-level="11.1.10" data-path="data-portals.html"><a href="data-portals.html#sharing-portals"><i class="fa fa-check"></i><b>11.1.10</b> Sharing Portals<span></span></a></li>
<li class="chapter" data-level="11.1.11" data-path="data-portals.html"><a href="data-portals.html#tutorial-videos"><i class="fa fa-check"></i><b>11.1.11</b> Tutorial Videos<span></span></a></li>
<li class="chapter" data-level="11.1.12" data-path="data-portals.html"><a href="data-portals.html#acknowledgements"><i class="fa fa-check"></i><b>11.1.12</b> Acknowledgements<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html"><i class="fa fa-check"></i><b>12</b> Exercise: Cleaning and Manipulating Data<span></span></a>
<ul>
<li class="chapter" data-level="12.1" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#hands-on-clean-and-integrate-datasets"><i class="fa fa-check"></i><b>12.1</b> Hands On: Clean and Integrate Datasets<span></span></a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#learning-objectives-13"><i class="fa fa-check"></i><b>12.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="12.1.2" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#outline"><i class="fa fa-check"></i><b>12.1.2</b> Outline<span></span></a></li>
<li class="chapter" data-level="12.1.3" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#full-solution.-warning-spoilers-ahead"><i class="fa fa-check"></i><b>12.1.3</b> Full solution. Warning, spoilers ahead!<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html"><i class="fa fa-check"></i><b>13</b> Geospatial Vector Analysis<span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#spatial-vector-analysis-using-sf"><i class="fa fa-check"></i><b>13.1</b> Spatial vector analysis using <code>sf</code><span></span></a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#learning-objectives-14"><i class="fa fa-check"></i><b>13.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="13.1.2" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#introduction-4"><i class="fa fa-check"></i><b>13.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="13.1.3" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#working-with-geospatial-data"><i class="fa fa-check"></i><b>13.1.3</b> Working with geospatial data<span></span></a></li>
<li class="chapter" data-level="13.1.4" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#sf-the-tidyverse"><i class="fa fa-check"></i><b>13.1.4</b> <code>sf</code> &amp; the Tidyverse<span></span></a></li>
<li class="chapter" data-level="13.1.5" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#visualize-with-ggplot"><i class="fa fa-check"></i><b>13.1.5</b> Visualize with ggplot<span></span></a></li>
<li class="chapter" data-level="13.1.6" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#visualize-sf-objects-with-leaflet"><i class="fa fa-check"></i><b>13.1.6</b> Visualize <code>sf</code> objects with leaflet<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html"><i class="fa fa-check"></i><b>14</b> Reproducibility and Provenance<span></span></a>
<ul>
<li class="chapter" data-level="14.1" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#reproducible-and-transparent-papers"><i class="fa fa-check"></i><b>14.1</b> Reproducible and Transparent Papers<span></span></a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#learning-objectives-15"><i class="fa fa-check"></i><b>14.1.1</b> Learning Objectives<span></span></a></li>
<li><a href="reproducibility-and-provenance.html#data-citation">Data Citation<span></span></a></li>
<li class="chapter" data-level="14.1.2" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#reproducible-papers-with-rrtools"><i class="fa fa-check"></i><b>14.1.2</b> Reproducible Papers with <code>rrtools</code><span></span></a></li>
<li class="chapter" data-level="14.1.3" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#reproducible-papers-with-rticles"><i class="fa fa-check"></i><b>14.1.3</b> Reproducible Papers with <code>rticles</code><span></span></a></li>
<li><a href="reproducibility-and-provenance.html#the-5th-generation-of-reproducible-papers">The 5th Generation of Reproducible Papers<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>15</b> Appendix<span></span></a>
<ul>
<li class="chapter" data-level="15.1" data-path="appendix.html"><a href="appendix.html#collaborating-using-git"><i class="fa fa-check"></i><b>15.1</b> Collaborating using Git<span></span></a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="appendix.html"><a href="appendix.html#learning-objectives-16"><i class="fa fa-check"></i><b>15.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="15.1.2" data-path="appendix.html"><a href="appendix.html#pull-requests"><i class="fa fa-check"></i><b>15.1.2</b> Pull requests<span></span></a></li>
<li class="chapter" data-level="15.1.3" data-path="appendix.html"><a href="appendix.html#exercise-create-and-merge-pull-requests"><i class="fa fa-check"></i><b>15.1.3</b> Exercise: Create and merge pull requests<span></span></a></li>
<li class="chapter" data-level="15.1.4" data-path="appendix.html"><a href="appendix.html#branches"><i class="fa fa-check"></i><b>15.1.4</b> Branches<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="appendix.html"><a href="appendix.html#programming-metadata-and-data-publishing"><i class="fa fa-check"></i><b>15.2</b> Programming Metadata and Data Publishing<span></span></a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="appendix.html"><a href="appendix.html#learning-objectives-17"><i class="fa fa-check"></i><b>15.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="15.2.2" data-path="appendix.html"><a href="appendix.html#creating-metadata"><i class="fa fa-check"></i><b>15.2.2</b> Creating Metadata<span></span></a></li>
<li class="chapter" data-level="15.2.3" data-path="appendix.html"><a href="appendix.html#publish-data-to-the-arctic-data-center-test-site"><i class="fa fa-check"></i><b>15.2.3</b> Publish data to the Arctic Data Center test site<span></span></a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Practices for Arctic Research Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-cleaning-and-manipulating-data" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">12</span> Exercise: Cleaning and Manipulating Data<a href="exercise-cleaning-and-manipulating-data.html#exercise-cleaning-and-manipulating-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="hands-on-clean-and-integrate-datasets" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> Hands On: Clean and Integrate Datasets<a href="exercise-cleaning-and-manipulating-data.html#hands-on-clean-and-integrate-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="learning-objectives-13" class="section level3 hasAnchor" number="12.1.1">
<h3><span class="header-section-number">12.1.1</span> Learning Objectives<a href="exercise-cleaning-and-manipulating-data.html#learning-objectives-13" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this lesson, you will:</p>
<ul>
<li>Clean and integrate a dataset using dplyr and tidyr</li>
<li>Make use of previously-learned knowledge of dplyr, tidyr, and writing functions</li>
</ul>
</div>
<div id="outline" class="section level3 hasAnchor" number="12.1.2">
<h3><span class="header-section-number">12.1.2</span> Outline<a href="exercise-cleaning-and-manipulating-data.html#outline" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this session, you will load data from the following dataset:</p>
<p><a href="https://doi.org/10.18739/A23R0PT35">Richard Lanctot and Sarah Saalfeld. 2019. Utqiaġvik shorebird breeding ecology study, Utqiaġvik, Alaska, 2003-2018. Arctic Data Center. doi:10.18739/A23R0PT35</a></p>
<p>Using our knowledge of R, we are going to try to answer the following two questions:</p>
<ul>
<li>What species of predator is the most abundant and has this changed through time?</li>
<li>Does the number of eggs predated increase with the total number of predators for all species laying nests?</li>
</ul>
<p>One of the features if this dataset is that it has many files with similar formatting, most of which contain the column <code>species</code> which is comprised of the <a href="https://www.pwrc.usgs.gov/bbl/manual/speclist.cfm">Bird Banding Laboratory species codes</a>. These four letter codes aren’t very intuitive to most people, so one of the things we will do is write a function that can be used on any file in this dataset that contains a species code.</p>
<div id="high-level-steps" class="section level4 unnumbered hasAnchor">
<h4>High-level steps<a href="exercise-cleaning-and-manipulating-data.html#high-level-steps" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The goal here is for you to have to come up with the functions to do the analysis with minimal guidance. This is supposed to be challenging if you are new to dplyr/tidyr. Below is a set of high-level steps you can follow to answer our research question. After the list is a schematic of the steps in table form which I expect will be useful in guiding your code.</p>
<ol style="list-style-type: decimal">
<li><p>Load the species table using the code in the Setup block below.</p></li>
<li><p>Read the following two files into your environment.</p>
<ul>
<li>Utqiagvik_predator_surveys.csv</li>
<li>Utqiagvik_nest_data.csv</li>
</ul></li>
<li><p>Write a function that will translate species codes into common names.</p>
<ul>
<li><strong>Hint</strong>: The fastest way to do this involves adding a column to the <code>data.frame</code>. Your function will have two arguments</li>
<li><strong>Optional Extra Challenge</strong>: For a little extra challenge, try to incorporate an <code>if</code> statement that looks for <code>NA</code> values in the common name field you are adding. What other conditionals might you include to make your function smarter?</li>
</ul></li>
<li><p>Calculate total number of predators by year and species, and plot the result.</p></li>
<li><p>Calculate total number of eggs predated by year and species.</p></li>
<li><p>Calculate total number of predators by year, join to summarized egg predation table, and plot the result.</p></li>
</ol>
</div>
<div id="setup-9" class="section level4 unnumbered setup hasAnchor">
<h4>Setup<a href="exercise-cleaning-and-manipulating-data.html#setup-9" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use the following two code chunks to set up your species table. The code I use here incorporates two new packages that I thought would be worth showing.</p>
<p>The first, <code>rvest</code>, is a package that enables easy scraping and handling of information from websites. It requires a moderate amount of knowledge of <code>html</code> to use, but can be very handy. In this case, I use it because I couldn’t find a plain text version of the BBL species codes anywhere. To build a reproducible and long lived workflow, I would want to run this code and then store a plain text version of the data in a long lived location, which cites the original source appropriately.</p>
<p>The second package, <code>janitor</code>, is a great package that has simple tools for cleaning up data. It is especially handy for handling improperly named variables in a <code>data.frame.</code> In this case, I use it to handle a bunch of spaces in the column names so that our lives are a little easier later on.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="exercise-cleaning-and-manipulating-data.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb146-2"><a href="exercise-cleaning-and-manipulating-data.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb146-3"><a href="exercise-cleaning-and-manipulating-data.html#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb146-4"><a href="exercise-cleaning-and-manipulating-data.html#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code></pre></div>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="exercise-cleaning-and-manipulating-data.html#cb147-1" aria-hidden="true" tabindex="-1"></a>webpage <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;https://www.pwrc.usgs.gov/bbl/manual/speclist.cfm&quot;</span>)</span>
<span id="cb147-2"><a href="exercise-cleaning-and-manipulating-data.html#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="exercise-cleaning-and-manipulating-data.html#cb147-3" aria-hidden="true" tabindex="-1"></a>tbls <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(webpage, <span class="st">&quot;table&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb147-4"><a href="exercise-cleaning-and-manipulating-data.html#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb147-5"><a href="exercise-cleaning-and-manipulating-data.html#cb147-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-6"><a href="exercise-cleaning-and-manipulating-data.html#cb147-6" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> tbls[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> </span>
<span id="cb147-7"><a href="exercise-cleaning-and-manipulating-data.html#cb147-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb147-8"><a href="exercise-cleaning-and-manipulating-data.html#cb147-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(alpha_code, common_name) <span class="sc">%&gt;%</span> </span>
<span id="cb147-9"><a href="exercise-cleaning-and-manipulating-data.html#cb147-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">alpha_code =</span> <span class="fu">tolower</span>(alpha_code))</span></code></pre></div>
</div>
<div id="visual-schematic-of-data" class="section level4 unnumbered hasAnchor">
<h4>Visual schematic of data<a href="exercise-cleaning-and-manipulating-data.html#visual-schematic-of-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Make this:</p>
<pre><code>year common_name         pred_count
2003 Glaucous Gull               54
2003 Parasitic Jaeger             2
2003 Pomarine Jaeger              6
2004 Glaucous Gull               69
2004 Long-tailed Jaeger          13</code></pre>
<p>And then make this:</p>
<pre><code>common_name             year total_predated pred_count
American Golden-Plover  2003              4         62
American Golden-Plover  2004             22         93
American Golden-Plover  2005              0         72
American Golden-Plover  2006              0        193
American Golden-Plover  2007             12        154
American Golden-Plover  2008             22        328
American Golden-Plover  2009             92        443</code></pre>
</div>
<div id="aside-9" class="section level4 unnumbered aside hasAnchor">
<h4>Aside<a href="exercise-cleaning-and-manipulating-data.html#aside-9" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>Why do we need to use a function for this task?</strong></p>
<p>You will likely at some point realize that the function we asked you to write is pretty simple. The code can in fact be accomplished in a single line. So why write your own function for this? There are a couple of answers. The first and most obvious is that we want to you practice writing function syntax with simple examples. But there are other reasons why this operation might benefit from a function:</p>
<ul>
<li>Follow the DRY principles!
<ul>
<li>If you find yourself doing the same cleaning steps on many of your data files, over and over again, those operations are good candidates for functions. This falls into that category, since we need to do the same transformation on both of the files we use here, and if we incorporated more files from this dataset it would come in even more use.</li>
</ul></li>
<li>Add custom warnings and quality control.
<ul>
<li>Functions allow you to incorporate quality control through conditional statements coupled with warnings. Instead of checking for NA’s or duplicated rows after you run a join, you can check within the function and return a warning if any are found.</li>
</ul></li>
<li>Check your function input more carefully
<ul>
<li>Similar to custom warnings, functions allow you to create custom errors too. Writing functions is a good way to incorporate defensive coding practices, where potential issues are looked for and the process is stopped if they are found.</li>
</ul></li>
</ul>
</div>
</div>
<div id="full-solution.-warning-spoilers-ahead" class="section level3 hasAnchor" number="12.1.3">
<h3><span class="header-section-number">12.1.3</span> Full solution. Warning, spoilers ahead!<a href="exercise-cleaning-and-manipulating-data.html#full-solution.-warning-spoilers-ahead" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Load in the libraries and the species table, as described above.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="exercise-cleaning-and-manipulating-data.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb150-2"><a href="exercise-cleaning-and-manipulating-data.html#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb150-3"><a href="exercise-cleaning-and-manipulating-data.html#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb150-4"><a href="exercise-cleaning-and-manipulating-data.html#cb150-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb150-5"><a href="exercise-cleaning-and-manipulating-data.html#cb150-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="exercise-cleaning-and-manipulating-data.html#cb151-1" aria-hidden="true" tabindex="-1"></a>webpage <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;https://www.pwrc.usgs.gov/bbl/manual/speclist.cfm&quot;</span>)</span>
<span id="cb151-2"><a href="exercise-cleaning-and-manipulating-data.html#cb151-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-3"><a href="exercise-cleaning-and-manipulating-data.html#cb151-3" aria-hidden="true" tabindex="-1"></a>tbls <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(webpage, <span class="st">&quot;table&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb151-4"><a href="exercise-cleaning-and-manipulating-data.html#cb151-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb151-5"><a href="exercise-cleaning-and-manipulating-data.html#cb151-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-6"><a href="exercise-cleaning-and-manipulating-data.html#cb151-6" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> tbls[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> </span>
<span id="cb151-7"><a href="exercise-cleaning-and-manipulating-data.html#cb151-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb151-8"><a href="exercise-cleaning-and-manipulating-data.html#cb151-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(alpha_code, common_name) <span class="sc">%&gt;%</span> </span>
<span id="cb151-9"><a href="exercise-cleaning-and-manipulating-data.html#cb151-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">alpha_code =</span> <span class="fu">tolower</span>(alpha_code))</span></code></pre></div>
<p>Read in the two data files.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="exercise-cleaning-and-manipulating-data.html#cb152-1" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://arcticdata.io/metacat/d1/mn/v2/object/urn%3Auuid%3A9ffec04c-7e2d-41dd-9e88-b6c2e8c4375e&quot;</span>)</span>
<span id="cb152-2"><a href="exercise-cleaning-and-manipulating-data.html#cb152-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-3"><a href="exercise-cleaning-and-manipulating-data.html#cb152-3" aria-hidden="true" tabindex="-1"></a>nests <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://arcticdata.io/metacat/d1/mn/v2/object/urn%3Auuid%3A982bd2fc-4edf-4da7-96ef-0d11b853102d&quot;</span>)</span></code></pre></div>
<p>Define a function to join the species table to an arbirary table with a species column in this dataset. Note that this version has some extra conditionals for the optional challenge.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="exercise-cleaning-and-manipulating-data.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; Function to add common name to data.frame according to the BBL list of species codes</span></span>
<span id="cb153-2"><a href="exercise-cleaning-and-manipulating-data.html#cb153-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-3"><a href="exercise-cleaning-and-manipulating-data.html#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @param df A data frame containing BBL species codes in column `species`</span></span>
<span id="cb153-4"><a href="exercise-cleaning-and-manipulating-data.html#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @param species A data frame defining BBL species codes with columns `alpha_code` and `common_name`</span></span>
<span id="cb153-5"><a href="exercise-cleaning-and-manipulating-data.html#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @return A data frame with original data df, plus the common name of species</span></span>
<span id="cb153-6"><a href="exercise-cleaning-and-manipulating-data.html#cb153-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-7"><a href="exercise-cleaning-and-manipulating-data.html#cb153-7" aria-hidden="true" tabindex="-1"></a>assign_species_name <span class="ot">&lt;-</span> <span class="cf">function</span>(df, species){</span>
<span id="cb153-8"><a href="exercise-cleaning-and-manipulating-data.html#cb153-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span>(<span class="st">&quot;alpha_code&quot;</span> <span class="sc">%in%</span> <span class="fu">names</span>(species)) <span class="sc">|</span></span>
<span id="cb153-9"><a href="exercise-cleaning-and-manipulating-data.html#cb153-9" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(<span class="st">&quot;species&quot;</span> <span class="sc">%in%</span> <span class="fu">names</span>(df)) <span class="sc">|</span></span>
<span id="cb153-10"><a href="exercise-cleaning-and-manipulating-data.html#cb153-10" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(<span class="st">&quot;common_name&quot;</span> <span class="sc">%in%</span> <span class="fu">names</span>(species))){</span>
<span id="cb153-11"><a href="exercise-cleaning-and-manipulating-data.html#cb153-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot;Tables appear to be formatted incorrectly.&quot;</span>)</span>
<span id="cb153-12"><a href="exercise-cleaning-and-manipulating-data.html#cb153-12" aria-hidden="true" tabindex="-1"></a>    }  </span>
<span id="cb153-13"><a href="exercise-cleaning-and-manipulating-data.html#cb153-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb153-14"><a href="exercise-cleaning-and-manipulating-data.html#cb153-14" aria-hidden="true" tabindex="-1"></a>    return_df <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df, species, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span> <span class="ot">=</span> <span class="st">&quot;alpha_code&quot;</span>))</span>
<span id="cb153-15"><a href="exercise-cleaning-and-manipulating-data.html#cb153-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb153-16"><a href="exercise-cleaning-and-manipulating-data.html#cb153-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(return_df) <span class="sc">&gt;</span> <span class="fu">nrow</span>(df)){</span>
<span id="cb153-17"><a href="exercise-cleaning-and-manipulating-data.html#cb153-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">warning</span>(<span class="st">&quot;Joined table has more rows than original table. Check species table for duplicated code values.&quot;</span>)</span>
<span id="cb153-18"><a href="exercise-cleaning-and-manipulating-data.html#cb153-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb153-19"><a href="exercise-cleaning-and-manipulating-data.html#cb153-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb153-20"><a href="exercise-cleaning-and-manipulating-data.html#cb153-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(<span class="fu">which</span>(<span class="fu">is.na</span>(return_df<span class="sc">$</span>common_name))) <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb153-21"><a href="exercise-cleaning-and-manipulating-data.html#cb153-21" aria-hidden="true" tabindex="-1"></a>      x <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">which</span>(<span class="fu">is.na</span>(return_df<span class="sc">$</span>common_name)))</span>
<span id="cb153-22"><a href="exercise-cleaning-and-manipulating-data.html#cb153-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">warning</span>(<span class="fu">paste</span>(<span class="st">&quot;Common name has&quot;</span>, x, <span class="st">&quot;rows containing NA&quot;</span>))</span>
<span id="cb153-23"><a href="exercise-cleaning-and-manipulating-data.html#cb153-23" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb153-24"><a href="exercise-cleaning-and-manipulating-data.html#cb153-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb153-25"><a href="exercise-cleaning-and-manipulating-data.html#cb153-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(return_df)</span>
<span id="cb153-26"><a href="exercise-cleaning-and-manipulating-data.html#cb153-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb153-27"><a href="exercise-cleaning-and-manipulating-data.html#cb153-27" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Or a simple version without the extra challenges added:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="exercise-cleaning-and-manipulating-data.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; Function to add common name to data.frame according to the BBL list of species codes</span></span>
<span id="cb154-2"><a href="exercise-cleaning-and-manipulating-data.html#cb154-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-3"><a href="exercise-cleaning-and-manipulating-data.html#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @param df A data frame containing BBL species codes in column `species`</span></span>
<span id="cb154-4"><a href="exercise-cleaning-and-manipulating-data.html#cb154-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @param species A data frame defining BBL species codes with columns `alpha_code` and `common_name`</span></span>
<span id="cb154-5"><a href="exercise-cleaning-and-manipulating-data.html#cb154-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @return A data frame with original data df, plus the common name of species</span></span>
<span id="cb154-6"><a href="exercise-cleaning-and-manipulating-data.html#cb154-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-7"><a href="exercise-cleaning-and-manipulating-data.html#cb154-7" aria-hidden="true" tabindex="-1"></a>assign_species_name <span class="ot">&lt;-</span> <span class="cf">function</span>(df, species){</span>
<span id="cb154-8"><a href="exercise-cleaning-and-manipulating-data.html#cb154-8" aria-hidden="true" tabindex="-1"></a>    return_df <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df, species, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span> <span class="ot">=</span> <span class="st">&quot;alpha_code&quot;</span>))</span>
<span id="cb154-9"><a href="exercise-cleaning-and-manipulating-data.html#cb154-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(return_df)</span>
<span id="cb154-10"><a href="exercise-cleaning-and-manipulating-data.html#cb154-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div id="question-1-what-species-of-predator-is-the-most-abundant-and-has-this-changed-through-time" class="section level4 unnumbered hasAnchor">
<h4>Question 1: What species of predator is the most abundant and has this changed through time?<a href="exercise-cleaning-and-manipulating-data.html#question-1-what-species-of-predator-is-the-most-abundant-and-has-this-changed-through-time" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Calculate the number of each species by year. Species counts with no common name are removed after examining the data and determining that the species code in these cases was “none”, as in, no predators were observed that day.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="exercise-cleaning-and-manipulating-data.html#cb155-1" aria-hidden="true" tabindex="-1"></a>pred_species <span class="ot">&lt;-</span> <span class="fu">assign_species_name</span>(pred, species) <span class="sc">%&gt;%</span> </span>
<span id="cb155-2"><a href="exercise-cleaning-and-manipulating-data.html#cb155-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(year, common_name) <span class="sc">%&gt;%</span> </span>
<span id="cb155-3"><a href="exercise-cleaning-and-manipulating-data.html#cb155-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">pred_count =</span> <span class="fu">sum</span>(count, <span class="at">na.rm =</span> T), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb155-4"><a href="exercise-cleaning-and-manipulating-data.html#cb155-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(common_name))</span></code></pre></div>
<pre><code>## Warning in assign_species_name(pred, species): Common name has 268 rows
## containing NA</code></pre>
<p>Plot the result.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="exercise-cleaning-and-manipulating-data.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pred_species, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> pred_count, <span class="at">color =</span> common_name)) <span class="sc">+</span></span>
<span id="cb157-2"><a href="exercise-cleaning-and-manipulating-data.html#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb157-3"><a href="exercise-cleaning-and-manipulating-data.html#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb157-4"><a href="exercise-cleaning-and-manipulating-data.html#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Predators&quot;</span>, <span class="at">color =</span> <span class="st">&quot;Species&quot;</span>) <span class="sc">+</span></span>
<span id="cb157-5"><a href="exercise-cleaning-and-manipulating-data.html#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-115-1.png" width="672" /></p>
</div>
<div id="question-2-does-the-number-of-eggs-predated-increase-with-the-total-number-of-predators-for-all-species-laying-nests" class="section level4 unnumbered hasAnchor">
<h4>Question 2: Does the number of eggs predated increase with the total number of predators for all species laying nests?<a href="exercise-cleaning-and-manipulating-data.html#question-2-does-the-number-of-eggs-predated-increase-with-the-total-number-of-predators-for-all-species-laying-nests" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Calculate the number of eggs predated by year and species. Species with no common name were examined, and found to have missing values in the species code as well. This is likely a data entry error that should be examined more closely, but for simplicity here we can drop these rows.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="exercise-cleaning-and-manipulating-data.html#cb158-1" aria-hidden="true" tabindex="-1"></a>nests_species <span class="ot">&lt;-</span> <span class="fu">assign_species_name</span>(nests, species) <span class="sc">%&gt;%</span> </span>
<span id="cb158-2"><a href="exercise-cleaning-and-manipulating-data.html#cb158-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(common_name, year) <span class="sc">%&gt;%</span> </span>
<span id="cb158-3"><a href="exercise-cleaning-and-manipulating-data.html#cb158-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_predated =</span> <span class="fu">sum</span>(number_eggs_predated, <span class="at">na.rm =</span> T),</span>
<span id="cb158-4"><a href="exercise-cleaning-and-manipulating-data.html#cb158-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb158-5"><a href="exercise-cleaning-and-manipulating-data.html#cb158-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(common_name))</span></code></pre></div>
<pre><code>## Warning in assign_species_name(nests, species): Common name has 4 rows
## containing NA</code></pre>
<p>Calculate total number of predators across all species by year.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="exercise-cleaning-and-manipulating-data.html#cb160-1" aria-hidden="true" tabindex="-1"></a>pred_total <span class="ot">&lt;-</span> pred_species <span class="sc">%&gt;%</span> </span>
<span id="cb160-2"><a href="exercise-cleaning-and-manipulating-data.html#cb160-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb160-3"><a href="exercise-cleaning-and-manipulating-data.html#cb160-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">pred_count =</span> <span class="fu">sum</span>(pred_count, <span class="at">na.rm =</span> T), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span></code></pre></div>
<p>Join egg predation data to total predator data.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="exercise-cleaning-and-manipulating-data.html#cb161-1" aria-hidden="true" tabindex="-1"></a>nest_pred <span class="ot">&lt;-</span> <span class="fu">left_join</span>(nests_species, pred_total, <span class="at">by =</span> <span class="st">&quot;year&quot;</span>)</span></code></pre></div>
<p>Plot the number of eggs predated by total predators, faceted over species.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="exercise-cleaning-and-manipulating-data.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nest_pred, <span class="fu">aes</span>(<span class="at">x =</span> pred_count, <span class="at">y =</span> total_predated)) <span class="sc">+</span></span>
<span id="cb162-2"><a href="exercise-cleaning-and-manipulating-data.html#cb162-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb162-3"><a href="exercise-cleaning-and-manipulating-data.html#cb162-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>common_name, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb162-4"><a href="exercise-cleaning-and-manipulating-data.html#cb162-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Number of Predators&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Eggs Predated&quot;</span>) <span class="sc">+</span></span>
<span id="cb162-5"><a href="exercise-cleaning-and-manipulating-data.html#cb162-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-119-1.png" width="480" /></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-portals.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="geospatial-vector-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
