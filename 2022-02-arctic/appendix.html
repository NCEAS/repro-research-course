<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15 Appendix | Reproducible Practices for Arctic Research Using R</title>
  <meta name="description" content="15 Appendix | Reproducible Practices for Arctic Research Using R" />
  <meta name="generator" content="bookdown 0.24.10 and GitBook 2.6.7" />

  <meta property="og:title" content="15 Appendix | Reproducible Practices for Arctic Research Using R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15 Appendix | Reproducible Practices for Arctic Research Using R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reproducibility-and-provenance.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.20/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.0/leaflet.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#reproducible-research-techniques-for-synthesis">Reproducible Practices for Arctic Research Using R<span></span></a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>0.1</b> Schedule<span></span></a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>0.1.1</b> Code of Conduct<span></span></a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#logistics"><i class="fa fa-check"></i><b>0.1.2</b> Logistics<span></span></a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i><b>0.1.3</b> About this book<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html"><i class="fa fa-check"></i><b>1</b> Introduction to the Arctic Data Center<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#introduction-to-the-arctic-data-center-and-nsf-standards-and-policies"><i class="fa fa-check"></i><b>1.1</b> Introduction to the Arctic Data Center and NSF Standards and Policies<span></span></a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#learning-objectives"><i class="fa fa-check"></i><b>1.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#arctic-data-center---history-and-introduction"><i class="fa fa-check"></i><b>1.1.2</b> Arctic Data Center - History and Introduction<span></span></a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#data-discovery-portal"><i class="fa fa-check"></i><b>1.1.3</b> Data Discovery Portal<span></span></a></li>
<li class="chapter" data-level="1.1.4" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#tools-and-infrastructure"><i class="fa fa-check"></i><b>1.1.4</b> Tools and Infrastructure<span></span></a></li>
<li class="chapter" data-level="1.1.5" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#support-services"><i class="fa fa-check"></i><b>1.1.5</b> Support Services<span></span></a></li>
<li class="chapter" data-level="1.1.6" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#training-and-outreach"><i class="fa fa-check"></i><b>1.1.6</b> Training and Outreach<span></span></a></li>
<li class="chapter" data-level="1.1.7" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#data-rescue"><i class="fa fa-check"></i><b>1.1.7</b> Data Rescue<span></span></a></li>
<li class="chapter" data-level="1.1.8" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#who-must-submit"><i class="fa fa-check"></i><b>1.1.8</b> Who Must Submit<span></span></a></li>
<li class="chapter" data-level="1.1.9" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#summary"><i class="fa fa-check"></i><b>1.1.9</b> Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#writing-good-data-management-plans"><i class="fa fa-check"></i><b>1.2</b> Writing Good Data Management Plans<span></span></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#learning-objectives-1"><i class="fa fa-check"></i><b>1.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#when-to-plan-the-data-life-cycle"><i class="fa fa-check"></i><b>1.2.2</b> When to Plan: The Data Life Cycle<span></span></a></li>
<li class="chapter" data-level="1.2.3" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#why-plan"><i class="fa fa-check"></i><b>1.2.3</b> Why Plan?<span></span></a></li>
<li class="chapter" data-level="1.2.4" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#how-to-plan"><i class="fa fa-check"></i><b>1.2.4</b> How to Plan<span></span></a></li>
<li class="chapter" data-level="1.2.5" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#what-to-include-in-a-dmp"><i class="fa fa-check"></i><b>1.2.5</b> What to include in a DMP<span></span></a></li>
<li class="chapter" data-level="1.2.6" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#nsf-dmp-requirements"><i class="fa fa-check"></i><b>1.2.6</b> NSF DMP requirements<span></span></a></li>
<li class="chapter" data-level="1.2.7" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#tools-in-support-of-creating-a-dmp"><i class="fa fa-check"></i><b>1.2.7</b> Tools in Support of Creating a DMP<span></span></a></li>
<li class="chapter" data-level="1.2.8" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#arctic-data-center-support-for-dmps"><i class="fa fa-check"></i><b>1.2.8</b> Arctic Data Center Support for DMPs<span></span></a></li>
<li class="chapter" data-level="1.2.9" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#sharing-your-dmp"><i class="fa fa-check"></i><b>1.2.9</b> Sharing Your DMP<span></span></a></li>
<li class="chapter" data-level="1.2.10" data-path="introduction-to-the-arctic-data-center.html"><a href="introduction-to-the-arctic-data-center.html#additional-resources"><i class="fa fa-check"></i><b>1.2.10</b> Additional Resources<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html"><i class="fa fa-check"></i><b>2</b> Documenting and Publishing Data<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#data-documentation-and-publishing"><i class="fa fa-check"></i><b>2.1</b> Data Documentation and Publishing<span></span></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#learning-objectives-2"><i class="fa fa-check"></i><b>2.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#data-sharing-and-preservation"><i class="fa fa-check"></i><b>2.1.2</b> Data sharing and preservation<span></span></a></li>
<li class="chapter" data-level="2.1.3" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#data-repositories-built-for-data-and-code"><i class="fa fa-check"></i><b>2.1.3</b> Data repositories: built for data (and code)<span></span></a></li>
<li class="chapter" data-level="2.1.4" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#metadata"><i class="fa fa-check"></i><b>2.1.4</b> Metadata<span></span></a></li>
<li class="chapter" data-level="2.1.5" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#structure-of-a-data-package"><i class="fa fa-check"></i><b>2.1.5</b> Structure of a data package<span></span></a></li>
<li class="chapter" data-level="2.1.6" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#dataone-federation"><i class="fa fa-check"></i><b>2.1.6</b> DataONE Federation<span></span></a></li>
<li class="chapter" data-level="2.1.7" data-path="documenting-and-publishing-data.html"><a href="documenting-and-publishing-data.html#publishing-data-from-the-web"><i class="fa fa-check"></i><b>2.1.7</b> Publishing data from the web<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html"><i class="fa fa-check"></i><b>3</b> Literate Analysis with RMarkdown<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#rstudio-and-gitgithub-setup"><i class="fa fa-check"></i><b>3.1</b> RStudio and Git/GitHub Setup<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#learning-objectives-3"><i class="fa fa-check"></i><b>3.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#logging-into-the-rstudio-server"><i class="fa fa-check"></i><b>3.1.2</b> Logging into the RStudio server<span></span></a></li>
<li class="chapter" data-level="3.1.3" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#preparing-to-work-in-rstudio"><i class="fa fa-check"></i><b>3.1.3</b> Preparing to work in RStudio<span></span></a></li>
<li class="chapter" data-level="3.1.4" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#setting-up-the-r-environment-on-your-local-computer"><i class="fa fa-check"></i><b>3.1.4</b> Setting up the R environment on your local computer<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#literate-analysis-with-rmarkdown-1"><i class="fa fa-check"></i><b>3.2</b> Literate Analysis with RMarkdown<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#learning-objectives-4"><i class="fa fa-check"></i><b>3.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#introduction-and-motivation"><i class="fa fa-check"></i><b>3.2.2</b> Introduction and motivation<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#basic-rmarkdown-syntax"><i class="fa fa-check"></i><b>3.2.3</b> Basic RMarkdown syntax<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#code-chunks"><i class="fa fa-check"></i><b>3.2.4</b> Code chunks<span></span></a></li>
<li class="chapter" data-level="3.2.5" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#literate-analysis-practice"><i class="fa fa-check"></i><b>3.2.5</b> Literate analysis practice<span></span></a></li>
<li class="chapter" data-level="3.2.6" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#rmarkdown-and-environments"><i class="fa fa-check"></i><b>3.2.6</b> RMarkdown and environments<span></span></a></li>
<li class="chapter" data-level="3.2.7" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#go-further"><i class="fa fa-check"></i><b>3.2.7</b> Go Further<span></span></a></li>
<li class="chapter" data-level="3.2.8" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#resources"><i class="fa fa-check"></i><b>3.2.8</b> Resources<span></span></a></li>
<li class="chapter" data-level="3.2.9" data-path="literate-analysis-with-rmarkdown.html"><a href="literate-analysis-with-rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>3.2.9</b> Troubleshooting<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html"><i class="fa fa-check"></i><b>4</b> Version Control with git and GitHub<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#learning-objectives-5"><i class="fa fa-check"></i><b>4.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#introduction-to-git"><i class="fa fa-check"></i><b>4.2</b> Introduction to git<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#a-motivating-example"><i class="fa fa-check"></i><b>4.2.1</b> A Motivating Example<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#version-control-and-collaboration-using-git-and-github">Version control and Collaboration using Git and GitHub<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#lets-look-at-a-github-repository">Let’s look at a GitHub repository<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#the-git-lifecycle">The Git lifecycle<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#create-a-remote-repository-on-github"><i class="fa fa-check"></i><b>4.3</b> Create a remote repository on GitHub<span></span></a>
<ul>
<li><a href="version-control-with-git-and-github.html#setup-4">Setup<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-1"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-5">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-2"></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#working-locally-with-git-via-rstudio"><i class="fa fa-check"></i><b>4.4</b> Working locally with Git via RStudio<span></span></a>
<ul>
<li><a href="version-control-with-git-and-github.html#setup-5">Setup<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-3"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-6">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-4"></a></li>
<li><a href="version-control-with-git-and-github.html#aside-3">Aside<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#collaboration-and-conflict-free-workflows">Collaboration and conflict free workflows<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#setting-up-git-on-an-existing-project"><i class="fa fa-check"></i><b>4.5</b> Setting up git on an existing project<span></span></a>
<ul>
<li><a href="version-control-with-git-and-github.html#challenge-7">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-5"></a></li>
<li><a href="version-control-with-git-and-github.html#challenge-8">Challenge<span></span></a></li>
<li><a href="version-control-with-git-and-github.html#section-6"></a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#go-further-1"><i class="fa fa-check"></i><b>4.6</b> Go Further<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html"><i class="fa fa-check"></i><b>5</b> git Collaboration and Conflict Management<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#learning-objectives-6"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#introduction"><i class="fa fa-check"></i><b>5.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#collaborating-with-a-trusted-colleague-without-conflicts"><i class="fa fa-check"></i><b>5.3</b> Collaborating with a trusted colleague <strong>without conflicts</strong><span></span></a>
<ul>
<li><a href="git-collaboration-and-conflict-management.html#setup-6">Setup<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-7"></a></li>
<li class="chapter" data-level="5.3.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-1-collaborator-clone"><i class="fa fa-check"></i><b>5.3.1</b> Step 1: Collaborator clone<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-2-collaborator-edits"><i class="fa fa-check"></i><b>5.3.2</b> Step 2: Collaborator Edits<span></span></a></li>
<li class="chapter" data-level="5.3.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-3-collaborator-commit-and-push"><i class="fa fa-check"></i><b>5.3.3</b> Step 3: Collaborator commit and push<span></span></a></li>
<li class="chapter" data-level="5.3.4" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-4-owner-pull"><i class="fa fa-check"></i><b>5.3.4</b> Step 4: Owner pull<span></span></a></li>
<li class="chapter" data-level="5.3.5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-5-owner-edits-commit-and-push"><i class="fa fa-check"></i><b>5.3.5</b> Step 5: Owner edits, commit, and push<span></span></a></li>
<li class="chapter" data-level="5.3.6" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#step-6-collaborator-pull"><i class="fa fa-check"></i><b>5.3.6</b> Step 6: Collaborator pull<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#challenge-9">Challenge<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-8"></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#merge-conflicts"><i class="fa fa-check"></i><b>5.4</b> Merge conflicts<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#how-to-resolve-a-conflict"><i class="fa fa-check"></i><b>5.5</b> How to resolve a conflict<span></span></a>
<ul>
<li><a href="git-collaboration-and-conflict-management.html#abort-abort-abort">Abort, abort, abort…<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#checkout">Checkout<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#pull-and-edit-the-file">Pull and edit the file<span></span></a></li>
<li class="chapter" data-level="5.5.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#producing-and-resolving-merge-conflicts"><i class="fa fa-check"></i><b>5.5.1</b> Producing and resolving merge conflicts<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#merge-conflict-challenge">Merge Conflict Challenge<span></span></a></li>
<li><a href="git-collaboration-and-conflict-management.html#section-9"></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#workflows-to-avoid-merge-conflicts"><i class="fa fa-check"></i><b>5.6</b> Workflows to avoid merge conflicts<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html"><i class="fa fa-check"></i><b>6</b> Social Aspects of Collaboration<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#thinking-preferences"><i class="fa fa-check"></i><b>6.1</b> Thinking preferences<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#learning-objectives-7"><i class="fa fa-check"></i><b>6.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#thinking-preferences-activity"><i class="fa fa-check"></i><b>6.1.2</b> Thinking Preferences Activity<span></span></a></li>
<li class="chapter" data-level="6.1.3" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#about-the-whole-brain-thinking-system"><i class="fa fa-check"></i><b>6.1.3</b> About the Whole Brain Thinking System<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#collaboration-authorship-and-data-policies"><i class="fa fa-check"></i><b>6.2</b> Collaboration, authorship and data policies<span></span></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#developing-a-code-of-conduct"><i class="fa fa-check"></i><b>6.2.1</b> Developing a Code of Conduct<span></span></a></li>
<li class="chapter" data-level="6.2.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#authorship-and-credit"><i class="fa fa-check"></i><b>6.2.2</b> Authorship and Credit<span></span></a></li>
<li class="chapter" data-level="6.2.3" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#data-policies"><i class="fa fa-check"></i><b>6.2.3</b> Data Policies<span></span></a></li>
<li class="chapter" data-level="6.2.4" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#community-principles-care-and-fair"><i class="fa fa-check"></i><b>6.2.4</b> Community Principles: CARE and FAIR<span></span></a></li>
<li class="chapter" data-level="6.2.5" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#extra-reading"><i class="fa fa-check"></i><b>6.2.5</b> Extra Reading<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html"><i class="fa fa-check"></i><b>7</b> Data Modeling Essentials<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#data-modeling-tidy-data"><i class="fa fa-check"></i><b>7.1</b> Data Modeling &amp; Tidy Data<span></span></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#learning-objectives-8"><i class="fa fa-check"></i><b>7.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="7.1.2" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#introduction-1"><i class="fa fa-check"></i><b>7.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="7.1.3" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#recognizing-untidy-data"><i class="fa fa-check"></i><b>7.1.3</b> Recognizing untidy data<span></span></a></li>
<li class="chapter" data-level="7.1.4" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#good-enough-data-modeling"><i class="fa fa-check"></i><b>7.1.4</b> Good enough data modeling<span></span></a></li>
<li class="chapter" data-level="7.1.5" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#using-normalized-data"><i class="fa fa-check"></i><b>7.1.5</b> Using normalized data<span></span></a></li>
<li class="chapter" data-level="7.1.6" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#data-modeling-exercise"><i class="fa fa-check"></i><b>7.1.6</b> Data modeling exercise<span></span></a></li>
<li class="chapter" data-level="7.1.7" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#resources-1"><i class="fa fa-check"></i><b>7.1.7</b> Resources<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html"><i class="fa fa-check"></i><b>8</b> Cleaning and Manipulating Data<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#data-cleaning-and-manipulation"><i class="fa fa-check"></i><b>8.1</b> Data Cleaning and Manipulation<span></span></a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#learning-objectives-9"><i class="fa fa-check"></i><b>8.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="8.1.2" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#introduction-2"><i class="fa fa-check"></i><b>8.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="8.1.3" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#data-cleaning-basics"><i class="fa fa-check"></i><b>8.1.3</b> Data Cleaning Basics<span></span></a></li>
<li class="chapter" data-level="8.1.4" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#joins-in-dplyr"><i class="fa fa-check"></i><b>8.1.4</b> Joins in dplyr<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html"><i class="fa fa-check"></i><b>9</b> Data Visualization and Publishing to the Web<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#publishing-analyses-to-the-web"><i class="fa fa-check"></i><b>9.1</b> Publishing Analyses to the Web<span></span></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-10"><i class="fa fa-check"></i><b>9.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="9.1.2" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#introduction-3"><i class="fa fa-check"></i><b>9.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="9.1.3" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#a-minimal-example"><i class="fa fa-check"></i><b>9.1.3</b> A Minimal Example<span></span></a></li>
<li class="chapter" data-level="9.1.4" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#exercise-sharing-your-work"><i class="fa fa-check"></i><b>9.1.4</b> Exercise: Sharing your work<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#publication-graphics"><i class="fa fa-check"></i><b>9.2</b> Publication Graphics<span></span></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#learning-objectives-11"><i class="fa fa-check"></i><b>9.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="9.2.2" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#overview-1"><i class="fa fa-check"></i><b>9.2.2</b> Overview<span></span></a></li>
<li class="chapter" data-level="9.2.3" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#static-figures-using-ggplot2"><i class="fa fa-check"></i><b>9.2.3</b> Static figures using <code>ggplot2</code><span></span></a></li>
<li class="chapter" data-level="9.2.4" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#interactive-visualization-using-leaflet-and-dt"><i class="fa fa-check"></i><b>9.2.4</b> Interactive visualization using <code>leaflet</code> and <code>DT</code><span></span></a></li>
<li class="chapter" data-level="9.2.5" data-path="data-visualization-and-publishing-to-the-web.html"><a href="data-visualization-and-publishing-to-the-web.html#resources-2"><i class="fa fa-check"></i><b>9.2.5</b> Resources<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="functions-and-packages.html"><a href="functions-and-packages.html"><i class="fa fa-check"></i><b>10</b> Functions and Packages<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#creating-r-functions"><i class="fa fa-check"></i><b>10.1</b> Creating R Functions<span></span></a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#why-functions"><i class="fa fa-check"></i><b>10.1.1</b> Why functions?<span></span></a></li>
<li class="chapter" data-level="10.1.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#documenting-r-functions"><i class="fa fa-check"></i><b>10.1.2</b> Documenting R functions<span></span></a></li>
<li class="chapter" data-level="10.1.3" data-path="functions-and-packages.html"><a href="functions-and-packages.html#summary-4"><i class="fa fa-check"></i><b>10.1.3</b> Summary<span></span></a></li>
<li class="chapter" data-level="10.1.4" data-path="functions-and-packages.html"><a href="functions-and-packages.html#examples-minimizing-work-with-functions"><i class="fa fa-check"></i><b>10.1.4</b> Examples: Minimizing work with functions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#creating-r-packages"><i class="fa fa-check"></i><b>10.2</b> Creating R Packages<span></span></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#learning-objectives-12"><i class="fa fa-check"></i><b>10.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="10.2.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#why-packages"><i class="fa fa-check"></i><b>10.2.2</b> Why packages?<span></span></a></li>
<li class="chapter" data-level="10.2.3" data-path="functions-and-packages.html"><a href="functions-and-packages.html#install-and-load-packages"><i class="fa fa-check"></i><b>10.2.3</b> Install and load packages<span></span></a></li>
<li class="chapter" data-level="10.2.4" data-path="functions-and-packages.html"><a href="functions-and-packages.html#create-a-basic-package"><i class="fa fa-check"></i><b>10.2.4</b> Create a basic package<span></span></a></li>
<li class="chapter" data-level="10.2.5" data-path="functions-and-packages.html"><a href="functions-and-packages.html#add-your-code"><i class="fa fa-check"></i><b>10.2.5</b> Add your code<span></span></a></li>
<li class="chapter" data-level="10.2.6" data-path="functions-and-packages.html"><a href="functions-and-packages.html#add-documentation"><i class="fa fa-check"></i><b>10.2.6</b> Add documentation<span></span></a></li>
<li class="chapter" data-level="10.2.7" data-path="functions-and-packages.html"><a href="functions-and-packages.html#test-your-package"><i class="fa fa-check"></i><b>10.2.7</b> Test your package<span></span></a></li>
<li class="chapter" data-level="10.2.8" data-path="functions-and-packages.html"><a href="functions-and-packages.html#checking-and-installing-your-package"><i class="fa fa-check"></i><b>10.2.8</b> Checking and installing your package<span></span></a></li>
<li class="chapter" data-level="10.2.9" data-path="functions-and-packages.html"><a href="functions-and-packages.html#sharing-and-releasing-your-package"><i class="fa fa-check"></i><b>10.2.9</b> Sharing and releasing your package<span></span></a></li>
<li class="chapter" data-level="10.2.10" data-path="functions-and-packages.html"><a href="functions-and-packages.html#more-reading"><i class="fa fa-check"></i><b>10.2.10</b> More reading<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-portals.html"><a href="data-portals.html"><i class="fa fa-check"></i><b>11</b> Data Portals<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-portals.html"><a href="data-portals.html#creating-a-data-portal"><i class="fa fa-check"></i><b>11.1</b> Creating a data portal<span></span></a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="data-portals.html"><a href="data-portals.html#what-is-a-portal"><i class="fa fa-check"></i><b>11.1.1</b> What is a Portal?<span></span></a></li>
<li class="chapter" data-level="11.1.2" data-path="data-portals.html"><a href="data-portals.html#portal-uses"><i class="fa fa-check"></i><b>11.1.2</b> Portal Uses<span></span></a></li>
<li class="chapter" data-level="11.1.3" data-path="data-portals.html"><a href="data-portals.html#portal-features"><i class="fa fa-check"></i><b>11.1.3</b> Portal Features<span></span></a></li>
<li class="chapter" data-level="11.1.4" data-path="data-portals.html"><a href="data-portals.html#creating-portals"><i class="fa fa-check"></i><b>11.1.4</b> Creating Portals<span></span></a></li>
<li class="chapter" data-level="11.1.5" data-path="data-portals.html"><a href="data-portals.html#adding-data-to-portals"><i class="fa fa-check"></i><b>11.1.5</b> Adding Data to Portals<span></span></a></li>
<li class="chapter" data-level="11.1.6" data-path="data-portals.html"><a href="data-portals.html#building-search-options-for-your-audience"><i class="fa fa-check"></i><b>11.1.6</b> Building Search Options for Your Audience<span></span></a></li>
<li class="chapter" data-level="11.1.7" data-path="data-portals.html"><a href="data-portals.html#creating-unique-freeform-pages"><i class="fa fa-check"></i><b>11.1.7</b> Creating Unique Freeform Pages<span></span></a></li>
<li class="chapter" data-level="11.1.8" data-path="data-portals.html"><a href="data-portals.html#saving-and-editing-portals"><i class="fa fa-check"></i><b>11.1.8</b> Saving and Editing Portals<span></span></a></li>
<li class="chapter" data-level="11.1.9" data-path="data-portals.html"><a href="data-portals.html#how-to-publish-portals"><i class="fa fa-check"></i><b>11.1.9</b> How to Publish Portals<span></span></a></li>
<li class="chapter" data-level="11.1.10" data-path="data-portals.html"><a href="data-portals.html#sharing-portals"><i class="fa fa-check"></i><b>11.1.10</b> Sharing Portals<span></span></a></li>
<li class="chapter" data-level="11.1.11" data-path="data-portals.html"><a href="data-portals.html#tutorial-videos"><i class="fa fa-check"></i><b>11.1.11</b> Tutorial Videos<span></span></a></li>
<li class="chapter" data-level="11.1.12" data-path="data-portals.html"><a href="data-portals.html#acknowledgements"><i class="fa fa-check"></i><b>11.1.12</b> Acknowledgements<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html"><i class="fa fa-check"></i><b>12</b> Exercise: Cleaning and Manipulating Data<span></span></a>
<ul>
<li class="chapter" data-level="12.1" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#hands-on-clean-and-integrate-datasets"><i class="fa fa-check"></i><b>12.1</b> Hands On: Clean and Integrate Datasets<span></span></a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#learning-objectives-13"><i class="fa fa-check"></i><b>12.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="12.1.2" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#outline"><i class="fa fa-check"></i><b>12.1.2</b> Outline<span></span></a></li>
<li class="chapter" data-level="12.1.3" data-path="exercise-cleaning-and-manipulating-data.html"><a href="exercise-cleaning-and-manipulating-data.html#full-solution.-warning-spoilers-ahead"><i class="fa fa-check"></i><b>12.1.3</b> Full solution. Warning, spoilers ahead!<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html"><i class="fa fa-check"></i><b>13</b> Geospatial Vector Analysis<span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#spatial-vector-analysis-using-sf"><i class="fa fa-check"></i><b>13.1</b> Spatial vector analysis using <code>sf</code><span></span></a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#learning-objectives-14"><i class="fa fa-check"></i><b>13.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="13.1.2" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#introduction-4"><i class="fa fa-check"></i><b>13.1.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="13.1.3" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#working-with-geospatial-data"><i class="fa fa-check"></i><b>13.1.3</b> Working with geospatial data<span></span></a></li>
<li class="chapter" data-level="13.1.4" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#sf-the-tidyverse"><i class="fa fa-check"></i><b>13.1.4</b> <code>sf</code> &amp; the Tidyverse<span></span></a></li>
<li class="chapter" data-level="13.1.5" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#visualize-with-ggplot"><i class="fa fa-check"></i><b>13.1.5</b> Visualize with ggplot<span></span></a></li>
<li class="chapter" data-level="13.1.6" data-path="geospatial-vector-analysis.html"><a href="geospatial-vector-analysis.html#visualize-sf-objects-with-leaflet"><i class="fa fa-check"></i><b>13.1.6</b> Visualize <code>sf</code> objects with leaflet<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html"><i class="fa fa-check"></i><b>14</b> Reproducibility and Provenance<span></span></a>
<ul>
<li class="chapter" data-level="14.1" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#reproducible-and-transparent-papers"><i class="fa fa-check"></i><b>14.1</b> Reproducible and Transparent Papers<span></span></a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#learning-objectives-15"><i class="fa fa-check"></i><b>14.1.1</b> Learning Objectives<span></span></a></li>
<li><a href="reproducibility-and-provenance.html#data-citation">Data Citation<span></span></a></li>
<li class="chapter" data-level="14.1.2" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#reproducible-papers-with-rrtools"><i class="fa fa-check"></i><b>14.1.2</b> Reproducible Papers with <code>rrtools</code><span></span></a></li>
<li class="chapter" data-level="14.1.3" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#reproducible-papers-with-rticles"><i class="fa fa-check"></i><b>14.1.3</b> Reproducible Papers with <code>rticles</code><span></span></a></li>
<li><a href="reproducibility-and-provenance.html#the-5th-generation-of-reproducible-papers">The 5th Generation of Reproducible Papers<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>15</b> Appendix<span></span></a>
<ul>
<li class="chapter" data-level="15.1" data-path="appendix.html"><a href="appendix.html#collaborating-using-git"><i class="fa fa-check"></i><b>15.1</b> Collaborating using Git<span></span></a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="appendix.html"><a href="appendix.html#learning-objectives-16"><i class="fa fa-check"></i><b>15.1.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="15.1.2" data-path="appendix.html"><a href="appendix.html#pull-requests"><i class="fa fa-check"></i><b>15.1.2</b> Pull requests<span></span></a></li>
<li class="chapter" data-level="15.1.3" data-path="appendix.html"><a href="appendix.html#exercise-create-and-merge-pull-requests"><i class="fa fa-check"></i><b>15.1.3</b> Exercise: Create and merge pull requests<span></span></a></li>
<li class="chapter" data-level="15.1.4" data-path="appendix.html"><a href="appendix.html#branches"><i class="fa fa-check"></i><b>15.1.4</b> Branches<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="appendix.html"><a href="appendix.html#programming-metadata-and-data-publishing"><i class="fa fa-check"></i><b>15.2</b> Programming Metadata and Data Publishing<span></span></a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="appendix.html"><a href="appendix.html#learning-objectives-17"><i class="fa fa-check"></i><b>15.2.1</b> Learning Objectives<span></span></a></li>
<li class="chapter" data-level="15.2.2" data-path="appendix.html"><a href="appendix.html#creating-metadata"><i class="fa fa-check"></i><b>15.2.2</b> Creating Metadata<span></span></a></li>
<li class="chapter" data-level="15.2.3" data-path="appendix.html"><a href="appendix.html#publish-data-to-the-arctic-data-center-test-site"><i class="fa fa-check"></i><b>15.2.3</b> Publish data to the Arctic Data Center test site<span></span></a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Practices for Arctic Research Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendix" class="section level1 hasAnchor" number="15">
<h1><span class="header-section-number">15</span> Appendix<a href="appendix.html#appendix" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="collaborating-using-git" class="section level2 hasAnchor" number="15.1">
<h2><span class="header-section-number">15.1</span> Collaborating using Git<a href="appendix.html#collaborating-using-git" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="learning-objectives-16" class="section level3 hasAnchor" number="15.1.1">
<h3><span class="header-section-number">15.1.1</span> Learning Objectives<a href="appendix.html#learning-objectives-16" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this lesson, you will learn:</p>
<ul>
<li>New mechanisms to collaborate using <strong>git</strong></li>
<li>What is a <strong>Pull Request</strong> in Github?</li>
<li>How to contribute code to colleague’s repository using Pull Requests</li>
<li>What is a <strong>branch</strong> in git?</li>
<li>How to use a branch to organize code</li>
<li>What is a <strong>tag</strong> in git and how is it useful for collaboration?</li>
</ul>
</div>
<div id="pull-requests" class="section level3 hasAnchor" number="15.1.2">
<h3><span class="header-section-number">15.1.2</span> Pull requests<a href="appendix.html#pull-requests" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We’ve shown in other chapters how to directly collaborate on a repository with
colleagues by granting them <code>write</code> privileges as a collaborator to your repository.
This is useful with close collaborators, but also grants them tremendous latitude to
change files and analyses, to remove files from the working copy, and to modify all
files in the repository.</p>
<p>Pull requests represent a mechanism to more judiciously collaborate, one in which
a collaborator can suggest changes to a repository, the owner and collaborator can
discuss those changes in a structured way, and the owner can then review and accept
all or only some of those changes to the repository. This is useful with open source
code where a community is contributing to shared analytical software, to students in
a lab working on related but not identical projects, and to others who want the
capability to review changes as they are submitted.</p>
<p>To use pull requests, the general procedure is as follows. The collaborator first
creates a <code>fork</code> of the owner’s repository, which is a cloned copy of the original
that is linked to the original. This cloned copy is in the collaborator’s GitHub
account, which means they have the ability to make changes to it. But they don’t have
the right to change the original owner’s copy. So instead, they <code>clone</code> their GitHub
copy onto their local machine, which makes the collaborator’s GitHub copy the <code>origin</code>
as far as they are concerned. In this scenario, we generally refer to the Collaborator’s
repository as the remote <code>origin</code>, and the Owner’s repository as <code>upstream</code>.</p>
<p><img src="images/github-workflows-fork.png" /></p>
<p>Pull requests are a mechanism for someone that has a forked copy of a repository
to <strong>request</strong> that the original owner review and pull in their changes. This
allows them to collaborate, but keeps the owner in control of exactly what changed.</p>
</div>
<div id="exercise-create-and-merge-pull-requests" class="section level3 hasAnchor" number="15.1.3">
<h3><span class="header-section-number">15.1.3</span> Exercise: Create and merge pull requests<a href="appendix.html#exercise-create-and-merge-pull-requests" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this exercise, work in pairs. Each pair should create a <code>fork</code> of their partner’s
training repository, and then clone that onto their local machine. Then they can make changes
to that forked repository, and, from the GitHub interface, create a pull request that the
owner can incorporate. We’ll walk through the process from both the owner and the collaborator’s
perspectives. In the following example, <code>mbjones</code> will be the repository owner, and <code>metamattj</code>
will be the collaborator.</p>
<ol style="list-style-type: decimal">
<li><p><em>Change settings (Owner)</em>: Edit the github settings file for your <code>training-test</code> repository, and ensure that the collaborator does not have editing permission. Also, be sure that all changes in your repository are committed and pushed to the <code>origin</code> server.</p></li>
<li><p><em>Fork (Collaborator)</em>: Visit the GitHub page for the owner’s GitHub repository on which you’d like
to make changes, and click the <code>Fork</code> button. This will create a clone of that repository in your
own GitHub account. You will be able to make changes to this forked copy of the repository, but
you will not be able to make direct changes to the owner’s copy. After you have forked the repository,
visit your GitHub page for your forked repository, copy the url, and create a new RStudio project
using that repository url.</p></li>
</ol>
<p><img src="images/git-pr-02-forked-repo.png" /></p>
<ol start="3" style="list-style-type: decimal">
<li><em>Edit README.md (Collaborator)</em>: The collaborator should make one or more changes to the README.md
file from their cloned copy of the repository, <code>commit</code> the changes, and <code>push</code> them to their forked copy. At this point, their local repo and github copy both have the changes that they made, but the owner’s repository
has not yet been changed. When you now visit your forked copy of the repository on Github, you will now see your change has been made, and it will say that <code>This branch is 1 commit ahead of mbjones:main.</code></li>
</ol>
<p><img src="images/git-pr-03-fork-changed.png" /></p>
<ol start="4" style="list-style-type: decimal">
<li><em>Create Pull Request (Collaborator)</em>: At this point, click the aptly named <code>Pull Request</code> button to create a pull request which will be used to ask that the <em>owner</em> pull in your changes to their copy.</li>
</ol>
<p><img src="images/git-pr-04-config-pr.png" /></p>
<p>When you click <code>Create pull request</code>, provide a brief summary of the request, and a more detailed message to start a conversation about what you are requesting. It’s helpful to be polite and concise while providing adequate context for your request. This will start a conversation with the owner in which you can discuss your changes, they can easily review the changes, and they can ask for further changes before the accept and pull them in. The owner of the repository is in control and determines if and when the changes are merged.</p>
<p><img src="images/git-pr-05-create-pr.png" /></p>
<ol start="5" style="list-style-type: decimal">
<li><em>Review pull request (Owner)</em>: The owner will get an email notification that the Pull Request was created, and can see the PR listed in their <code>Pull requests</code> tab of their repsoitory.</li>
</ol>
<p><img src="images/git-pr-06-pr-list.png" /></p>
<p>The owner can now initiate a conversation about the change, requesting further changes. The interface indicates whether there are any conflicts with the changes, and if not, gives the owner the option to <code>Merge pull request</code>.</p>
<p><img src="images/git-pr-07-pr-view.png" /></p>
<ol start="6" style="list-style-type: decimal">
<li><em>Merge pull request (Owner)</em>: Once the owner thinks the changes look good, they can click the <code>Merge pull request</code> button to accept the changes and pull them into their repository copy. Edit the message, and then click <code>Confirm merge</code>.</li>
</ol>
<p><img src="images/git-pr-08-pr-merge.png" /></p>
<p>Congratulations, the PR request has now been merged into the owner’s copy, and has been closed with a note indicating that the changes have been made.</p>
<p><img src="images/git-pr-09-merged.png" /></p>
<ol start="7" style="list-style-type: decimal">
<li><em>Sync with owner (Collaborator)</em>: Now that the pull request has been merged, there is a
new merge commit in the Owner’s repository that is not present in either of the
collaborator’s repositories. To fix that,
one needs to pull changes from the <code>upstream</code> repository into the collaborator’s local
repository, and then push those changes from that local repository to the collaborator’s
<code>origin</code> repository.</li>
</ol>
<p>To add a reference to the <code>upstream</code> remote (the repository you made your fork from), in the terminal, run:</p>
<p><code>git remote add upstream https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git</code></p>
<p>Then to pull from the main branch of the <code>upstream</code> repository, in the terminal, run:</p>
<p><code>git pull upstream main</code></p>
<p>At this point, the collaborator is fully up to date.</p>
<p><img src="images/github-workflows-upstream.png" /></p>
</div>
<div id="branches" class="section level3 hasAnchor" number="15.1.4">
<h3><span class="header-section-number">15.1.4</span> Branches<a href="appendix.html#branches" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Branches are a mechanism to isolate a set of changes in their own thread, allowing multiple
types of work to happen in parallel on a repository at the same time. These are most often
used for trying out experimental work, or for managing bug fixes for historical releases
of software. Here’s an example graph showing a <code>branch2.1</code> that has changes in parallel
to the main branch of development:</p>
<p><img src="images/version-graph.png" /></p>
<p>The default branch in almost all repositories is called <code>main</code>, and it is the
branch that is typically shown in the GitHub interface and elsewhere.
There are many mechanisms to create branches. The one we will try is
through RStudio, in which we use the branch dialog to create and switch
between branches.</p>
<div id="exercise" class="section level4 hasAnchor" number="15.1.4.1">
<h4><span class="header-section-number">15.1.4.1</span> Exercise:<a href="appendix.html#exercise" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Create a new branch in your training repository called <code>exp-1</code>, and then make
changes to the RMarkdown files in the directory. Commit and push those changes
to the branch. Now you can switch between branches using the github interface.</p>
<p><img src="images/git-branch-create.png" /></p>
</div>
</div>
</div>
<div id="programming-metadata-and-data-publishing" class="section level2 hasAnchor" number="15.2">
<h2><span class="header-section-number">15.2</span> Programming Metadata and Data Publishing<a href="appendix.html#programming-metadata-and-data-publishing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="learning-objectives-17" class="section level3 hasAnchor" number="15.2.1">
<h3><span class="header-section-number">15.2.1</span> Learning Objectives<a href="appendix.html#learning-objectives-17" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this lesson, you will learn:</p>
<ul>
<li>How to write standardized metadata in R</li>
<li>How to publish data packages to the Arctic Data Center programmatically</li>
</ul>
<p>For datasets with a relatively small number of files that do not have many columns, the Arctic Data Center web form is the most efficient way to create metadata. However, for datasets that have many hundreds of files with a similar structure, or a large number of attributes, programmatic metadata creation may be more efficient. Creating metadata and publishing programmatically also allows for more a streamlined approach to updating datasets that have been published. By incorporating this documentation and publishing approach into your scientific workflow, you can improve the reproducibility and transparency of your work.</p>
</div>
<div id="creating-metadata" class="section level3 hasAnchor" number="15.2.2">
<h3><span class="header-section-number">15.2.2</span> Creating Metadata<a href="appendix.html#creating-metadata" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="about-ecological-metadata-language-eml" class="section level4 hasAnchor" number="15.2.2.1">
<h4><span class="header-section-number">15.2.2.1</span> About Ecological Metadata Language (EML)<a href="appendix.html#about-ecological-metadata-language-eml" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>EML, the metadata standard that the Arctic Data Center uses, looks like this:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb216-1"><a href="appendix.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="ot"> encoding=</span><span class="st">&quot;UTF-8&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb216-2"><a href="appendix.html#cb216-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">eml:eml</span><span class="ot"> packageId=</span><span class="st">&quot;df35d.442.6&quot;</span><span class="ot"> system=</span><span class="st">&quot;knb&quot;</span></span>
<span id="cb216-3"><a href="appendix.html#cb216-3" aria-hidden="true" tabindex="-1"></a><span class="ot">    xmlns:eml=</span><span class="st">&quot;eml://ecoinformatics.org/eml-2.1.1&quot;</span>&gt;</span>
<span id="cb216-4"><a href="appendix.html#cb216-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">dataset</span>&gt;</span>
<span id="cb216-5"><a href="appendix.html#cb216-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">title</span>&gt;Improving Preseason Forecasts of Sockeye Salmon Runs through</span>
<span id="cb216-6"><a href="appendix.html#cb216-6" aria-hidden="true" tabindex="-1"></a>            Salmon Smolt Monitoring in Kenai River, Alaska: 2005 - 2007&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb216-7"><a href="appendix.html#cb216-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">creator</span><span class="ot"> id=</span><span class="st">&quot;1385594069457&quot;</span>&gt;</span>
<span id="cb216-8"><a href="appendix.html#cb216-8" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">individualName</span>&gt;</span>
<span id="cb216-9"><a href="appendix.html#cb216-9" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">givenName</span>&gt;Mark&lt;/<span class="kw">givenName</span>&gt;</span>
<span id="cb216-10"><a href="appendix.html#cb216-10" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">surName</span>&gt;Willette&lt;/<span class="kw">surName</span>&gt;</span>
<span id="cb216-11"><a href="appendix.html#cb216-11" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">individualName</span>&gt;</span>
<span id="cb216-12"><a href="appendix.html#cb216-12" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">organizationName</span>&gt;Alaska Department of Fish and Game&lt;/<span class="kw">organizationName</span>&gt;</span>
<span id="cb216-13"><a href="appendix.html#cb216-13" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">positionName</span>&gt;Fishery Biologist&lt;/<span class="kw">positionName</span>&gt;</span>
<span id="cb216-14"><a href="appendix.html#cb216-14" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">address</span>&gt;</span>
<span id="cb216-15"><a href="appendix.html#cb216-15" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">city</span>&gt;Soldotna&lt;/<span class="kw">city</span>&gt;</span>
<span id="cb216-16"><a href="appendix.html#cb216-16" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">administrativeArea</span>&gt;Alaska&lt;/<span class="kw">administrativeArea</span>&gt;</span>
<span id="cb216-17"><a href="appendix.html#cb216-17" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">country</span>&gt;USA&lt;/<span class="kw">country</span>&gt;</span>
<span id="cb216-18"><a href="appendix.html#cb216-18" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">address</span>&gt;</span>
<span id="cb216-19"><a href="appendix.html#cb216-19" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">phone</span><span class="ot"> phonetype=</span><span class="st">&quot;voice&quot;</span>&gt;(907)260-2911&lt;/<span class="kw">phone</span>&gt;</span>
<span id="cb216-20"><a href="appendix.html#cb216-20" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">electronicMailAddress</span>&gt;mark.willette@alaska.gov&lt;/<span class="kw">electronicMailAddress</span>&gt;</span>
<span id="cb216-21"><a href="appendix.html#cb216-21" aria-hidden="true" tabindex="-1"></a>        &lt;/<span class="kw">creator</span>&gt;</span>
<span id="cb216-22"><a href="appendix.html#cb216-22" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb216-23"><a href="appendix.html#cb216-23" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">dataset</span>&gt;</span>
<span id="cb216-24"><a href="appendix.html#cb216-24" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">eml:eml</span>&gt;</span></code></pre></div>
<p>Earlier in this course we learned how to create an EML document like this using the Arctic Data Center web form. Now, we will learn how to create it using R. This can be especially useful to decrease the repetitiveness of metadata creation when you have many files with the same format, files with many attributes, or many data packages with a similar format.</p>
<p>When you create metadata using the web form, the form creates valid metadata for you. Valid, structured metadata is what enables computers to predictably parse the information in a metadata document, enabling search, display, and even meta-analysis. When we create metadata in R, there aren’t as many user-friendly checks in place to ensure we create valid EML, so we need to understand the structure of the document more completely in order to make sure that it will be compatible with the Arctic Data Center.</p>
<p>Let’s look at a simplified version of the example above:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb217-1"><a href="appendix.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="ot"> encoding=</span><span class="st">&quot;UTF-8&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb217-2"><a href="appendix.html#cb217-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">eml:eml</span><span class="ot"> packageId=</span><span class="st">&quot;df35d.442.6&quot;</span><span class="ot"> system=</span><span class="st">&quot;knb&quot;</span></span>
<span id="cb217-3"><a href="appendix.html#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="ot">    xmlns:eml=</span><span class="st">&quot;eml://ecoinformatics.org/eml-2.1.1&quot;</span>&gt;</span>
<span id="cb217-4"><a href="appendix.html#cb217-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">dataset</span>&gt;</span>
<span id="cb217-5"><a href="appendix.html#cb217-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">title</span>&gt;Improving Preseason Forecasts of Sockeye Salmon Runs through</span>
<span id="cb217-6"><a href="appendix.html#cb217-6" aria-hidden="true" tabindex="-1"></a>            Salmon Smolt Monitoring in Kenai River, Alaska: 2005 - 2007&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb217-7"><a href="appendix.html#cb217-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">creator</span><span class="ot"> id=</span><span class="st">&quot;1385594069457&quot;</span>&gt;</span>
<span id="cb217-8"><a href="appendix.html#cb217-8" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">individualName</span>&gt;</span>
<span id="cb217-9"><a href="appendix.html#cb217-9" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">givenName</span>&gt;Mark&lt;/<span class="kw">givenName</span>&gt;</span>
<span id="cb217-10"><a href="appendix.html#cb217-10" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">surName</span>&gt;Willette&lt;/<span class="kw">surName</span>&gt;</span>
<span id="cb217-11"><a href="appendix.html#cb217-11" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">individualName</span>&gt;</span>
<span id="cb217-12"><a href="appendix.html#cb217-12" aria-hidden="true" tabindex="-1"></a>        &lt;/<span class="kw">creator</span>&gt;</span>
<span id="cb217-13"><a href="appendix.html#cb217-13" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb217-14"><a href="appendix.html#cb217-14" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">dataset</span>&gt;</span>
<span id="cb217-15"><a href="appendix.html#cb217-15" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">eml:eml</span>&gt;</span></code></pre></div>
<p>EML is written in XML (eXtensisble Markup Language). One of the key concepts in XML is the element. An XML element is everything that is encompassed by a start tag (<code>&lt;...&gt;</code>) and an end tag (<code>&lt;/...&gt;</code>). So, a simple element in the example above is <code>&lt;surName&gt;Willette&lt;/surName&gt;</code>. The name of this element is <code>surName</code> and the value is simple text, “Willette”. Each element in EML has a specific (case sensitive!) name and description that is specified in the schema. The description of the <code>surName</code> element is: “The surname field is used for the last name of the individual associated with the resource. This is typically the family name of an individual…” The EML schema specifies not only the names and descriptions of all EML elements, but also certain requirements, like which elements must be included, what type of values are allowed within elements, and how the elements are organized. An EML document is valid when it adheres to all of the requirements speficied in the EML schema.</p>
<p>You’ll notice that some elements, rather than having a simple value, instead contain other elements that are nested within them. Let’s look at <code>individualName</code>.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb218-1"><a href="appendix.html#cb218-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">individualName</span>&gt;</span>
<span id="cb218-2"><a href="appendix.html#cb218-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">givenName</span>&gt;Mark&lt;/<span class="kw">givenName</span>&gt;</span>
<span id="cb218-3"><a href="appendix.html#cb218-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">surName</span>&gt;Willette&lt;/<span class="kw">surName</span>&gt;</span>
<span id="cb218-4"><a href="appendix.html#cb218-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">individualName</span>&gt;</span></code></pre></div>
<p>This element is a collection of other elements (sometimes referred to as child elements). In this example, the <code>individualName</code> element has a <code>givenName</code> and a <code>surName</code> child element. We can check the requirements of any particular element by looking at the <a href="https://eml.ecoinformatics.org/schema/">schema documents</a>, which includes some helpful diagrams.</p>
<p>The diagram in the <code>individualName</code> <a href="https://eml.ecoinformatics.org/schema/eml-party_xsd.html#ResponsibleParty_individualName">section</a> of the schema looks like this:</p>
<p><img src="images/individualName_schema.png" /></p>
<p>This shows that within <code>individualName</code> there are 3 possible child elements: <code>salutation</code>, <code>givenName</code>, and <code>surName</code>. The yellow circle icon with stacked papers tells you that the elements come in series, so you can include one or more of the child elements (as opposed to a switch symbol, which means that you choose one element from a list of options). The bold line tells you that <code>surName</code> is required, and the <code>0..inf</code> indicates that you can include 0 or more <code>salultation</code> or <code>givenName</code> elements.</p>
<p>So, to summarize, EML is the metadata standard used by the Arctic Data Center. It is written in XML, which consists of a series of nested elements. The element definitions, required elements, and structure are all defined by a schema. When you write EML, in order for it to be valid, your EML document must conform to the requirements given in the schema.</p>
</div>
<div id="metadata-in-r-a-simple-example" class="section level4 hasAnchor" number="15.2.2.2">
<h4><span class="header-section-number">15.2.2.2</span> Metadata in R: a simple example<a href="appendix.html#metadata-in-r-a-simple-example" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now, let’s learn how the <a href="https://github.com/ropensci/EML">EML package</a> can help us create EML in R.</p>
<p>First, load the EML package in R.</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="appendix.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(EML)</span></code></pre></div>
<p>The EML package relies on named list structures to generate name-value pairs for elements. “Named list structures” may sound unfamiliar, but they aren’t dissimilar from <code>data.frames</code>. A <code>data.frame</code> is just a named list of vectors of the same length, where the name of the vector is the column name. In this section, we will use the familiar <code>$</code> operator to dig down into the named list structure that we generate.</p>
<p>To show how this works, let’s create the <code>individualName</code> element, and save it as an object called <code>me</code>. Remember the schema requirements - <code>indvidualName</code> has child elements <code>salutation</code>, <code>givenName</code>, and <code>surName</code>. At least <code>surName</code> is required.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="appendix.html#cb220-1" aria-hidden="true" tabindex="-1"></a>me <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">givenName =</span> <span class="st">&quot;Jeanette&quot;</span>,</span>
<span id="cb220-2"><a href="appendix.html#cb220-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">surName =</span> <span class="st">&quot;Clark&quot;</span>)</span>
<span id="cb220-3"><a href="appendix.html#cb220-3" aria-hidden="true" tabindex="-1"></a>me</span></code></pre></div>
<pre><code>## $givenName
## [1] &quot;Jeanette&quot;
## 
## $surName
## [1] &quot;Clark&quot;</code></pre>
<p>So we have created the contents of an <code>individualName</code> element, with child elements <code>givenName</code> and <code>surName</code>, and assigned the values of those child elements to my name.</p>
<p>This might look confusing, hard to remember, and if you aren’t intimitely familiar with the EML schema, you are probably feeling a little intimidated. Luckily the <code>EML</code> package has a set of helper list constructor functions which tell you what child elements can be used in a parent element. The helper functions have the format <code>eml$elementName()</code>. When combined with the RStudio autocomplete functionality, the whole process gets a lot easier!</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="appendix.html#cb222-1" aria-hidden="true" tabindex="-1"></a>me <span class="ot">&lt;-</span> eml<span class="sc">$</span><span class="fu">individualName</span>(<span class="at">givenName =</span> <span class="st">&quot;Jeanette&quot;</span>,</span>
<span id="cb222-2"><a href="appendix.html#cb222-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">surName =</span> <span class="st">&quot;Clark&quot;</span>)</span></code></pre></div>
<p>We can then use this object <code>me</code>, which represents the <code>individualName</code> element, and insert it into a larger EML document.</p>
<p>At the top level of a complete EML document are the <code>packageId</code> and <code>system</code> elements. This is how your document can be uniquely identified within whatever system manages it. The <code>packageId</code> element typically contains the DOI (Digital Object Identifier) or other identifier for the dataset. Nested within the top level is the <code>dataset</code> element. All EML documents must have, at a minimum, a <code>title</code>, <code>creator</code>, and <code>contact</code>, in addition to the <code>packageId</code> and <code>system</code>.</p>
<p>Let’s create a minimal valid EML dataset, with an arbitrary <code>packageId</code> and <code>system</code>.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="appendix.html#cb223-1" aria-hidden="true" tabindex="-1"></a>doc <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">packageId =</span> <span class="st">&quot;dataset-1&quot;</span>, <span class="at">system =</span> <span class="st">&quot;local&quot;</span>,</span>
<span id="cb223-2"><a href="appendix.html#cb223-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">dataset =</span> eml<span class="sc">$</span><span class="fu">dataset</span>(<span class="at">title =</span> <span class="st">&quot;A minimial valid EML dataset&quot;</span>,</span>
<span id="cb223-3"><a href="appendix.html#cb223-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">creator =</span> eml<span class="sc">$</span><span class="fu">creator</span>(<span class="at">individualName =</span> me),</span>
<span id="cb223-4"><a href="appendix.html#cb223-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">contact =</span> eml<span class="sc">$</span><span class="fu">contact</span>(<span class="at">individualName =</span> me)))</span></code></pre></div>
<p>Unlike the web editor, in R there is nothing stopping you from inserting arbitrary elements into your EML document. A critical step to creating EML is validating your EML document to make sure it conforms to the schema requirements. In R this can be done using the <code>eml_validate</code> function.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="appendix.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eml_validate</span>(doc)</span></code></pre></div>
<pre><code>## [1] TRUE
## attr(,&quot;errors&quot;)
## character(0)</code></pre>
<p>We can write our EML using <code>write_eml</code>.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="appendix.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_eml</span>(doc, <span class="st">&quot;../files/simple_example.xml&quot;</span>)</span></code></pre></div>
<p>Here is what the written file looks like:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb227-1"><a href="appendix.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="ot"> encoding=</span><span class="st">&quot;UTF-8&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb227-2"><a href="appendix.html#cb227-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">eml:eml</span><span class="ot"> xmlns:eml=</span><span class="st">&quot;eml://ecoinformatics.org/eml-2.1.1&quot;</span><span class="ot"> xmlns:xsi=</span><span class="st">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="ot"> xmlns:stmml=</span><span class="st">&quot;http://www.xml-cml.org/schema/stmml-1.1&quot;</span><span class="ot"> packageId=</span><span class="st">&quot;id&quot;</span><span class="ot"> system=</span><span class="st">&quot;system&quot;</span><span class="ot"> xsi:schemaLocation=</span><span class="st">&quot;eml://ecoinformatics.org/eml-2.1.1/ eml.xsd&quot;</span>&gt;</span>
<span id="cb227-3"><a href="appendix.html#cb227-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">dataset</span>&gt;</span>
<span id="cb227-4"><a href="appendix.html#cb227-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">title</span>&gt;A minimal valid EML dataset&lt;/<span class="kw">title</span>&gt;</span>
<span id="cb227-5"><a href="appendix.html#cb227-5" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">creator</span>&gt;</span>
<span id="cb227-6"><a href="appendix.html#cb227-6" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">individualName</span>&gt;</span>
<span id="cb227-7"><a href="appendix.html#cb227-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">givenName</span>&gt;Jeanette&lt;/<span class="kw">givenName</span>&gt;</span>
<span id="cb227-8"><a href="appendix.html#cb227-8" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">surName</span>&gt;Clark&lt;/<span class="kw">surName</span>&gt;</span>
<span id="cb227-9"><a href="appendix.html#cb227-9" aria-hidden="true" tabindex="-1"></a>      &lt;/<span class="kw">individualName</span>&gt;</span>
<span id="cb227-10"><a href="appendix.html#cb227-10" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">creator</span>&gt;</span>
<span id="cb227-11"><a href="appendix.html#cb227-11" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">contact</span>&gt;</span>
<span id="cb227-12"><a href="appendix.html#cb227-12" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">individualName</span>&gt;</span>
<span id="cb227-13"><a href="appendix.html#cb227-13" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">givenName</span>&gt;Jeanette&lt;/<span class="kw">givenName</span>&gt;</span>
<span id="cb227-14"><a href="appendix.html#cb227-14" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">surName</span>&gt;Clark&lt;/<span class="kw">surName</span>&gt;</span>
<span id="cb227-15"><a href="appendix.html#cb227-15" aria-hidden="true" tabindex="-1"></a>      &lt;/<span class="kw">individualName</span>&gt;</span>
<span id="cb227-16"><a href="appendix.html#cb227-16" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">contact</span>&gt;</span>
<span id="cb227-17"><a href="appendix.html#cb227-17" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">dataset</span>&gt;</span>
<span id="cb227-18"><a href="appendix.html#cb227-18" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">eml:eml</span>&gt;</span></code></pre></div>
</div>
<div id="validation-errors" class="section level4 hasAnchor" number="15.2.2.3">
<h4><span class="header-section-number">15.2.2.3</span> Validation Errors<a href="appendix.html#validation-errors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>One of the hardest parts about creating EML in R is diagnosing validation errors. I won’t get into too much detail, but here is a simple example. The <code>eml$...</code> family of helpers can help prevent validation errors, since they have a set list of arguments which are allowed. Here, I bypass the <code>eml$dataset()</code> helper function to show what the error looks like.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="appendix.html#cb228-1" aria-hidden="true" tabindex="-1"></a>doc <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">packageId =</span> <span class="st">&quot;dataset-1&quot;</span>, <span class="at">system =</span> <span class="st">&quot;local&quot;</span>,</span>
<span id="cb228-2"><a href="appendix.html#cb228-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">dataset =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&quot;A minimial valid EML dataset&quot;</span>,</span>
<span id="cb228-3"><a href="appendix.html#cb228-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">creator =</span> eml<span class="sc">$</span><span class="fu">creator</span>(<span class="at">individualName =</span> me),</span>
<span id="cb228-4"><a href="appendix.html#cb228-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">contact =</span> eml<span class="sc">$</span><span class="fu">contact</span>(<span class="at">individualName =</span> me),</span>
<span id="cb228-5"><a href="appendix.html#cb228-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">arbitrary =</span> <span class="st">&quot;This element isn&#39;t in the schema&quot;</span>))</span>
<span id="cb228-6"><a href="appendix.html#cb228-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-7"><a href="appendix.html#cb228-7" aria-hidden="true" tabindex="-1"></a><span class="fu">eml_validate</span>(doc)</span></code></pre></div>
<pre><code>## [1] FALSE
## attr(,&quot;errors&quot;)
## [1] &quot;Element &#39;arbitrary&#39;: This element is not expected. Expected is one of ( references, alternateIdentifier, shortName, title ).&quot;</code></pre>
<p>This error essentially says that the element <code>arbitrary</code> is not expected, and gives you a hint of some elements that were expected. Validation errors can be tricky, especially when there are lots of them. Validate early and often!</p>
</div>
<div id="metadata-in-r-a-more-complete-example" class="section level4 hasAnchor" number="15.2.2.4">
<h4><span class="header-section-number">15.2.2.4</span> Metadata in R: A more complete example<a href="appendix.html#metadata-in-r-a-more-complete-example" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As you might imagine, creating a complete metadata record like what is shown on <a href="https://arcticdata.io/catalog/view/doi:10.18739/A26W9688B">this page</a> would be pretty tedious if we did it just using the generic <code>list</code> or <code>eml$...</code> helpers, since the nesting structure can be very deep.</p>
<p>The <code>EML</code> package has a set of higher level helper functions beginning with <code>set_</code> that create some of the more complex elements.</p>
<p>To demonstrate the use of these we are going to create an EML document that contains the following information:</p>
<ul>
<li>title</li>
<li>creator and contact</li>
<li>abstract</li>
<li>methods</li>
<li>geographic and temporal coverage</li>
<li>description of a tabular data file and a script</li>
</ul>
<p>We will edit these elements using a mix of helpers and generic techniques.</p>
<p>To get set up, navigate to <a href="https://test.arcticdata.io/view/urn:uuid:da8b9bfc-ddea-4af4-9680-c2dafe4a1225">this dataset</a> and download the CSV file and the R script. Put them in a directory called <code>files</code> that is a sub-directory of the location of this RMarkdown file.</p>
<div id="title-creator-contact" class="section level5 hasAnchor" number="15.2.2.4.1">
<h5><span class="header-section-number">15.2.2.4.1</span> Title, creator, contact<a href="appendix.html#title-creator-contact" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>To start, lets create a basic EML skeleton using our example above, but with more information in the creator and contact information besides just my name.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="appendix.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="co"># eml creator and contact have identical schema requirements (both fall under `responsibleParty`)</span></span>
<span id="cb230-2"><a href="appendix.html#cb230-2" aria-hidden="true" tabindex="-1"></a>me <span class="ot">&lt;-</span> eml<span class="sc">$</span><span class="fu">creator</span>(<span class="at">individualName =</span> eml<span class="sc">$</span><span class="fu">individualName</span>(<span class="at">givenName =</span> <span class="st">&quot;Jeanette&quot;</span>,</span>
<span id="cb230-3"><a href="appendix.html#cb230-3" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">surName =</span> <span class="st">&quot;Clark&quot;</span>),</span>
<span id="cb230-4"><a href="appendix.html#cb230-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">organizationName =</span> <span class="st">&quot;National Center for Ecological Analysis and Synthesis&quot;</span>,</span>
<span id="cb230-5"><a href="appendix.html#cb230-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">electronicMailAddress =</span> <span class="st">&quot;jclark@nceas.ucsb.edu&quot;</span>,</span>
<span id="cb230-6"><a href="appendix.html#cb230-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">userId =</span> <span class="fu">list</span>(<span class="at">directory =</span> <span class="st">&quot;https://orcid.org&quot;</span>,</span>
<span id="cb230-7"><a href="appendix.html#cb230-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">userId =</span> <span class="st">&quot;https://orcid.org/0000-0003-4703-1974&quot;</span>))</span>
<span id="cb230-8"><a href="appendix.html#cb230-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-9"><a href="appendix.html#cb230-9" aria-hidden="true" tabindex="-1"></a>doc <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">packageId =</span> <span class="st">&quot;dataset-1&quot;</span>, <span class="at">system =</span> <span class="st">&quot;local&quot;</span>,</span>
<span id="cb230-10"><a href="appendix.html#cb230-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">dataset =</span> eml<span class="sc">$</span><span class="fu">dataset</span>(<span class="at">title =</span> <span class="st">&quot;A more robust valid EML dataset&quot;</span>,</span>
<span id="cb230-11"><a href="appendix.html#cb230-11" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">creator =</span> me,</span>
<span id="cb230-12"><a href="appendix.html#cb230-12" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">contact =</span> me))</span></code></pre></div>
<p>Because we have used the <code>eml$dataset</code> helper, all of the possible sub-elements have been populated in our EML document, allowing us to easily access and edit them using R autocomplete.</p>
</div>
<div id="abstract" class="section level5 hasAnchor" number="15.2.2.4.2">
<h5><span class="header-section-number">15.2.2.4.2</span> Abstract<a href="appendix.html#abstract" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We can use this to dive down into sub-elements and edit them. Let’s do the abstract. This is a simple element so we can just assign the value of the <code>abstract</code> to a character string.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="appendix.html#cb231-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>abstract <span class="ot">&lt;-</span> <span class="st">&quot;A brief but comprehensive description of the who, what, where, when, why, and how of my dataset.&quot;</span></span></code></pre></div>
</div>
<div id="methods-1" class="section level5 hasAnchor" number="15.2.2.4.3">
<h5><span class="header-section-number">15.2.2.4.3</span> Methods<a href="appendix.html#methods-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We can use the <code>set_methods</code> function to parse a markdown (or word) document and insert it into the methods section. This way of adding text is especially nice because it preserves formatting.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="appendix.html#cb232-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>methods <span class="ot">&lt;-</span> <span class="fu">set_methods</span>(<span class="st">&quot;../files/methods.md&quot;</span>)</span>
<span id="cb232-2"><a href="appendix.html#cb232-2" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>methods</span></code></pre></div>
<pre><code>## $sampling
## NULL
## 
## $methodStep
## $methodStep$instrumentation
## character(0)
## 
## $methodStep$software
## NULL
## 
## $methodStep$description
## $methodStep$description$section
## $methodStep$description$section[[1]]
## [1] &quot;&lt;title&gt;Data Collection&lt;/title&gt;\n&lt;para&gt;\n      We collected some data and here is a description\n    &lt;/para&gt;&quot;
## 
## $methodStep$description$section[[2]]
## [1] &quot;&lt;title&gt;Data processing&lt;/title&gt;\n&lt;para&gt;\n      Here is how we processed the data\n    &lt;/para&gt;&quot;
## 
## 
## $methodStep$description$para
## list()</code></pre>
</div>
<div id="coverage" class="section level5 hasAnchor" number="15.2.2.4.4">
<h5><span class="header-section-number">15.2.2.4.4</span> Coverage<a href="appendix.html#coverage" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The geographic and temporal coverage can be set using <code>set_coverage</code>.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="appendix.html#cb234-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>coverage <span class="ot">&lt;-</span> <span class="fu">set_coverage</span>(<span class="at">beginDate =</span> <span class="dv">2001</span>,</span>
<span id="cb234-2"><a href="appendix.html#cb234-2" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">endDate =</span> <span class="dv">2010</span>,</span>
<span id="cb234-3"><a href="appendix.html#cb234-3" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">geographicDescription =</span> <span class="st">&quot;Alaska, United States&quot;</span>,</span>
<span id="cb234-4"><a href="appendix.html#cb234-4" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">westBoundingCoordinate =</span> <span class="sc">-</span><span class="fl">179.9</span>,</span>
<span id="cb234-5"><a href="appendix.html#cb234-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">eastBoundingCoordinate =</span> <span class="sc">-</span><span class="dv">120</span>,</span>
<span id="cb234-6"><a href="appendix.html#cb234-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">northBoundingCoordinate =</span> <span class="dv">75</span>,</span>
<span id="cb234-7"><a href="appendix.html#cb234-7" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">southBoundingCoordinate =</span> <span class="dv">55</span>)</span></code></pre></div>
</div>
<div id="data-file-script" class="section level5 hasAnchor" number="15.2.2.4.5">
<h5><span class="header-section-number">15.2.2.4.5</span> Data file: script<a href="appendix.html#data-file-script" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Information about data files (or <code>entity</code> level information) can be added in child elements of the <code>dataset</code> element. Here we will use the element <code>otherEntity</code> (other options include <code>spatialVector</code>, <code>spatialRaster</code>, and <code>dataTable</code>) to represent the R script.</p>
<p>First, some high level information.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="appendix.html#cb235-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>otherEntity <span class="ot">&lt;-</span> eml<span class="sc">$</span><span class="fu">otherEntity</span>(<span class="at">entityName =</span> <span class="st">&quot;../files/datfiles_processing.R&quot;</span>,</span>
<span id="cb235-2"><a href="appendix.html#cb235-2" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">entityDescription =</span> <span class="st">&quot;Data processing script&quot;</span>,</span>
<span id="cb235-3"><a href="appendix.html#cb235-3" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">entityType =</span> <span class="st">&quot;application/R&quot;</span>)</span></code></pre></div>
<p>We can use the <code>set_physical</code> helper to set more specific information about the file, like its size, delimiter, and checksum. This function automatically detects fundamental characteristics about the file if you give it a path to your file on your system.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="appendix.html#cb236-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>otherEntity<span class="sc">$</span>physical <span class="ot">&lt;-</span> <span class="fu">set_physical</span>(<span class="st">&quot;../files/datfiles_processing.R&quot;</span>)</span></code></pre></div>
<pre><code>## Automatically calculated file size using file.size(&quot;../files/datfiles_processing.R&quot;)</code></pre>
<pre><code>## Automatically calculated authentication size using digest::digest(&quot;../files/datfiles_processing.R&quot;, algo = &quot;md5&quot;, file = TRUE)</code></pre>
</div>
<div id="data-file-tabular" class="section level5 hasAnchor" number="15.2.2.4.6">
<h5><span class="header-section-number">15.2.2.4.6</span> Data file: tabular<a href="appendix.html#data-file-tabular" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Here we will use the element <code>dataTable</code> to describe the tabular data file.</p>
<p>As before, we set the <code>entityName</code>, <code>entityDescription</code>, and the <code>physical</code> sections.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="appendix.html#cb239-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable <span class="ot">&lt;-</span> eml<span class="sc">$</span><span class="fu">dataTable</span>(<span class="at">entityName =</span> <span class="st">&quot;../files/my-data.csv&quot;</span>,</span>
<span id="cb239-2"><a href="appendix.html#cb239-2" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">entityDescription =</span> <span class="st">&quot;Temperature data from in-situ loggers&quot;</span>)</span>
<span id="cb239-3"><a href="appendix.html#cb239-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-4"><a href="appendix.html#cb239-4" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable<span class="sc">$</span>physical <span class="ot">&lt;-</span> <span class="fu">set_physical</span>(<span class="st">&quot;../files/my-data.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Automatically calculated file size using file.size(&quot;../files/my-data.csv&quot;)</code></pre>
<pre><code>## Automatically calculated authentication size using digest::digest(&quot;../files/my-data.csv&quot;, algo = &quot;md5&quot;, file = TRUE)</code></pre>
<p>Next, perhaps the most important part of metadata, but frequently the most difficult to document in a metadata standard: attribute level information. An attribute is a variable in your dataset. For tabular data, this is information about columns within data tables, critical to understanding what kind of information is actually in the table!</p>
<p>The <code>set_attributes</code> function will take a <code>data.frame</code> that gives required attribute information. This <code>data.frame</code> contains rows corresponding to column names (or attributes) in the dataset, and columns:</p>
<ul>
<li>attributeName (any text)</li>
<li>attributeDefinition (any text)</li>
<li>unit (required for numeric data, use <code>get_unitList()</code> to see a list of standard units)</li>
<li>numberType (required for numeric data, one of: real, natural, whole, integer)</li>
<li>formatString (required for dateTime data)</li>
<li>definition (required for textDomain data)</li>
</ul>
<p>Two other sub-elements, the <code>domain</code> and <code>measurementScale</code>, can be inferred from the <code>col_classes</code> argument to <code>set_attributes</code>.</p>
<p>Let’s create our attributes <code>data.frame</code>.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="appendix.html#cb242-1" aria-hidden="true" tabindex="-1"></a>atts <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">attributeName =</span> <span class="fu">c</span>(<span class="st">&quot;time&quot;</span>, <span class="st">&quot;temperature&quot;</span>, <span class="st">&quot;site&quot;</span>),</span>
<span id="cb242-2"><a href="appendix.html#cb242-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">attributeDefinition =</span> <span class="fu">c</span>(<span class="st">&quot;time of measurement&quot;</span>, <span class="st">&quot;measured temperature in degrees Celsius&quot;</span>, <span class="st">&quot;site identifier&quot;</span>),</span>
<span id="cb242-3"><a href="appendix.html#cb242-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">unit =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;celsius&quot;</span>, <span class="cn">NA</span>),</span>
<span id="cb242-4"><a href="appendix.html#cb242-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">numberType =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;real&quot;</span>, <span class="cn">NA</span>),</span>
<span id="cb242-5"><a href="appendix.html#cb242-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">formatString =</span> <span class="fu">c</span>(<span class="st">&quot;HH:MM:SS&quot;</span>, <span class="cn">NA</span>, <span class="cn">NA</span>),</span>
<span id="cb242-6"><a href="appendix.html#cb242-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">definition =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">&quot;site identifier&quot;</span>))</span></code></pre></div>
<p>We will then use this in our <code>set_attributes</code> function, along with the <code>col_classes</code> argument, to generate a complete <code>attributeList</code>.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="appendix.html#cb243-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable<span class="sc">$</span>attributeList <span class="ot">&lt;-</span> <span class="fu">set_attributes</span>(<span class="at">attributes =</span> atts,</span>
<span id="cb243-2"><a href="appendix.html#cb243-2" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">col_classes =</span> <span class="fu">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;numeric&quot;</span>, <span class="st">&quot;character&quot;</span>))</span></code></pre></div>
<p>As you might imagine, this can get VERY tedious with wide data tables. The function <code>shiny_attributes</code> calls an interactive table that can not only automatically detect and attempt to fill in attribute information from a <code>data.frame</code>, but also helps with on the fly validation.</p>
<p>Note: this requires that the <code>shinyjs</code> package is installed.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="appendix.html#cb244-1" aria-hidden="true" tabindex="-1"></a>atts_shiny <span class="ot">&lt;-</span> <span class="fu">shiny_attributes</span>(<span class="at">data =</span> <span class="fu">read.csv</span>(<span class="st">&quot;../files/my-data.csv&quot;</span>))</span></code></pre></div>
<p>This produces a <code>data.frame</code> that you can insert into <code>set_attributes</code> as above.</p>
</div>
<div id="validating-and-writing-the-file" class="section level5 hasAnchor" number="15.2.2.4.7">
<h5><span class="header-section-number">15.2.2.4.7</span> Validating and writing the file<a href="appendix.html#validating-and-writing-the-file" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Finally, we need to validate and write our file.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="appendix.html#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eml_validate</span>(doc)</span></code></pre></div>
<pre><code>## [1] TRUE
## attr(,&quot;errors&quot;)
## character(0)</code></pre>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="appendix.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_eml</span>(doc, <span class="st">&quot;../files/complex_example.xml&quot;</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="publish-data-to-the-arctic-data-center-test-site" class="section level3 hasAnchor" number="15.2.3">
<h3><span class="header-section-number">15.2.3</span> Publish data to the Arctic Data Center test site<a href="appendix.html#publish-data-to-the-arctic-data-center-test-site" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="setup-and-introduction" class="section level4 hasAnchor" number="15.2.3.1">
<h4><span class="header-section-number">15.2.3.1</span> Setup and Introduction<a href="appendix.html#setup-and-introduction" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now let’s see how to use the <em>dataone</em> and <em>datapack</em> R packages to upload data to DataONE
member repositories like the <a href="https://knb.ecoinformatics.org">KNB Data Repository</a> and the <a href="https://arcticdata.io">Arctic Data Center</a>.</p>
<div id="the-dataone-package" class="section level5 hasAnchor" number="15.2.3.1.1">
<h5><span class="header-section-number">15.2.3.1.1</span> The <code>dataone</code> package<a href="appendix.html#the-dataone-package" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The <em>dataone</em> R package provides methods to enable R scripts to interact with DataONE to search for, download, upload and update data and metadata. The purpose of uploading data from R is to automate the repetitive tasks for large datasets with many files. For small datasets, the web submission form will certainly be simpler.</p>
<p>The <code>dataone</code> package interacts with two major parts of the DataONE infrastructure: Coordinating Nodes (or <code>cn</code>) and Member Nodes (or <code>mn</code>). Coordinating nodes maintain a complete catalog of all data and provide the core DataONE services, including search and discovery. The <code>cn</code> that is exposed through <a href="https://search.dataone.org">search.dataone.org</a> is called the production (or <code>PROD</code>) <code>cn</code>. Member Nodes expose their data and metadata through a common set of interfaces and services. The Arctic Data Center is an <code>mn</code>. To post data to the Arctic Data Center, we need to interact with both the coordinating and member nodes.</p>
<p>In addition to the production <code>cn</code>, there are also several test coordinating node environments, and corresponding test member node environments. In this tutorial, we will be posting data to the test Arctic Data Center environment.</p>
</div>
<div id="the-datapack-package" class="section level5 hasAnchor" number="15.2.3.1.2">
<h5><span class="header-section-number">15.2.3.1.2</span> The <code>datapack</code> package<a href="appendix.html#the-datapack-package" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The <em>datapack</em> R package represents the set of files in a dataset as a <code>datapack::DataPackage</code>. This <code>DataPackage</code> is just a special R object class that is specified in the <code>datapack</code> package. Each object in that <code>DataPackage</code> is represented as a <code>DataObject</code>, another R object class specified by <code>datapack</code>.</p>
<p>When you are publishing your dataset, ideally you aren’t only publishing a set of observations. There are many other artifacts of your research, such as scripts, derived data files, and derived figures, that should be archived in a data package. Each of the types of files shown in the workflow below should be considered a data object in your package, including the metadata file that describes the individual components of your workflow.</p>
<p><img src="images/workflow-metadata.png" /></p>
<p>Each of the files in the diagram above has a relationship with the other files, and using <code>datapack</code> you can describe these relationships explicitly and unambiguously using controlled vocabularies and conceptual frameworks. For example, we know that the fine “Image 1” was generated by “Mapping Script.” We also know that both “Image 1” and “Mapping Script” are described by the file “Metadata.” Both of these relationsips are represented in <code>datapack</code> using speficic ontologies. Using <code>datapack</code> we will create a <code>DataPackage</code> that represents a (very simple) scientific workflow and the data objects within it, where the relationships between those objects are explicitly described. Then, we will upload this <code>DataPackage</code> to a test version of the Arctic Data Center repository using <code>dataone</code>.</p>
<p>Before uploading any data to a DataONE repository, you must login to get an <em>authentication token</em>, which is a character string used to identify yourself. This token can be retrieved by logging into the test repository and copying the token into your R session.</p>
</div>
<div id="obtain-an-orcid" class="section level5 hasAnchor" number="15.2.3.1.3">
<h5><span class="header-section-number">15.2.3.1.3</span> Obtain an ORCID<a href="appendix.html#obtain-an-orcid" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>ORCID is a researcher identifier that provides a common way to link your researcher identity to your articles and data. An ORCID is to a researcher as a DOI is to a research article. To obtain an ORCID, register at <a href="https://orcid.org" class="uri">https://orcid.org</a>.</p>
</div>
<div id="log-in-to-the-test-repository-and-copy-your-token" class="section level5 hasAnchor" number="15.2.3.1.4">
<h5><span class="header-section-number">15.2.3.1.4</span> Log in to the test repository and copy your token<a href="appendix.html#log-in-to-the-test-repository-and-copy-your-token" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We will be using a test server, so login and retrieve your token at <a href="https://test.arcticdata.io" class="uri">https://test.arcticdata.io</a>.</p>
<p>Once you are logged in, navigate to your Profile Settings, and locate the “Authentication Token” section, and then copy the token for R to your clipboard.</p>
<p><img src="images/adc-authtoken.png" /></p>
<p>Finally, paste the token into the R Console to register it as an option for this R session. You are now logged in. But note that you need to keep this token private; don’t paste it into scripts or check it into git, as it is just as sensitive as your password.</p>
</div>
</div>
<div id="uploading-a-package-using-r-with-uploaddatapackage" class="section level4 hasAnchor" number="15.2.3.2">
<h4><span class="header-section-number">15.2.3.2</span> Uploading A Package Using R with <code>uploadDataPackage</code><a href="appendix.html#uploading-a-package-using-r-with-uploaddatapackage" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Datasets and metadata can be uploaded individually or as a collection. Such a collection, whether contained in local R objects or existing on a DataONE repository, will be informally referred to as a <code>package</code>.</p>
<p>Load the libraries:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="appendix.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dataone)</span>
<span id="cb248-2"><a href="appendix.html#cb248-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datapack)</span></code></pre></div>
<p>First we need to create an R object that describes what coordinating and member nodes we will be uploading our dataset to. We do this with the <code>dataone</code> function <code>D1Client</code> (DataONE client). The first argument specifies the DataONE coordinating node (in this case a test node called STAGING) and the second specifices the member node.</p>
<p>We’ll also create an object that only represents the member node, which is helpful for some functions.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="appendix.html#cb249-1" aria-hidden="true" tabindex="-1"></a>d1c <span class="ot">&lt;-</span> <span class="fu">D1Client</span>(<span class="st">&quot;STAGING&quot;</span>, <span class="st">&quot;urn:node:mnTestARCTIC&quot;</span>)</span>
<span id="cb249-2"><a href="appendix.html#cb249-2" aria-hidden="true" tabindex="-1"></a>mn <span class="ot">&lt;-</span> d1c<span class="sc">@</span>mn</span></code></pre></div>
<p>Next, we create a <code>DataPackage</code> as a container for our data, metadata, and scripts using the <code>new</code> function. This just creates an empty object with the class <code>DataPackage</code></p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="appendix.html#cb250-1" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">new</span>(<span class="st">&quot;DataPackage&quot;</span>)</span>
<span id="cb250-2"><a href="appendix.html#cb250-2" aria-hidden="true" tabindex="-1"></a>dp</span></code></pre></div>
<pre><code>## This package does not contain any DataObjects.</code></pre>
<p>We then need to add a metadata file and data file to this package. First we generate some identifiers for the objects. We’ll use the <code>uuid</code> scheme for all of our objects. If we were uploading to production, you would likely want use an identifier with the <code>doi</code> scheme for your metadata document.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="appendix.html#cb252-1" aria-hidden="true" tabindex="-1"></a>data_id <span class="ot">&lt;-</span> <span class="fu">generateIdentifier</span>(mn, <span class="at">scheme =</span> <span class="st">&quot;uuid&quot;</span>)</span>
<span id="cb252-2"><a href="appendix.html#cb252-2" aria-hidden="true" tabindex="-1"></a>script_id <span class="ot">&lt;-</span> <span class="fu">generateIdentifier</span>(mn, <span class="at">scheme =</span> <span class="st">&quot;uuid&quot;</span>)</span>
<span id="cb252-3"><a href="appendix.html#cb252-3" aria-hidden="true" tabindex="-1"></a>metadata_id <span class="ot">&lt;-</span> <span class="fu">generateIdentifier</span>(mn, <span class="at">scheme =</span> <span class="st">&quot;uuid&quot;</span>)</span></code></pre></div>
<p>Now we need to modify our EML document to include these identifiers. This increases the accessibility of the files in our dataset.</p>
<p>First read in the EML that we created earlier.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="appendix.html#cb253-1" aria-hidden="true" tabindex="-1"></a>doc <span class="ot">&lt;-</span> <span class="fu">read_eml</span>(<span class="st">&quot;../files/complex_example.xml&quot;</span>)</span></code></pre></div>
<p>Let’s replace the arbitrary <code>packageId</code> and <code>system</code> that we set in the example above to reflect the identifier we created for this package, and the system we are uploading the package to.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="appendix.html#cb254-1" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>packageId <span class="ot">&lt;-</span> metadata_id</span>
<span id="cb254-2"><a href="appendix.html#cb254-2" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>system <span class="ot">&lt;-</span> mn<span class="sc">@</span>identifier</span></code></pre></div>
<p>Now let’s add a distribution URL to the <code>physical</code> section of our entity information. All of the distribution URLs look something like this <code>https://test.arcticdata.io/metacat/d1/mn/v2/object/urn:uuid:A0cc95b46-a318-4dd1-8f8a-0e6c280e1d95</code>, where <code>https://test.arcticdata.io/metacat/d1/mn/v2/</code> is the member node end point, and <code>urn:uuid:A0cc95b46-a318-4dd1-8f8a-0e6c280e1d95</code> is the identifier of the object.</p>
<p>We can easily construct this URL using the <code>paste0</code> function, and insert it into the <code>physical</code> section of the <code>dataTable</code> element.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="appendix.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set url for csv</span></span>
<span id="cb255-2"><a href="appendix.html#cb255-2" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>dataTable<span class="sc">$</span>physical<span class="sc">$</span>distribution<span class="sc">$</span>online<span class="sc">$</span>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(mn<span class="sc">@</span>endpoint,</span>
<span id="cb255-3"><a href="appendix.html#cb255-3" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="st">&quot;object/&quot;</span>,</span>
<span id="cb255-4"><a href="appendix.html#cb255-4" aria-hidden="true" tabindex="-1"></a>                                                                 data_id)</span>
<span id="cb255-5"><a href="appendix.html#cb255-5" aria-hidden="true" tabindex="-1"></a><span class="co"># set url for script</span></span>
<span id="cb255-6"><a href="appendix.html#cb255-6" aria-hidden="true" tabindex="-1"></a>doc<span class="sc">$</span>dataset<span class="sc">$</span>otherEntity<span class="sc">$</span>physical<span class="sc">$</span>distribution<span class="sc">$</span>online<span class="sc">$</span>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(mn<span class="sc">@</span>endpoint,</span>
<span id="cb255-7"><a href="appendix.html#cb255-7" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="st">&quot;object/&quot;</span>,</span>
<span id="cb255-8"><a href="appendix.html#cb255-8" aria-hidden="true" tabindex="-1"></a>                                                                   script_id)</span>
<span id="cb255-9"><a href="appendix.html#cb255-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb255-10"><a href="appendix.html#cb255-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_eml</span>(doc, <span class="st">&quot;../files/complex_example.xml&quot;</span>)</span></code></pre></div>
<p>Now we have a full metadata document ready to be uploaded. We now need to add our files to the <code>DataPackage</code>.</p>
<p>First, let’s create a new <code>DataObject</code>, which is another object class specific to <code>datapack</code>. Our metadata file, data file, and script will all need to be added as a <code>DataObject</code>. Remember that all files in a package are considered data objects, not just the ones that we you traditionally think of as being “data”.</p>
<p>The <code>format</code> argument specifies the type of file, and should match one of the list of DataONE formatIds (listed in the Id field) <a href="https://cn.dataone.org/cn/v2/formats">here</a>.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="appendix.html#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the metadata document to the package</span></span>
<span id="cb256-2"><a href="appendix.html#cb256-2" aria-hidden="true" tabindex="-1"></a>metadataObj <span class="ot">&lt;-</span> <span class="fu">new</span>(<span class="st">&quot;DataObject&quot;</span>,</span>
<span id="cb256-3"><a href="appendix.html#cb256-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">id =</span> metadata_id,</span>
<span id="cb256-4"><a href="appendix.html#cb256-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">format =</span><span class="st">&quot;eml://ecoinformatics.org/eml-2.1.1&quot;</span>,</span>
<span id="cb256-5"><a href="appendix.html#cb256-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">filename =</span> <span class="st">&quot;../files/complex_example.xml&quot;</span>)</span></code></pre></div>
<p>After creating the <code>DataObject</code> that represents the metadata file, we add it to the data package using <code>addMember</code>.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="appendix.html#cb257-1" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">addMember</span>(dp, metadataObj)</span>
<span id="cb257-2"><a href="appendix.html#cb257-2" aria-hidden="true" tabindex="-1"></a>dp</span></code></pre></div>
<pre><code>## Members:
## 
## filename        format    mediaType  size     identifier         modified local 
## comple...le.xml eml...1.1 NA         5907     urn:uui...d0f7ffd1 n        y     
## 
## Package identifier: NA
## RightsHolder: NA
## 
## 
## This package does not contain any provenance relationships.</code></pre>
<p>We add the data file and the script similarly. The only difference is in the <code>addMember</code> function we have to set the <code>mo</code> (metadata object) argument equal to the <code>DataObject</code> that represents the metadata file. Adding our csv file to the package this way not only adds the file to the data package, but it also specifies that the csv is described by the metadata.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="appendix.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add our data file to the package</span></span>
<span id="cb259-2"><a href="appendix.html#cb259-2" aria-hidden="true" tabindex="-1"></a>sourceObj <span class="ot">&lt;-</span> <span class="fu">new</span>(<span class="st">&quot;DataObject&quot;</span>,</span>
<span id="cb259-3"><a href="appendix.html#cb259-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">id =</span> data_id,</span>
<span id="cb259-4"><a href="appendix.html#cb259-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">format =</span> <span class="st">&quot;text/csv&quot;</span>,</span>
<span id="cb259-5"><a href="appendix.html#cb259-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">filename =</span> <span class="st">&quot;../files/my-data.csv&quot;</span>)</span>
<span id="cb259-6"><a href="appendix.html#cb259-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-7"><a href="appendix.html#cb259-7" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">addMember</span>(dp, sourceObj, <span class="at">mo =</span> metadataObj)</span>
<span id="cb259-8"><a href="appendix.html#cb259-8" aria-hidden="true" tabindex="-1"></a>dp</span></code></pre></div>
<pre><code>## Members:
## 
## filename        format    mediaType  size     identifier         modified local 
## my-data.csv     text/csv  NA         45       urn:uui...34a4a4aa n        y     
## comple...le.xml eml...1.1 NA         5907     urn:uui...d0f7ffd1 n        y     
## 
## Package identifier: NA
## RightsHolder: NA
## 
## 
## Relationships (updated):
## 
##               subject           predicate              object
## 1 complex_example.xml      cito:documents         my-data.csv
## 2         my-data.csv cito:isDocumentedBy complex_example.xml</code></pre>
<p>Next we add our script in the same way.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="appendix.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add our script to the package</span></span>
<span id="cb261-2"><a href="appendix.html#cb261-2" aria-hidden="true" tabindex="-1"></a>scriptObj <span class="ot">&lt;-</span> <span class="fu">new</span>(<span class="st">&quot;DataObject&quot;</span>,</span>
<span id="cb261-3"><a href="appendix.html#cb261-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">id =</span> script_id,</span>
<span id="cb261-4"><a href="appendix.html#cb261-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">format =</span> <span class="st">&quot;application/R&quot;</span>,</span>
<span id="cb261-5"><a href="appendix.html#cb261-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">filename =</span> <span class="st">&quot;../files/datfiles_processing.R&quot;</span>)</span>
<span id="cb261-6"><a href="appendix.html#cb261-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-7"><a href="appendix.html#cb261-7" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">addMember</span>(dp, scriptObj, <span class="at">mo =</span> metadataObj)</span>
<span id="cb261-8"><a href="appendix.html#cb261-8" aria-hidden="true" tabindex="-1"></a>dp</span></code></pre></div>
<pre><code>## Members:
## 
## filename        format    mediaType  size     identifier         modified local 
## my-data.csv     text/csv  NA         45       urn:uui...34a4a4aa n        y     
## comple...le.xml eml...1.1 NA         5907     urn:uui...d0f7ffd1 n        y     
## datfil...sing.R app...n/R NA         5625     urn:uui...d7038ed9 n        y     
## 
## Package identifier: NA
## RightsHolder: NA
## 
## 
## Relationships (updated):
## 
##                 subject           predicate                object
## 1   complex_example.xml      cito:documents           my-data.csv
## 3   complex_example.xml      cito:documents datfiles_processing.R
## 4 datfiles_processing.R cito:isDocumentedBy   complex_example.xml
## 2           my-data.csv cito:isDocumentedBy   complex_example.xml</code></pre>
<p>You can also specify other information about the relationships between files in your data package by adding provenance information. Here, we specify that the R script (<code>program</code>) uses the csv (<code>sources</code>) by including them as the specified arguments in the <code>describeWorkflow</code> function.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="appendix.html#cb263-1" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">describeWorkflow</span>(dp, <span class="at">sources =</span> sourceObj, <span class="at">program =</span> scriptObj)</span>
<span id="cb263-2"><a href="appendix.html#cb263-2" aria-hidden="true" tabindex="-1"></a>dp</span></code></pre></div>
<pre><code>## Members:
## 
## filename        format    mediaType  size     identifier         modified local 
## my-data.csv     text/csv  NA         45       urn:uui...34a4a4aa n        y     
## comple...le.xml eml...1.1 NA         5907     urn:uui...d0f7ffd1 n        y     
## datfil...sing.R app...n/R NA         5625     urn:uui...d7038ed9 n        y     
## 
## Package identifier: NA
## RightsHolder: NA
## 
## 
## Relationships (updated):
## 
##                    subject               predicate                  object
## 9  _003ee8b9-...5bd5c156fc                rdf:type        prov:Association
## 8  _003ee8b9-...5bd5c156fc            prov:hadPlan   datfiles_processing.R
## 1      complex_example.xml          cito:documents             my-data.csv
## 3      complex_example.xml          cito:documents   datfiles_processing.R
## 4    datfiles_processing.R     cito:isDocumentedBy     complex_example.xml
## 10   datfiles_processing.R                rdf:type         provone:Program
## 2              my-data.csv     cito:isDocumentedBy     complex_example.xml
## 5              my-data.csv                rdf:type            provone:Data
## 11 urn:uuid:b...b42bba84f3      dcterms:identifier urn:uuid:b...b42bba84f3
## 7  urn:uuid:b...b42bba84f3                rdf:type       provone:Execution
## 6  urn:uuid:b...b42bba84f3 prov:quali...ssociation _003ee8b9-...5bd5c156fc
## 12 urn:uuid:b...b42bba84f3               prov:used             my-data.csv</code></pre>
<p>Each object in a data package has an access policy. There are three levels of access you can grant either to individual files, or the package as a whole.</p>
<ul>
<li>read: the ability to view when published</li>
<li>write: the ablity to edit after publishing</li>
<li>changePermission: the ability to grant other people read, write, or changePermission access</li>
</ul>
<p>Here, I give my colleague (via his ORCID) “read” and “write” permission to my entire data package using <code>addAccessRule</code>.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="appendix.html#cb265-1" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">addAccessRule</span>(dp,</span>
<span id="cb265-2"><a href="appendix.html#cb265-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">subject =</span> <span class="st">&quot;http://orcid.org/0000-0003-0077-4738&quot;</span>,</span>
<span id="cb265-3"><a href="appendix.html#cb265-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">permission =</span> <span class="fu">c</span>(<span class="st">&quot;read&quot;</span>,<span class="st">&quot;write&quot;</span>),</span>
<span id="cb265-4"><a href="appendix.html#cb265-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">getIdentifiers</span>(dp))</span></code></pre></div>
<p>Finally, we upload the package to the test server for the Arctic Data Center using <code>uploadDataPackage</code>. This function takes as arguments <code>d1c</code> (the DataONE client which specifies which coordinating and member nodes to use), <code>dp</code> (the data package itself), whether you want the package to include public read access (<code>public = TRUE</code>).</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="appendix.html#cb266-1" aria-hidden="true" tabindex="-1"></a>packageId <span class="ot">&lt;-</span> <span class="fu">uploadDataPackage</span>(d1c, dp, <span class="at">public =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>You can now search for and view the package at <a href="https://test.arcticdata.io" class="uri">https://test.arcticdata.io</a>:</p>
<p><img src="images/data-uploaded-simple.png" /></p>

<div id="refs" class="references csl-bib-body hanging-indent">
<div class="csl-entry">
Borer, Elizabeth, Eric Seabloom, Matthew B. Jones, and Mark Schildhauer. 2009. <span>“Some <span>Simple</span> <span>Guidelines</span> for <span>Effective</span> <span>Data</span> <span>Management</span>.”</span> <em>Bulletin of the Ecological Society of America</em> 90: 205–14. <a href="https://doi.org/10.1890/0012-9623-90.2.205">https://doi.org/10.1890/0012-9623-90.2.205</a>.
</div>
</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reproducibility-and-provenance.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
