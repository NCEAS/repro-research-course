<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Cleaning and Manipulating Data | Fundamentals in Data Management for Qualitative and Quantitative Arctic Research</title>
  <meta name="description" content="10 Cleaning and Manipulating Data | Fundamentals in Data Management for Qualitative and Quantitative Arctic Research" />
  <meta name="generator" content="bookdown 0.25.5 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Cleaning and Manipulating Data | Fundamentals in Data Management for Qualitative and Quantitative Arctic Research" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Cleaning and Manipulating Data | Fundamentals in Data Management for Qualitative and Quantitative Arctic Research" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-modeling-essentials.html"/>
<link rel="next" href="read-in-survey-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Fundamentals in Data Management for Qualitative and Quantitative Arctic Research</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about"><i class="fa fa-check"></i>About</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i>Code of Conduct</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html"><i class="fa fa-check"></i><b>1</b> Welcome and Introductions</a>
<ul>
<li class="chapter" data-level="1.1" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#introduction-to-the-arctic-data-center-and-nsf-standards-and-policies"><i class="fa fa-check"></i><b>1.1</b> Introduction to the Arctic Data Center and NSF Standards and Policies</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#learning-objectives"><i class="fa fa-check"></i><b>1.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.1.2" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#arctic-data-center---history-and-introduction"><i class="fa fa-check"></i><b>1.1.2</b> Arctic Data Center - History and Introduction</a></li>
<li class="chapter" data-level="1.1.3" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#data-discovery-portal"><i class="fa fa-check"></i><b>1.1.3</b> Data Discovery Portal</a></li>
<li class="chapter" data-level="1.1.4" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#tools-and-infrastructure"><i class="fa fa-check"></i><b>1.1.4</b> Tools and Infrastructure</a></li>
<li class="chapter" data-level="1.1.5" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#support-services"><i class="fa fa-check"></i><b>1.1.5</b> Support Services</a></li>
<li class="chapter" data-level="1.1.6" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#training-and-outreach"><i class="fa fa-check"></i><b>1.1.6</b> Training and Outreach</a></li>
<li class="chapter" data-level="1.1.7" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#data-rescue"><i class="fa fa-check"></i><b>1.1.7</b> Data Rescue</a></li>
<li class="chapter" data-level="1.1.8" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#who-must-submit"><i class="fa fa-check"></i><b>1.1.8</b> Who Must Submit</a></li>
<li class="chapter" data-level="1.1.9" data-path="welcome-and-introductions.html"><a href="welcome-and-introductions.html#summary"><i class="fa fa-check"></i><b>1.1.9</b> Summary</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-management-for-reproducible-research.html"><a href="data-management-for-reproducible-research.html"><i class="fa fa-check"></i><b>2</b> Data Management for Reproducible Research</a></li>
<li class="chapter" data-level="3" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html"><i class="fa fa-check"></i><b>3</b> Reproducible Research 101</a>
<ul>
<li class="chapter" data-level="3.1" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#introduction-to-reproducible-research"><i class="fa fa-check"></i><b>3.1</b> Introduction to Reproducible Research</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#what-is-research-reproducibility-and-how-does-it-relate-to-open-science"><i class="fa fa-check"></i><b>3.1.1</b> What is research reproducibility and how does it relate to open science?</a></li>
<li class="chapter" data-level="" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#why-is-reproducible-research-important"><i class="fa fa-check"></i>Why is reproducible research important?</a></li>
<li class="chapter" data-level="3.1.2" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#open-science-1"><i class="fa fa-check"></i><b>3.1.2</b> Open Science</a></li>
<li class="chapter" data-level="3.1.3" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#community-principles-care-and-fair"><i class="fa fa-check"></i><b>3.1.3</b> Community Principles: CARE and FAIR</a></li>
<li class="chapter" data-level="3.1.4" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#metadata-best-practices"><i class="fa fa-check"></i><b>3.1.4</b> Metadata Best Practices</a></li>
<li class="chapter" data-level="3.1.5" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#data-identifiers"><i class="fa fa-check"></i><b>3.1.5</b> Data Identifiers</a></li>
<li class="chapter" data-level="3.1.6" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#data-citation"><i class="fa fa-check"></i><b>3.1.6</b> Data Citation</a></li>
<li class="chapter" data-level="" data-path="reproducible-research-101.html"><a href="reproducible-research-101.html#open-science-reproducibilty-and-computational-provenance"><i class="fa fa-check"></i>Open Science, Reproducibilty and Computational Provenance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="writing-data-management-plans.html"><a href="writing-data-management-plans.html"><i class="fa fa-check"></i><b>4</b> Writing Data Management Plans</a></li>
<li class="chapter" data-level="5" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html"><i class="fa fa-check"></i><b>5</b> Writing Good Data Management Plans</a>
<ul>
<li class="chapter" data-level="5.1" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#learning-objectives-1"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#when-to-plan-the-data-life-cycle"><i class="fa fa-check"></i><b>5.2</b> When to Plan: The Data Life Cycle</a></li>
<li class="chapter" data-level="5.3" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#why-plan"><i class="fa fa-check"></i><b>5.3</b> Why Plan?</a></li>
<li class="chapter" data-level="5.4" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#how-to-plan"><i class="fa fa-check"></i><b>5.4</b> How to Plan</a></li>
<li class="chapter" data-level="5.5" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#what-to-include-in-a-dmp"><i class="fa fa-check"></i><b>5.5</b> What to include in a DMP</a></li>
<li class="chapter" data-level="5.6" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#nsf-dmp-requirements"><i class="fa fa-check"></i><b>5.6</b> NSF DMP requirements</a></li>
<li class="chapter" data-level="5.7" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#tools-in-support-of-creating-a-dmp"><i class="fa fa-check"></i><b>5.7</b> Tools in Support of Creating a DMP</a></li>
<li class="chapter" data-level="5.8" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#hands-on-creating-a-dmp"><i class="fa fa-check"></i><b>5.8</b> Hands-On: Creating a DMP</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>6</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#introduction-to-r-1"><i class="fa fa-check"></i><b>6.1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#learning-objectives-2"><i class="fa fa-check"></i><b>6.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#introduction-and-motivation"><i class="fa fa-check"></i><b>6.1.2</b> Introduction and Motivation</a></li>
<li class="chapter" data-level="6.1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-at-the-console"><i class="fa fa-check"></i><b>6.1.3</b> R at the console</a></li>
<li class="chapter" data-level="6.1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-functions-help-pages"><i class="fa fa-check"></i><b>6.1.4</b> R functions, help pages</a></li>
<li class="chapter" data-level="6.1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#using-data.frames"><i class="fa fa-check"></i><b>6.1.5</b> Using <code>data.frames</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html"><i class="fa fa-check"></i><b>7</b> Introduction to RMarkdown</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#literate-analysis-with-rmarkdown"><i class="fa fa-check"></i><b>7.1</b> Literate Analysis with RMarkdown</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#learning-objectives-3"><i class="fa fa-check"></i><b>7.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="7.1.2" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#introduction-and-motivation-1"><i class="fa fa-check"></i><b>7.1.2</b> Introduction and motivation</a></li>
<li class="chapter" data-level="7.1.3" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#basic-rmarkdown-syntax"><i class="fa fa-check"></i><b>7.1.3</b> Basic RMarkdown syntax</a></li>
<li class="chapter" data-level="7.1.4" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#code-chunks"><i class="fa fa-check"></i><b>7.1.4</b> Code chunks</a></li>
<li class="chapter" data-level="7.1.5" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#literate-analysis-practice"><i class="fa fa-check"></i><b>7.1.5</b> Literate analysis practice</a></li>
<li class="chapter" data-level="7.1.6" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#rmarkdown-and-environments"><i class="fa fa-check"></i><b>7.1.6</b> RMarkdown and environments</a></li>
<li class="chapter" data-level="7.1.7" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#go-further"><i class="fa fa-check"></i><b>7.1.7</b> Go Further</a></li>
<li class="chapter" data-level="7.1.8" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#resources-1"><i class="fa fa-check"></i><b>7.1.8</b> Resources</a></li>
<li class="chapter" data-level="7.1.9" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>7.1.9</b> Troubleshooting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html"><i class="fa fa-check"></i><b>8</b> Social aspects of collaboration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#thinking-preferences"><i class="fa fa-check"></i><b>8.1</b> Thinking preferences</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#learning-objectives-4"><i class="fa fa-check"></i><b>8.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="8.1.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#thinking-preferences-activity"><i class="fa fa-check"></i><b>8.1.2</b> Thinking Preferences Activity</a></li>
<li class="chapter" data-level="8.1.3" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#about-the-whole-brain-thinking-system"><i class="fa fa-check"></i><b>8.1.3</b> About the Whole Brain Thinking System</a></li>
<li class="chapter" data-level="8.1.4" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#bonus-activity-your-complex-self"><i class="fa fa-check"></i><b>8.1.4</b> Bonus Activity: Your Complex Self</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#open-data-ethics"><i class="fa fa-check"></i><b>8.2</b> Open Data Ethics</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#introduction"><i class="fa fa-check"></i><b>8.2.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2.2" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#equity-issues-in-open-science"><i class="fa fa-check"></i><b>8.2.2</b> Equity issues in open science</a></li>
<li class="chapter" data-level="8.2.3" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#social-science-and-open-data"><i class="fa fa-check"></i><b>8.2.3</b> Social science and open data</a></li>
<li class="chapter" data-level="8.2.4" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#open-and-other-data-challenges-for-indigenous-peoples"><i class="fa fa-check"></i><b>8.2.4</b> Open (and other) data challenges for Indigenous Peoples</a></li>
<li class="chapter" data-level="8.2.5" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#the-role-of-irbs-funding-agencies-and-indigenous-data"><i class="fa fa-check"></i><b>8.2.5</b> The role of IRBs, funding agencies, and Indigenous data</a></li>
<li class="chapter" data-level="8.2.6" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#indigenous-data-governance-and-sovereignty"><i class="fa fa-check"></i><b>8.2.6</b> Indigenous data governance and sovereignty</a></li>
<li class="chapter" data-level="8.2.7" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#ids-frameworks"><i class="fa fa-check"></i><b>8.2.7</b> IDS Frameworks</a></li>
<li class="chapter" data-level="8.2.8" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#discussion-questions"><i class="fa fa-check"></i><b>8.2.8</b> Discussion questions:</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="social-aspects-of-collaboration.html"><a href="social-aspects-of-collaboration.html#data-ethics-resources"><i class="fa fa-check"></i><b>8.3</b> Data Ethics Resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html"><i class="fa fa-check"></i><b>9</b> Data Modeling Essentials</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#tidy-data-part-1"><i class="fa fa-check"></i><b>9.1</b> Tidy Data: Part 1</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#learning-objectives-5"><i class="fa fa-check"></i><b>9.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.1.2" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#introduction-1"><i class="fa fa-check"></i><b>9.1.2</b> Introduction</a></li>
<li class="chapter" data-level="9.1.3" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#recognizing-untidy-data"><i class="fa fa-check"></i><b>9.1.3</b> Recognizing untidy data</a></li>
<li class="chapter" data-level="9.1.4" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#using-normalized-data"><i class="fa fa-check"></i><b>9.1.4</b> Using normalized data</a></li>
<li class="chapter" data-level="9.1.5" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#data-modeling-exercise"><i class="fa fa-check"></i><b>9.1.5</b> Data modeling exercise</a></li>
<li class="chapter" data-level="9.1.6" data-path="data-modeling-essentials.html"><a href="data-modeling-essentials.html#resources-3"><i class="fa fa-check"></i><b>9.1.6</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html"><i class="fa fa-check"></i><b>10</b> Cleaning and Manipulating Data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#data-cleaning-and-manipulation"><i class="fa fa-check"></i><b>10.1</b> Data Cleaning and Manipulation</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#learning-objectives-6"><i class="fa fa-check"></i><b>10.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.1.2" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#introduction-2"><i class="fa fa-check"></i><b>10.1.2</b> Introduction</a></li>
<li class="chapter" data-level="10.1.3" data-path="cleaning-and-manipulating-data.html"><a href="cleaning-and-manipulating-data.html#data-cleaning-basics"><i class="fa fa-check"></i><b>10.1.3</b> Data Cleaning Basics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="read-in-survey-data.html"><a href="read-in-survey-data.html"><i class="fa fa-check"></i><b>11</b> Read in survey data</a></li>
<li class="chapter" data-level="12" data-path="joins.html"><a href="joins.html"><i class="fa fa-check"></i><b>12</b> Joins</a></li>
<li class="chapter" data-level="13" data-path="human-subjects-research-considerations.html"><a href="human-subjects-research-considerations.html"><i class="fa fa-check"></i><b>13</b> Human Subjects Research Considerations</a></li>
<li class="chapter" data-level="14" data-path="data-portals.html"><a href="data-portals.html"><i class="fa fa-check"></i><b>14</b> Data Portals</a></li>
<li class="chapter" data-level="15" data-path="reproducible-survey-workflows.html"><a href="reproducible-survey-workflows.html"><i class="fa fa-check"></i><b>15</b> Reproducible Survey Workflows</a></li>
<li class="chapter" data-level="16" data-path="text-analysis-in-r.html"><a href="text-analysis-in-r.html"><i class="fa fa-check"></i><b>16</b> Text Analysis in R</a></li>
<li class="chapter" data-level="17" data-path="publishing-to-the-arctic-data-center.html"><a href="publishing-to-the-arctic-data-center.html"><i class="fa fa-check"></i><b>17</b> Publishing to the Arctic Data Center</a></li>
<li class="chapter" data-level="18" data-path="publishing-to-the-arctic-data-center-1.html"><a href="publishing-to-the-arctic-data-center-1.html"><i class="fa fa-check"></i><b>18</b> Publishing to the Arctic Data Center</a></li>
<li class="chapter" data-level="19" data-path="open-block.html"><a href="open-block.html"><i class="fa fa-check"></i><b>19</b> Open Block</a></li>
<li class="chapter" data-level="20" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html"><i class="fa fa-check"></i><b>20</b> Reproducibility and Provenance</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fundamentals in Data Management for Qualitative and Quantitative Arctic Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cleaning-and-manipulating-data" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">10</span> Cleaning and Manipulating Data<a href="cleaning-and-manipulating-data.html#cleaning-and-manipulating-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="data-cleaning-and-manipulation" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Data Cleaning and Manipulation<a href="cleaning-and-manipulating-data.html#data-cleaning-and-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="learning-objectives-6" class="section level3 hasAnchor" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Learning Objectives<a href="cleaning-and-manipulating-data.html#learning-objectives-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this lesson, you will learn:</p>
<ul>
<li>What the Split-Apply-Combine strategy is and how it applies to data</li>
<li>The difference between wide vs. tall table formats and how to convert between them</li>
<li>How to use <code>dplyr</code> and <code>tidyr</code> to clean and manipulate data for analysis</li>
<li>How to join multiple <code>data.frame</code>s together using <code>dplyr</code></li>
</ul>
</div>
<div id="introduction-2" class="section level3 hasAnchor" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> Introduction<a href="cleaning-and-manipulating-data.html#introduction-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The data we get to work with are rarely, if ever, in the format we need to do our analyses. It’s often the case that one package requires data in one format, while another package requires the data to be in another format. To be efficient analysts, we should have good tools for reformatting data for our needs so we can do our actual work like making plots and fitting models. The <code>dplyr</code> and <code>tidyr</code> R packages provide a fairly complete and extremely powerful set of functions for us to do this reformatting quickly and learning these tools well will greatly increase your efficiency as an analyst.</p>
<p>Analyses take many shapes, but they often conform to what is known as the Split-Apply-Combine strategy. This strategy follows a usual set of steps:</p>
<ul>
<li><strong>Split</strong>: Split the data into logical groups (e.g., area, stock, year)</li>
<li><strong>Apply:</strong> Calculate some summary statistic on each group (e.g. mean total length by year)</li>
<li><strong>Combine:</strong> Combine the groups back together into a single table</li>
</ul>
<div class="figure">
<img src="images/split-apply-combine-diagram.png" alt="" />
<p class="caption">Figure 1: diagram of the split apply combine strategy</p>
</div>
<p>As shown above (Figure 1), our original table is split into groups by <code>year</code>, we calculate the mean length for each group, and finally combine the per-year means into a single table.</p>
<p><code>dplyr</code> provides a fast and powerful way to express this.</p>
<p>Another exceedingly common thing we need to do is “reshape” our data. Let’s look at an example table that is in what we will call “wide” format:</p>
<table>
<thead>
<tr class="header">
<th>site</th>
<th>1990</th>
<th>1991</th>
<th>…</th>
<th>1993</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>gold</td>
<td>100</td>
<td>118</td>
<td>…</td>
<td>112</td>
</tr>
<tr class="even">
<td>lake</td>
<td>100</td>
<td>118</td>
<td>…</td>
<td>112</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="even">
<td>dredge</td>
<td>100</td>
<td>118</td>
<td>…</td>
<td>112</td>
</tr>
</tbody>
</table>
<p>You are probably quite familiar with data in the above format, where values of the variable being observed are spread out across columns (Here: columns for each year). Another way of describing this is that there is more than one measurement per row. This wide format works well for data entry and sometimes works well for analysis but we quickly outgrow it when using R. For example, how would you fit a model with year as a predictor variable? In an ideal world, we’d be able to just run:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="cleaning-and-manipulating-data.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(length <span class="sc">~</span> year)</span></code></pre></div>
<p>But this won’t work on our wide data because <code>lm</code> needs <code>length</code> and <code>year</code> to be columns in our table.</p>
<p>Or how would we make a separate plot for each year? We could call <code>plot</code> one time for each year but this is tedious if we have many years of data and hard to maintain as we add more years of data to our dataset.</p>
<p>The <code>tidyr</code> package allows us to quickly switch between wide format and what is called tall format using the <code>pivot_longer</code> function:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="cleaning-and-manipulating-data.html#cb66-1" aria-hidden="true" tabindex="-1"></a>site_data <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href="cleaning-and-manipulating-data.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>site, <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;length&quot;</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th>site</th>
<th>year</th>
<th align="right">length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>gold</td>
<td>1990</td>
<td align="right">101</td>
</tr>
<tr class="even">
<td>lake</td>
<td>1990</td>
<td align="right">104</td>
</tr>
<tr class="odd">
<td>dredge</td>
<td>1990</td>
<td align="right">144</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td align="right">…</td>
</tr>
<tr class="odd">
<td>dredge</td>
<td>1993</td>
<td align="right">145</td>
</tr>
</tbody>
</table>
<p>In this lesson we’re going to walk through the functions you’ll most commonly use from the <code>dplyr</code> and <code>tidyr</code> packages:</p>
<ul>
<li><p><code>dplyr</code></p>
<ul>
<li><code>mutate()</code></li>
<li><code>group_by()</code></li>
<li><code>summarise()</code></li>
<li><code>select()</code></li>
<li><code>filter()</code></li>
<li><code>arrange()</code></li>
<li><code>left_join()</code></li>
<li><code>rename()</code></li>
</ul></li>
<li><p><code>tidyr</code></p>
<ul>
<li><code>pivot_longer()</code></li>
<li><code>pivot_wider()</code></li>
<li><code>unite()</code></li>
<li><code>separate()</code></li>
</ul></li>
</ul>
</div>
<div id="data-cleaning-basics" class="section level3 hasAnchor" number="10.1.3">
<h3><span class="header-section-number">10.1.3</span> Data Cleaning Basics<a href="cleaning-and-manipulating-data.html#data-cleaning-basics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To demonstrate how to use these functions, we are going to be using a modified version of some real survey data we have gathered for feedback on our courses (like the one you are taking now!) I’ve made some changes to the original data, including removing references to instructor names, untidying the responses with controlled vocabularies, and scrambling the word order of the free text answers. These changes will help illustrate some of the common issues seen with survey data. They also help ensure that only general conclusions can be gathered from the free text responses, since scrambling the text inhibits our interpretative abilities.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-modeling-essentials.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="read-in-survey-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
