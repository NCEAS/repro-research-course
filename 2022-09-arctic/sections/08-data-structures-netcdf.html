<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Scalable and Computationally Reproducible Approaches to Arctic Research - 8&nbsp; Data Structures and Formats for Large Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../sections/09-parallel-with-dask.html" rel="next">
<link href="../sections/07-software-design-1.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data Structures and Formats for Large Data</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Course Materials</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://arcticdata.io" title="" class="sidebar-tool px-1"><i class="bi bi-house-door-fill"></i></a>
    <a href="https://twitter.com/arcticdatactr" title="" class="sidebar-tool px-1"><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/NCEAS/scalable-computing-course" title="" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/01-adc-intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Welcome and Introductions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/02-remote-computing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Remote Computing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/03-python-intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Python Programming on Clusters</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/04-parallel-programming.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Pleasingly Parallel Programming</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/05-adc-data-publishing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Documenting and Publishing Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/06-group-project-1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Group Project: Staging and Preprocessing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/07-software-design-1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Software Design I</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/08-data-structures-netcdf.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data Structures and Formats for Large Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/09-parallel-with-dask.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Parallelization with Dask</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/10-geopandas.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Spatial and Image Data Using GeoPandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/11-parquet-arrow.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Data Futures: Parquet and Arrow</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/12-software-design-2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Software Design II</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/13-group-project-2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Group Project: Data Processing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/14-data-ethics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Data Ethics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/15-google-earth-engine.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Google Earth Engine</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/17-group-project-3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Group Project: Visualization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/18-arctic-data-staging.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Workflows for data staging and publishing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/19-cloud-computing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">What is Cloud Computing Anyways?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/20-reproducibility-containers.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Reproducibility and Containers</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"> <span class="header-section-number">8.1</span> Introduction</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives"> <span class="header-section-number">8.2</span> Objectives</a></li>
  <li><a href="#netcdf-data-format" id="toc-netcdf-data-format" class="nav-link" data-scroll-target="#netcdf-data-format"> <span class="header-section-number">8.3</span> NetCDF data format</a>
  <ul class="collapse">
  <li><a href="#characteristics" id="toc-characteristics" class="nav-link" data-scroll-target="#characteristics"> <span class="header-section-number">8.3.1</span> Characteristics</a></li>
  <li><a href="#data-model" id="toc-data-model" class="nav-link" data-scroll-target="#data-model"> <span class="header-section-number">8.3.2</span> Data Model</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise"> <span class="header-section-number">8.3.3</span> Exercise</a></li>
  </ul></li>
  <li><a href="#xarray" id="toc-xarray" class="nav-link" data-scroll-target="#xarray"> <span class="header-section-number">8.4</span> <code>xarray</code></a>
  <ul class="collapse">
  <li><a href="#creating-an-xarray.dataarray" id="toc-creating-an-xarray.dataarray" class="nav-link" data-scroll-target="#creating-an-xarray.dataarray"> <span class="header-section-number">8.4.1</span> Creating an <code>xarray.DataArray</code></a></li>
  <li><a href="#indexing" id="toc-indexing" class="nav-link" data-scroll-target="#indexing"> <span class="header-section-number">8.4.2</span> Indexing</a></li>
  <li><a href="#reduction" id="toc-reduction" class="nav-link" data-scroll-target="#reduction"> <span class="header-section-number">8.4.3</span> Reduction</a></li>
  <li><a href="#creating-an-xarray.dataset" id="toc-creating-an-xarray.dataset" class="nav-link" data-scroll-target="#creating-an-xarray.dataset"> <span class="header-section-number">8.4.4</span> Creating an <code>xarray.DataSet</code></a></li>
  <li><a href="#save-and-reopen" id="toc-save-and-reopen" class="nav-link" data-scroll-target="#save-and-reopen"> <span class="header-section-number">8.4.5</span> Save and reopen</a></li>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1"> <span class="header-section-number">8.4.6</span> Exercise</a></li>
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3"> <span class="header-section-number">8.4.7</span> Exercise 3</a></li>
  </ul></li>
  <li><a href="#include-this---bryces-notes" id="toc-include-this---bryces-notes" class="nav-link" data-scroll-target="#include-this---bryces-notes"> <span class="header-section-number">8.5</span> INCLUDE THIS? - Bryce’s notes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data Structures and Formats for Large Data</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="introduction" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">8.1</span> Introduction</h2>
<p>Efficient and reproducible data analysis begins with choosing a proper format to store our data, particularly when working with large, complex, multi-dimensional datasets. Consider, for example, the following Earth System Data Cube from <a href="https://esd.copernicus.org/articles/11/201/2020/esd-11-201-2020.pdf">Mahecha et al.&nbsp;2020</a>, which measures nine environmental variables at high resolution across space and time. We can consider this dataset large (high-resolution means we have a big file), complex (multiple variables), and multi-dimensional (each variable is measured along three dimensions: latitude, longitude, and time). Additionally, necessary metadata must accompany the dataset to make it functional, such as units of measurement for variables, information about the authors, and processing software used.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/mahecha_data_cube.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Mahecha et al.&nbsp;2020 . <em>Visualization of the implemented Earth system data cube. The figure shows from the top left to bottom right the variables sensible heat (H ), latent heat (LE), gross primary production (GPP), surface moisture (SM), land surface temperature (LST), air temperature (Tair ), cloudiness (C ), precipitation (P ), and water vapour (V ). The resolution in space is 0.25◦ and 8 d in time, and we are inspecting the time from May 2008 to May 2010; the spatial range is from 15◦ S to 60◦ N, and 10◦ E to 65◦ W.</em></figcaption><p></p>
</figure>
</div>
<p>Keeping complex datasets in a format that facilitates access, processing, sharing, and archiving can be at least as important as how we parallelize the code we use to analyze them. In practice, it is common to convert our data from less efficient formats into more efficient ones before we parallelize any processing. In this lesson, we will familiarize ourselves with the NetCDF data format, which enables us to store large, complex, multi-dimensional data efficiently, and learn to use the <code>xarray</code> Python package to read, process, and create NetCDF files.</p>
</section>
<section id="objectives" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="objectives"><span class="header-section-number">8.2</span> Objectives</h2>
<ul>
<li>Learn about the NetCDF data format:
<ul>
<li>Characterstics: self-describing, scalable, portable, appendable, shareble, and archivable</li>
<li>Understand the NetCDF data model: what are dimensions, variables and attributes</li>
<li>Advantages of random/arbitrary access and how that applies to parallel computing</li>
</ul></li>
<li>Learn how to use the <code>xarray</code> Python package to work with NetCDF files:
<ul>
<li>Describe the core <code>xarray</code> data structures, the <code>xarray.DataArray</code> and the <code>xarray.Dataset</code>, and their components, including: <em>data variables</em>, <em>dimensions</em>, <em>coordinates</em>, and <em>attributes</em></li>
<li>Create <code>xarray.DataArrays</code> and <code>xarra.DataSets</code> out of raw <code>numpy</code> arrays and save them as netCDF files</li>
<li>Load <code>xarray</code> datasets from netCDF and understand the attributes view</li>
<li>Perform basic indexing, processing and reduction of <code>xarray.DataArrays</code></li>
</ul></li>
</ul>
</section>
<section id="netcdf-data-format" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="netcdf-data-format"><span class="header-section-number">8.3</span> NetCDF data format</h2>
<p><a href="https://docs.unidata.ucar.edu/netcdf-c/current/index.html">NetCDF</a> (network Common Data Form) is a set of software libraries and self-describing, machine-independent data formats that support the creation, access, and sharing of array-oriented scientific data. NetCDF is supported on almost all platforms, and parsers exist for the vast majority of scientific programming languages. The netCDF software was developed at the Unidata Program Center in Boulder, Colorado.</p>
<p>[REF: https://docs.unidata.ucar.edu/netcdf-c/current/faq.html#ncFAQGeneral]</p>
<section id="characteristics" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="characteristics"><span class="header-section-number">8.3.1</span> Characteristics</h3>
<p>TO DO: maybe add a 5 word discussion of each point</p>
<p>NetCDF files are designed to be:</p>
<ol type="1">
<li><p><strong>Self-describing:</strong> Information describing the data contents of the file are embedded within the data file itself. This means that there is a header which describes the layout of the rest of the file as well as arbitrary file metadata.</p></li>
<li><p><strong>Scalable:</strong> Small subsets of large datasets may be accessed efficiently through netCDF interfaces, even from remote servers.</p></li>
<li><p><strong>Portable:</strong> A NetCDF file is machine-independent i.e.&nbsp;it can be accessed by computers with different ways of storing integers, characters, and floating-point numbers.</p></li>
<li><p><strong>Appendable:</strong> Data may be appended to a properly structured NetCDF file without copying the dataset or redefining its structure.</p></li>
<li><p><strong>Sharable:</strong> One writer and multiple readers may simultaneously access the same NetCDF file.</p></li>
<li><p><strong>Archivable:</strong> Access to all earlier forms of NetCDF data will be supported by current and future versions of the software.</p></li>
</ol>
</section>
<section id="data-model" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="data-model"><span class="header-section-number">8.3.2</span> Data Model</h3>
<p>The NetCDF data model is the way that NetCDF organizes data. The <em>Classic NetCDF Data Model</em> consists of variables, dimensions, and attributes. This way of thinking about data was introduced with the very first NetCDF release, and is still the core of all netCDF files. There exists a new Enhanced Data Model, but for maximum interoperability with existing code, new data should be created with the Classic Model.</p>
<p>[REF https://docs.unidata.ucar.edu/netcdf-c/current/netcdf_data_model.html#classic_model]</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/netcdf_data_model.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Classic NetCDF Data Model (<a href="https://docs.unidata.ucar.edu/netcdf-c/current/netcdf_data_model.html#classic_model">NetCDF documentation</a>)</figcaption><p></p>
</figure>
</div>
<p><strong>Variables</strong> are N-dimensional arrays of data. Variables in netCDF files can be one of six types (char, byte, short, int, float, double). We can think of these as the varying/measured/dependent quantities.</p>
<p><strong>Dimensions</strong> describe the axes of the data arrays. A dimension has a name and a length. An unlimited dimension has a length that can be expanded at any time, as more data are written to it. NetCDF files can contain at most one unlimited dimension. We can think of these as the constant/fixed/independent quantities at which we measure the variables.</p>
<p><strong>Attributes</strong> are small notes or supplementary metadata to annotate either a variable or the file as a whole. Although there is no enforced limit, the user is expected to keep attributes small.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>The most commonly used metadata standard for geospatial data is the Climate and Forecast metadata standard, also called the <a href="https://cfconventions.org">CF conventions</a>. These standards are specifically designed to promote the processing and sharing of files created with the NetCDF API. Principles of CF include self-describing data (no external tables needed for understanding); metadata equally readable by humans and software; minimum redundancy and maximum simplicity.</em></p>
</div>
</div>
</section>
<section id="exercise" class="level3" data-number="8.3.3">
<h3 data-number="8.3.3" class="anchored" data-anchor-id="exercise"><span class="header-section-number">8.3.3</span> Exercise</h3>
<p>[TO DO: check exercise setup]</p>
<p>Imagine the following scenario: we have a a network of 25 weather stations. They are located in a square grid: starting at 30°0′N 60°0′E, there is a station every 10° North and every 10° East. Each station measures the air temperature at a set time for three days, starting on September 1st, 2022. The first day all stations record a temperature of 0°C, the second day all temperatures are 1°C, and the third day all temperatures are 3°C. What are the <em>variables</em>, <em>dimensions</em> and <em>attributes</em> for this data? A simple diagram of how we can visualize the data can be very useful:</p>
<p>[TO DO: make diagram]</p>
<p><strong>Variables</strong>: There is a single variable being measured: temperature. The variable values can be represented as a 3x5x5 array, with constant values for each day as seen in the diagram.</p>
<p><strong>Dimensions</strong>: There are three dimensions in this dataset: time, latitude, and longitude. Time is measured in days and can have values 1, 2 or 3, assuming we have a reference time of September 1, 2022. The combinations of latitude and longitude values indicate the positions of the weather stations and. Latitude has values ****, longitude has values ****.</p>
<p><strong>Attributes</strong>: Let’s divide this in attributes for the variable, the dimensions and the whole dataset:</p>
<ul>
<li>Temperature attributes:
<ul>
<li>units: degrees Celsius</li>
</ul></li>
<li>Time attributes:
<ul>
<li>units: “days since 1990-1-1 0:0:0”</li>
</ul></li>
<li>latitude attributes:
<ul>
<li>units: degrees north</li>
</ul></li>
<li>longitude attributes:
<ul>
<li>units: degrees east</li>
</ul></li>
<li>Dataset attributes:
<ul>
<li>title: temperature at weather stations</li>
<li>contact: Carmen GG</li>
<li>comment: an example of NetCDF data format</li>
</ul></li>
</ul>
<p>Our next step is to see how we can translate all this information into something we can store and handle in our computer.</p>
</section>
</section>
<section id="xarray" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="xarray"><span class="header-section-number">8.4</span> <code>xarray</code></h2>
<p>https://docs.xarray.dev/en/stable/getting-started-guide/why-xarray.html https://docs.xarray.dev/en/stable/getting-started-guide/faq.html</p>
<p>Multi-dimensional arrays or ND arrays are frequently encountered in geosciences. Consider, for example, how many variables can be measured with respect to space-time dimensions, making those datasets three or even four-dimensional (for instance, if we use latitude, longitude, height/depth, and time). In Python, the <a href="https://numpy.org"><code>NumPy</code></a> package provides the fundamental data structure and API for working with raw ND arrays. However, real-world datasets are usually more than just raw numbers; they have labels that encode information about how the array values correspond to locations in space, time, etc. <a href="https://docs.xarray.dev/en/stable/index.html"><code>xarray</code></a> is an answer to this necessity: an <code>xarray.DataArray</code> has labeled dimensions (e.g.&nbsp;“time”, “latitude”) that can be directly referenced for processing. It is easier to keep track of a dimension labeled “time” than to remember that time is the n-th dimension of the array. Moreover, <code>xarray</code> is based on the netCDF data model, making it the appropriate tool to open, process and create datasets in netCDF format.</p>
<section id="creating-an-xarray.dataarray" class="level3" data-number="8.4.1">
<h3 data-number="8.4.1" class="anchored" data-anchor-id="creating-an-xarray.dataarray"><span class="header-section-number">8.4.1</span> Creating an <code>xarray.DataArray</code></h3>
<p>An <code>xarray.DataArray</code> is an N-dimensional array with labeled coordinates and dimensions. It is the primary data structure of the <code>xarray</code> package. We can think of it as representing a single variable in the NetCDF data format: it holds the variable’s values, dimensions, and attributes. Additionally, each dimension has at least one set of <em>coordinates</em>, which indicate the values the dimension takes. <em>In the usual one-dimensional case, the coordinate array’s values can loosely be thought of as tick labels along a dimension.</em> [https://docs.xarray.dev/en/stable/user-guide/terminology.html]</p>
<p>As our first example, let’s suppose we want to make an <code>xarray.DataArray</code> that includes all the information from our previous exercise about measuring temperature across three days. First we import all our necessary libraries.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os              </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xarray <span class="im">as</span> xr   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The underlying data in the <code>xarray.DataArray</code> is a <code>numpy.ndarray</code> that holds the variable values. So we can start by making a <code>numpy.ndarray</code> with our mock temperature data:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># values of a single variable at each point of the coords </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>temp_data <span class="op">=</span> np.array([np.zeros((<span class="dv">5</span>,<span class="dv">5</span>)), </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                      np.ones((<span class="dv">5</span>,<span class="dv">5</span>)), </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                      np.ones((<span class="dv">5</span>,<span class="dv">5</span>))<span class="op">*</span><span class="dv">2</span>]).astype(<span class="bu">int</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>temp_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>array([[[0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]],

       [[1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1]],

       [[2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2]]])</code></pre>
</div>
</div>
<p>Next, we add information about the dimensions over which the variable is being measured and some attributes to create the <code>xarray.DataArray</code>:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># names of the dimensions</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>dims <span class="op">=</span> (<span class="st">'day'</span>, <span class="st">'lat'</span>, <span class="st">'lon'</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># coordinates (tick labels) to use for indexing along each dimension </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>coords <span class="op">=</span> {<span class="st">'day'</span> : [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">'lat'</span> : np.arange(<span class="dv">10</span>,<span class="dv">60</span>,<span class="dv">10</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">'lon'</span> : np.arange(<span class="dv">30</span>,<span class="dv">80</span>,<span class="dv">10</span>)}  </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># attributes (metadata) of the data array </span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>attrs <span class="op">=</span> { <span class="st">'title'</span> : <span class="st">'temperature data across weather stations'</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>          <span class="st">'units'</span> : <span class="st">'degrees C'</span>}</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize xarray.DataArray</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> xr.DataArray(data <span class="op">=</span> temp_data, </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                    dims <span class="op">=</span> dims,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                    coords <span class="op">=</span> coords,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                    attrs <span class="op">=</span> attrs)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>temp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray (day: 3, lat: 5, lon: 5)&gt;
array([[[0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]],

       [[1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1]],

       [[2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2]]])
Coordinates:
  * day      (day) int64 1 2 3
  * lat      (lat) int64 10 20 30 40 50
  * lon      (lon) int64 30 40 50 60 70
Attributes:
    title:    temperature data across weather stations
    units:    degrees C</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name"></div><ul class="xr-dim-list"><li><span class="xr-has-index">day</span>: 3</li><li><span class="xr-has-index">lat</span>: 5</li><li><span class="xr-has-index">lon</span>: 5</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-2c269baa-1d45-4a00-9732-adaee1b67a2a" class="xr-array-in" type="checkbox" checked=""><label for="section-2c269baa-1d45-4a00-9732-adaee1b67a2a" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span></div><div class="xr-array-data"><pre>array([[[0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]],

       [[1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1]],

       [[2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2]]])</pre></div></div></li><li class="xr-section-item"><input id="section-c561aa85-74cd-456f-aa86-c4e5358741a0" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-c561aa85-74cd-456f-aa86-c4e5358741a0" class="xr-section-summary">Coordinates: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">day</span></div><div class="xr-var-dims">(day)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">1 2 3</div><input id="attrs-e4c6352e-7faf-42db-857f-3c89a54557b8" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e4c6352e-7faf-42db-857f-3c89a54557b8" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-eb00ee5c-6c8f-4b7d-a718-b7393ec77d32" class="xr-var-data-in" type="checkbox"><label for="data-eb00ee5c-6c8f-4b7d-a718-b7393ec77d32" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lat</span></div><div class="xr-var-dims">(lat)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">10 20 30 40 50</div><input id="attrs-6dd52424-9b3f-4b0d-bc5f-4b59915abc2a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-6dd52424-9b3f-4b0d-bc5f-4b59915abc2a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-84f2f971-6065-4718-acbb-e4cc422e0c95" class="xr-var-data-in" type="checkbox"><label for="data-84f2f971-6065-4718-acbb-e4cc422e0c95" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([10, 20, 30, 40, 50])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lon</span></div><div class="xr-var-dims">(lon)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">30 40 50 60 70</div><input id="attrs-7ffb2f19-128a-46f3-ad2c-c3dc8f9c2ab1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7ffb2f19-128a-46f3-ad2c-c3dc8f9c2ab1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-38dff8b8-8286-44cf-bb15-a3ac886b780b" class="xr-var-data-in" type="checkbox"><label for="data-38dff8b8-8286-44cf-bb15-a3ac886b780b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([30, 40, 50, 60, 70])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-65eaed9f-f5ae-4651-87b3-c2d49bfdc4a0" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-65eaed9f-f5ae-4651-87b3-c2d49bfdc4a0" class="xr-section-summary">Attributes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>title :</span></dt><dd>temperature data across weather stations</dd><dt><span>units :</span></dt><dd>degrees C</dd></dl></div></li></ul></div></div>
</div>
</div>
<p>We can also update the variable’s attributes after creating the object. Notice too that each of the coordinates is also an <code>xarray.DataArray</code>, so we can add attributes to them.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># update attributes</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>temp.attrs[<span class="st">'description'</span>] <span class="op">=</span> <span class="st">'a small example of an xarray.DataArray'</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># add attributes to coordinates </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>temp.day.attrs <span class="op">=</span> {<span class="st">'standard_name'</span>:<span class="st">'day of collection'</span>}</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>temp.lat.attrs[<span class="st">'standard_name'</span>]<span class="op">=</span> <span class="st">'latitude'</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>temp.lat.attrs[<span class="st">'units'</span>] <span class="op">=</span> <span class="st">'degrees_north'</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>temp.lon.attrs[<span class="st">'standard_name'</span>]<span class="op">=</span> <span class="st">'longitude'</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>temp.lon.attrs[<span class="st">'units'</span>] <span class="op">=</span> <span class="st">'degrees_east'</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>temp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray (day: 3, lat: 5, lon: 5)&gt;
array([[[0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]],

       [[1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1]],

       [[2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2]]])
Coordinates:
  * day      (day) int64 1 2 3
  * lat      (lat) int64 10 20 30 40 50
  * lon      (lon) int64 30 40 50 60 70
Attributes:
    title:        temperature data across weather stations
    units:        degrees C
    description:  a small example of an xarray.DataArray</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name"></div><ul class="xr-dim-list"><li><span class="xr-has-index">day</span>: 3</li><li><span class="xr-has-index">lat</span>: 5</li><li><span class="xr-has-index">lon</span>: 5</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-3d79c0be-f34f-4e5c-a614-e21fd23bc72b" class="xr-array-in" type="checkbox" checked=""><label for="section-3d79c0be-f34f-4e5c-a614-e21fd23bc72b" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span></div><div class="xr-array-data"><pre>array([[[0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]],

       [[1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1]],

       [[2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2]]])</pre></div></div></li><li class="xr-section-item"><input id="section-3f0f4b4c-4cb9-41b3-b372-c0109c908584" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-3f0f4b4c-4cb9-41b3-b372-c0109c908584" class="xr-section-summary">Coordinates: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">day</span></div><div class="xr-var-dims">(day)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">1 2 3</div><input id="attrs-207f2235-1982-4236-93fc-958463e73f37" class="xr-var-attrs-in" type="checkbox"><label for="attrs-207f2235-1982-4236-93fc-958463e73f37" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-1bc64fb9-3bc7-4296-ad18-3fb1b3f22332" class="xr-var-data-in" type="checkbox"><label for="data-1bc64fb9-3bc7-4296-ad18-3fb1b3f22332" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>day of collection</dd></dl></div><div class="xr-var-data"><pre>array([1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lat</span></div><div class="xr-var-dims">(lat)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">10 20 30 40 50</div><input id="attrs-db6625e8-03b3-451a-b502-6ff92a5c2806" class="xr-var-attrs-in" type="checkbox"><label for="attrs-db6625e8-03b3-451a-b502-6ff92a5c2806" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-6e405ab5-5087-43fe-b109-c4940bf8b7ab" class="xr-var-data-in" type="checkbox"><label for="data-6e405ab5-5087-43fe-b109-c4940bf8b7ab" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class="xr-var-data"><pre>array([10, 20, 30, 40, 50])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lon</span></div><div class="xr-var-dims">(lon)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">30 40 50 60 70</div><input id="attrs-232ea073-067e-4861-a183-017cc9c018b3" class="xr-var-attrs-in" type="checkbox"><label for="attrs-232ea073-067e-4861-a183-017cc9c018b3" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b9d0569d-96f3-4ca5-8c03-4e49a2ce0684" class="xr-var-data-in" type="checkbox"><label for="data-b9d0569d-96f3-4ca5-8c03-4e49a2ce0684" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class="xr-var-data"><pre>array([30, 40, 50, 60, 70])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-51096253-fa47-4388-a48c-5eb79d70fcb8" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-51096253-fa47-4388-a48c-5eb79d70fcb8" class="xr-section-summary">Attributes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>title :</span></dt><dd>temperature data across weather stations</dd><dt><span>units :</span></dt><dd>degrees C</dd><dt><span>description :</span></dt><dd>a small example of an xarray.DataArray</dd></dl></div></li></ul></div></div>
</div>
</div>
<p>At this point, since we have a single variable, the dataset attributes and the variable attributes are the same.</p>
</section>
<section id="indexing" class="level3" data-number="8.4.2">
<h3 data-number="8.4.2" class="anchored" data-anchor-id="indexing"><span class="header-section-number">8.4.2</span> Indexing</h3>
</section>
<section id="reduction" class="level3" data-number="8.4.3">
<h3 data-number="8.4.3" class="anchored" data-anchor-id="reduction"><span class="header-section-number">8.4.3</span> Reduction</h3>
<p><code>xarray</code> has implemented a number of methods to reduce an <code>xarray.DataArray</code> along any number of dimensions. For example, we can calculate the average temperature at each subplot over time and obtain a new <code>xarray.DataArray</code>. One of the advantages of <code>xarray.DataArray</code> is that, if we chose to, it can carry over attributes when doing calculations.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>avg_temp <span class="op">=</span> temp.mean(dim <span class="op">=</span> <span class="st">'day'</span>) <span class="co"># to keep attributes add keep_attrs = True</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>avg_temp.attrs <span class="op">=</span> {<span class="st">'title'</span>:<span class="st">'average temperature over three days'</span>}</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>avg_temp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray (lat: 5, lon: 5)&gt;
array([[1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.]])
Coordinates:
  * lat      (lat) int64 10 20 30 40 50
  * lon      (lon) int64 30 40 50 60 70
Attributes:
    title:    average temperature over three days</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name"></div><ul class="xr-dim-list"><li><span class="xr-has-index">lat</span>: 5</li><li><span class="xr-has-index">lon</span>: 5</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-c6ab3b35-0a10-4324-a8bb-735e2f0661ab" class="xr-array-in" type="checkbox" checked=""><label for="section-c6ab3b35-0a10-4324-a8bb-735e2f0661ab" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 ... 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0</span></div><div class="xr-array-data"><pre>array([[1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.]])</pre></div></div></li><li class="xr-section-item"><input id="section-4209ab8a-d17f-496b-ba81-ab0cb43c00ba" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-4209ab8a-d17f-496b-ba81-ab0cb43c00ba" class="xr-section-summary">Coordinates: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lat</span></div><div class="xr-var-dims">(lat)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">10 20 30 40 50</div><input id="attrs-8d71b65c-72a0-4e4a-b600-519281dafd32" class="xr-var-attrs-in" type="checkbox"><label for="attrs-8d71b65c-72a0-4e4a-b600-519281dafd32" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a588114c-c882-4f65-8501-35e9b60ce0db" class="xr-var-data-in" type="checkbox"><label for="data-a588114c-c882-4f65-8501-35e9b60ce0db" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class="xr-var-data"><pre>array([10, 20, 30, 40, 50])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lon</span></div><div class="xr-var-dims">(lon)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">30 40 50 60 70</div><input id="attrs-1232c86e-14e3-4f58-be67-0ad93cafde2b" class="xr-var-attrs-in" type="checkbox"><label for="attrs-1232c86e-14e3-4f58-be67-0ad93cafde2b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c3b4eac7-1519-4f6c-97e6-6712a298f24b" class="xr-var-data-in" type="checkbox"><label for="data-c3b4eac7-1519-4f6c-97e6-6712a298f24b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class="xr-var-data"><pre>array([30, 40, 50, 60, 70])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-863c326f-7995-4da4-8553-6cfd08a7b869" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-863c326f-7995-4da4-8553-6cfd08a7b869" class="xr-section-summary">Attributes: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>title :</span></dt><dd>average temperature over three days</dd></dl></div></li></ul></div></div>
</div>
</div>
</section>
<section id="creating-an-xarray.dataset" class="level3" data-number="8.4.4">
<h3 data-number="8.4.4" class="anchored" data-anchor-id="creating-an-xarray.dataset"><span class="header-section-number">8.4.4</span> Creating an <code>xarray.DataSet</code></h3>
<p>A dataset resembles an in-memory representation of a NetCDF file, and consists of multiple variables, with coordinates and attributes, which together form a self describing dataset.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>temp_dataset <span class="op">=</span> xr.Dataset( data_vars <span class="op">=</span> {<span class="st">'avg_temp'</span>: avg_temp,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'temp'</span>: temp},</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                        attrs <span class="op">=</span> {<span class="st">'creator_name'</span>:<span class="st">'Carmen GG'</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">'title'</span>:<span class="st">'temperature data'</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">'description'</span>:<span class="st">'a simple example of an xarray.Dataset'</span>})</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>temp_dataset</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt;
Dimensions:   (lat: 5, lon: 5, day: 3)
Coordinates:
  * lat       (lat) int64 10 20 30 40 50
  * lon       (lon) int64 30 40 50 60 70
  * day       (day) int64 1 2 3
Data variables:
    avg_temp  (lat, lon) float64 1.0 1.0 1.0 1.0 1.0 1.0 ... 1.0 1.0 1.0 1.0 1.0
    temp      (day, lat, lon) int64 0 0 0 0 0 0 0 0 0 0 ... 2 2 2 2 2 2 2 2 2 2
Attributes:
    creator_name:  Carmen GG
    title:         temperature data
    description:   a simple example of an xarray.Dataset</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-69ed06ea-aa62-48fd-b422-e3294f61c18f" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-69ed06ea-aa62-48fd-b422-e3294f61c18f" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">lat</span>: 5</li><li><span class="xr-has-index">lon</span>: 5</li><li><span class="xr-has-index">day</span>: 3</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-7ae2eff2-9de2-4982-8f67-1f56226ab014" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-7ae2eff2-9de2-4982-8f67-1f56226ab014" class="xr-section-summary">Coordinates: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lat</span></div><div class="xr-var-dims">(lat)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">10 20 30 40 50</div><input id="attrs-17b0a8d1-2cb9-45fd-8be6-80954e44e846" class="xr-var-attrs-in" type="checkbox"><label for="attrs-17b0a8d1-2cb9-45fd-8be6-80954e44e846" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c8f5ace4-6634-4ac7-be7c-9916a3729f80" class="xr-var-data-in" type="checkbox"><label for="data-c8f5ace4-6634-4ac7-be7c-9916a3729f80" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class="xr-var-data"><pre>array([10, 20, 30, 40, 50])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lon</span></div><div class="xr-var-dims">(lon)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">30 40 50 60 70</div><input id="attrs-1427a1cb-ec5c-4764-baa2-fdad0e4b4382" class="xr-var-attrs-in" type="checkbox"><label for="attrs-1427a1cb-ec5c-4764-baa2-fdad0e4b4382" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b2b59b1a-9499-4666-8c8e-9e2148dc7786" class="xr-var-data-in" type="checkbox"><label for="data-b2b59b1a-9499-4666-8c8e-9e2148dc7786" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class="xr-var-data"><pre>array([30, 40, 50, 60, 70])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">day</span></div><div class="xr-var-dims">(day)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">1 2 3</div><input id="attrs-6c796c80-b00f-4ab2-a2fe-e554b71adc41" class="xr-var-attrs-in" type="checkbox"><label for="attrs-6c796c80-b00f-4ab2-a2fe-e554b71adc41" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-aa6a5596-da3f-47e6-aff0-43e09ffe49f5" class="xr-var-data-in" type="checkbox"><label for="data-aa6a5596-da3f-47e6-aff0-43e09ffe49f5" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>day of collection</dd></dl></div><div class="xr-var-data"><pre>array([1, 2, 3])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-8d066d2d-d8dd-47b8-9fc5-d50946bc420e" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-8d066d2d-d8dd-47b8-9fc5-d50946bc420e" class="xr-section-summary">Data variables: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>avg_temp</span></div><div class="xr-var-dims">(lat, lon)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.0 1.0 1.0 1.0 ... 1.0 1.0 1.0 1.0</div><input id="attrs-61df0cf2-2d91-4275-a8e7-7ef9452bd4f9" class="xr-var-attrs-in" type="checkbox"><label for="attrs-61df0cf2-2d91-4275-a8e7-7ef9452bd4f9" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-1b1a0d91-3c77-4e28-8483-416b07298e13" class="xr-var-data-in" type="checkbox"><label for="data-1b1a0d91-3c77-4e28-8483-416b07298e13" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>title :</span></dt><dd>average temperature over three days</dd></dl></div><div class="xr-var-data"><pre>array([[1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>temp</span></div><div class="xr-var-dims">(day, lat, lon)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 0 0 0 0 0 0 0 ... 2 2 2 2 2 2 2 2</div><input id="attrs-9872b57b-b066-4e8e-8f36-008a2b90e1ab" class="xr-var-attrs-in" type="checkbox"><label for="attrs-9872b57b-b066-4e8e-8f36-008a2b90e1ab" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-03ba42b4-d5c0-4adb-b4b7-e581213b8c75" class="xr-var-data-in" type="checkbox"><label for="data-03ba42b4-d5c0-4adb-b4b7-e581213b8c75" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>title :</span></dt><dd>temperature data across weather stations</dd><dt><span>units :</span></dt><dd>degrees C</dd><dt><span>description :</span></dt><dd>a small example of an xarray.DataArray</dd></dl></div><div class="xr-var-data"><pre>array([[[0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]],

       [[1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1]],

       [[2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2]]])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-2acd04c7-cb11-4e29-973c-ead7cac0bd43" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-2acd04c7-cb11-4e29-973c-ead7cac0bd43" class="xr-section-summary">Attributes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>creator_name :</span></dt><dd>Carmen GG</dd><dt><span>title :</span></dt><dd>temperature data</dd><dt><span>description :</span></dt><dd>a simple example of an xarray.Dataset</dd></dl></div></li></ul></div></div>
</div>
</div>
</section>
<section id="save-and-reopen" class="level3" data-number="8.4.5">
<h3 data-number="8.4.5" class="anchored" data-anchor-id="save-and-reopen"><span class="header-section-number">8.4.5</span> Save and reopen</h3>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fp <span class="op">=</span> os.path.join(os.getcwd(),<span class="st">'temp_dataset.nc'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>temp_dataset.to_netcdf(fp)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># open to check:</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>check <span class="op">=</span> xr.open_dataset(fp)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>check</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt;
Dimensions:   (lat: 5, lon: 5, day: 3)
Coordinates:
  * lat       (lat) int64 10 20 30 40 50
  * lon       (lon) int64 30 40 50 60 70
  * day       (day) int64 1 2 3
Data variables:
    avg_temp  (lat, lon) float64 1.0 1.0 1.0 1.0 1.0 1.0 ... 1.0 1.0 1.0 1.0 1.0
    temp      (day, lat, lon) int64 0 0 0 0 0 0 0 0 0 0 ... 2 2 2 2 2 2 2 2 2 2
Attributes:
    creator_name:  Carmen GG
    title:         temperature data
    description:   a simple example of an xarray.Dataset</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-1996a43e-1619-4312-884f-cfbc257439ba" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-1996a43e-1619-4312-884f-cfbc257439ba" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">lat</span>: 5</li><li><span class="xr-has-index">lon</span>: 5</li><li><span class="xr-has-index">day</span>: 3</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-2746205f-f216-4b3e-9127-b335a6e88972" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-2746205f-f216-4b3e-9127-b335a6e88972" class="xr-section-summary">Coordinates: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lat</span></div><div class="xr-var-dims">(lat)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">10 20 30 40 50</div><input id="attrs-5af0bfe8-f6ba-4e69-accf-abf9b90760c1" class="xr-var-attrs-in" type="checkbox"><label for="attrs-5af0bfe8-f6ba-4e69-accf-abf9b90760c1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0f0eb652-c548-4e86-b81a-94b593abbcd7" class="xr-var-data-in" type="checkbox"><label for="data-0f0eb652-c548-4e86-b81a-94b593abbcd7" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class="xr-var-data"><pre>array([10, 20, 30, 40, 50])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">lon</span></div><div class="xr-var-dims">(lon)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">30 40 50 60 70</div><input id="attrs-5e7982c8-39f7-4b9b-a82a-c114e3fc0e07" class="xr-var-attrs-in" type="checkbox"><label for="attrs-5e7982c8-39f7-4b9b-a82a-c114e3fc0e07" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-878c6352-91e3-406e-9ae8-8403c17c8b91" class="xr-var-data-in" type="checkbox"><label for="data-878c6352-91e3-406e-9ae8-8403c17c8b91" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class="xr-var-data"><pre>array([30, 40, 50, 60, 70])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">day</span></div><div class="xr-var-dims">(day)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">1 2 3</div><input id="attrs-eea1b5de-02d7-4680-baef-5dab2226ce58" class="xr-var-attrs-in" type="checkbox"><label for="attrs-eea1b5de-02d7-4680-baef-5dab2226ce58" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-824bf794-2f94-4808-aa26-61c835bedbdf" class="xr-var-data-in" type="checkbox"><label for="data-824bf794-2f94-4808-aa26-61c835bedbdf" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>standard_name :</span></dt><dd>day of collection</dd></dl></div><div class="xr-var-data"><pre>array([1, 2, 3])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-07e1f6e0-e302-49b2-9692-83ab9706fc7d" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-07e1f6e0-e302-49b2-9692-83ab9706fc7d" class="xr-section-summary">Data variables: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>avg_temp</span></div><div class="xr-var-dims">(lat, lon)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-56ab9b6a-4081-4bc3-ad46-56ed5d879e0e" class="xr-var-attrs-in" type="checkbox"><label for="attrs-56ab9b6a-4081-4bc3-ad46-56ed5d879e0e" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5978221f-41a4-40bb-af09-03b4d1fa5fc9" class="xr-var-data-in" type="checkbox"><label for="data-5978221f-41a4-40bb-af09-03b4d1fa5fc9" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>title :</span></dt><dd>average temperature over three days</dd></dl></div><div class="xr-var-data"><pre>array([[1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>temp</span></div><div class="xr-var-dims">(day, lat, lon)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-329c8eae-26fc-4dbb-8dcc-bb48168bc02a" class="xr-var-attrs-in" type="checkbox"><label for="attrs-329c8eae-26fc-4dbb-8dcc-bb48168bc02a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d7dc1f82-9ef8-4d3c-97df-b691dd6a1f02" class="xr-var-data-in" type="checkbox"><label for="data-d7dc1f82-9ef8-4d3c-97df-b691dd6a1f02" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>title :</span></dt><dd>temperature data across weather stations</dd><dt><span>units :</span></dt><dd>degrees C</dd><dt><span>description :</span></dt><dd>a small example of an xarray.DataArray</dd></dl></div><div class="xr-var-data"><pre>array([[[0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]],

       [[1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1]],

       [[2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2],
        [2, 2, 2, 2, 2]]])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-de28d851-b8be-4cf4-963b-5b32e2b90135" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-de28d851-b8be-4cf4-963b-5b32e2b90135" class="xr-section-summary">Attributes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>creator_name :</span></dt><dd>Carmen GG</dd><dt><span>title :</span></dt><dd>temperature data</dd><dt><span>description :</span></dt><dd>a simple example of an xarray.Dataset</dd></dl></div></li></ul></div></div>
</div>
</div>
</section>
<section id="exercise-1" class="level3" data-number="8.4.6">
<h3 data-number="8.4.6" class="anchored" data-anchor-id="exercise-1"><span class="header-section-number">8.4.6</span> Exercise</h3>
<p>https://arcticdata.io/catalog/view/doi%3A10.18739%2FA2280504J</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">'https://arcticdata.io/metacat/d1/mn/v2/object/urn%3Auuid%3A792bfc37-416e-409e-80b1-fdef8ab60033'</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">open</span>(<span class="st">"FW_data_CESM_LW_2006_2100.nc"</span>, <span class="st">"wb"</span>).write(response.content)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>208086</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fp <span class="op">=</span> os.path.join(os.getcwd(),<span class="st">'FW_data_CESM_LW_2006_2100.nc'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>fw_data <span class="op">=</span> xr.open_dataset(fp)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>fw_data</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#netPrec_annual</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt;
Dimensions:                          (time: 95, member: 11)
Coordinates:
  * time                             (time) float64 2.006e+03 ... 2.1e+03
  * member                           (member) float64 1.0 2.0 3.0 ... 10.0 11.0
Data variables: (12/16)
    FW_flux_Fram_annual_net          (time, member) float64 -1.26e+03 ... -2....
    FW_flux_Barrow_annual_net        (time, member) float64 -600.7 ... -537.2
    FW_flux_Nares_annual_net         (time, member) float64 -1.805e+03 ... -2...
    FW_flux_Davis_annual_net         (time, member) float64 -2.313e+03 ... -3...
    FW_flux_BSO_annual_net           (time, member) float64 -859.2 ... -993.2
    FW_flux_Bering_annual_net        (time, member) float64 2.351e+03 ... 3.1...
    ...                               ...
    Solid_FW_flux_BSO_annual_net     (time, member) float64 -26.77 ... -35.43
    Solid_FW_flux_Bering_annual_net  (time, member) float64 56.3 86.62 ... 22.87
    runoff_annual                    (time, member) float64 3.39e+03 ... 3.97...
    netPrec_annual                   (time, member) float64 2.019e+03 ... 2.1...
    Liquid_FW_storage_Arctic_annual  (time, member) float64 8.125e+04 ... 9.7...
    Solid_FW_storage_Arctic_annual   (time, member) float64 1.828e+04 ... 7.6...
Attributes:
    creation_date:   02-Jun-2020 15:38:31
    author:          Alexandra Jahn, CU Boulder, alexandra.jahn@colorado.edu
    title:           Annual timeseries of freshwater data from the CESM Low W...
    description:     Annual mean Freshwater (FW) fluxes and storage relative ...
    data_structure:  The data structure is |Ensemble member | Time (in years)...</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-45e1e5a5-161a-459b-9d32-7826f47b87a8" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-45e1e5a5-161a-459b-9d32-7826f47b87a8" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">time</span>: 95</li><li><span class="xr-has-index">member</span>: 11</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-33e3b5b6-6818-4760-b905-b4f8d3a87eeb" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-33e3b5b6-6818-4760-b905-b4f8d3a87eeb" class="xr-section-summary">Coordinates: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">time</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.006e+03 2.007e+03 ... 2.1e+03</div><input id="attrs-388f012c-0802-4861-b257-5020ed4bda8a" class="xr-var-attrs-in" type="checkbox"><label for="attrs-388f012c-0802-4861-b257-5020ed4bda8a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-725c9da1-20f4-4859-9e41-62c4ff96472a" class="xr-var-data-in" type="checkbox"><label for="data-725c9da1-20f4-4859-9e41-62c4ff96472a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>long_name :</span></dt><dd>time in years, 1920-2100</dd></dl></div><div class="xr-var-data"><pre>array([2006., 2007., 2008., 2009., 2010., 2011., 2012., 2013., 2014., 2015.,
       2016., 2017., 2018., 2019., 2020., 2021., 2022., 2023., 2024., 2025.,
       2026., 2027., 2028., 2029., 2030., 2031., 2032., 2033., 2034., 2035.,
       2036., 2037., 2038., 2039., 2040., 2041., 2042., 2043., 2044., 2045.,
       2046., 2047., 2048., 2049., 2050., 2051., 2052., 2053., 2054., 2055.,
       2056., 2057., 2058., 2059., 2060., 2061., 2062., 2063., 2064., 2065.,
       2066., 2067., 2068., 2069., 2070., 2071., 2072., 2073., 2074., 2075.,
       2076., 2077., 2078., 2079., 2080., 2081., 2082., 2083., 2084., 2085.,
       2086., 2087., 2088., 2089., 2090., 2091., 2092., 2093., 2094., 2095.,
       2096., 2097., 2098., 2099., 2100.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">member</span></div><div class="xr-var-dims">(member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.0 2.0 3.0 4.0 ... 9.0 10.0 11.0</div><input id="attrs-92feaf77-9ef3-44de-9624-6461e25b3f60" class="xr-var-attrs-in" type="checkbox"><label for="attrs-92feaf77-9ef3-44de-9624-6461e25b3f60" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e9fa3c2f-5721-4759-8952-3422bb33e767" class="xr-var-data-in" type="checkbox"><label for="data-e9fa3c2f-5721-4759-8952-3422bb33e767" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>long_name :</span></dt><dd>Ensemble member, 1-11</dd></dl></div><div class="xr-var-data"><pre>array([ 1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11.])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-dcd57c50-a60f-4a68-b68b-59d5cc2f1af5" class="xr-section-summary-in" type="checkbox"><label for="section-dcd57c50-a60f-4a68-b68b-59d5cc2f1af5" class="xr-section-summary">Data variables: <span>(16)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>FW_flux_Fram_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-13fb6786-61cf-43d0-8188-879e5679bd87" class="xr-var-attrs-in" type="checkbox"><label for="attrs-13fb6786-61cf-43d0-8188-879e5679bd87" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-6521d696-c6dd-4bd6-b849-a9e73e04d73f" class="xr-var-data-in" type="checkbox"><label for="data-6521d696-c6dd-4bd6-b849-a9e73e04d73f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net liquid FW flux through Fram Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-1259.970567, -1264.007662, -1043.912842, ..., -1127.209397,
        -1094.937548, -1068.404606],
       [-1211.286894, -1479.531102, -1018.166211, ..., -1243.711036,
        -1267.207286, -1114.552581],
       [-1280.228564, -1385.553358,  -880.902707, ..., -1289.849198,
        -1050.289977, -1041.592238],
       ...,
       [-1994.723559, -2192.810731, -1867.436333, ..., -1801.993229,
        -2151.202886, -2616.74365 ],
       [-2312.975878, -1882.595866, -1626.129161, ..., -2050.419246,
        -2007.994165, -2369.86382 ],
       [-1869.903721, -1941.767155, -1944.454371, ..., -1797.444957,
        -2291.658043, -2133.186992]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>FW_flux_Barrow_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-970e662f-2c4e-4741-9c6b-1a567eef1d2a" class="xr-var-attrs-in" type="checkbox"><label for="attrs-970e662f-2c4e-4741-9c6b-1a567eef1d2a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-1199b834-3a14-46cd-b391-638c58a8b61d" class="xr-var-data-in" type="checkbox"><label for="data-1199b834-3a14-46cd-b391-638c58a8b61d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net liquid FW flux through Barrow Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-600.656931, -591.794563, -623.46547 , ..., -530.954288, -557.466782,
        -540.397683],
       [-545.381073, -651.15272 , -647.759741, ..., -554.62912 , -614.254495,
        -681.241813],
       [-676.367103, -597.249584, -526.308636, ..., -458.975897, -539.056379,
        -600.418649],
       ...,
       [-495.781816, -343.416049, -572.034808, ..., -547.660529, -503.001068,
        -575.476408],
       [-508.571693, -385.524045, -505.368339, ..., -560.393935, -432.867012,
        -501.710328],
       [-478.525844, -380.776262, -525.255738, ..., -418.526205, -514.73683 ,
        -537.165685]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>FW_flux_Nares_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-5c675bd8-cfac-4d74-bd28-d458a691cd46" class="xr-var-attrs-in" type="checkbox"><label for="attrs-5c675bd8-cfac-4d74-bd28-d458a691cd46" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b84c2c6e-2003-42d4-aebd-5bbf097f82a9" class="xr-var-data-in" type="checkbox"><label for="data-b84c2c6e-2003-42d4-aebd-5bbf097f82a9" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net liquid FW flux through Nares Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-1805.094645, -1750.974399, -1736.428853, ..., -1790.293088,
        -1630.279788, -1698.111863],
       [-1661.738712, -1906.896808, -1756.856956, ..., -1846.616134,
        -1754.973196, -1978.856594],
       [-1956.029601, -1729.47722 , -1506.906015, ..., -1742.673838,
        -1613.488436, -1857.85344 ],
       ...,
       [-2835.663916, -2685.863919, -3123.0961  , ..., -2930.78795 ,
        -3075.907956, -2954.079147],
       [-2767.255034, -2435.987932, -2852.725589, ..., -3132.779162,
        -2879.811506, -2758.960293],
       [-2801.006622, -2418.965807, -2907.765449, ..., -2699.143264,
        -3153.186248, -2825.880317]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>FW_flux_Davis_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-edea0dca-62ce-48a8-b438-e337ce115b54" class="xr-var-attrs-in" type="checkbox"><label for="attrs-edea0dca-62ce-48a8-b438-e337ce115b54" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-478c24ea-f8d8-40d7-8ba9-992acf7d0436" class="xr-var-data-in" type="checkbox"><label for="data-478c24ea-f8d8-40d7-8ba9-992acf7d0436" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net liquid FW flux through Davis Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-2312.903562, -2206.193327, -2513.938315, ..., -2452.741479,
        -2178.565682, -2496.419307],
       [-2442.875007, -2302.612039, -2550.956543, ..., -2594.189567,
        -2411.537129, -2491.906155],
       [-2380.667757, -2460.765939, -2355.580677, ..., -2566.93496 ,
        -2292.468786, -2443.485248],
       ...,
       [-3222.803208, -3277.824803, -3791.472809, ..., -3864.113295,
        -3704.395263, -3775.769167],
       [-3091.625499, -3293.624915, -3857.535966, ..., -3733.405415,
        -3404.497911, -3538.640386],
       [-3657.58114 , -3137.665787, -3346.385689, ..., -3778.231506,
        -3182.004745, -3294.19718 ]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>FW_flux_BSO_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-b7292988-399f-44ca-a605-2881bcde867c" class="xr-var-attrs-in" type="checkbox"><label for="attrs-b7292988-399f-44ca-a605-2881bcde867c" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0540fbaa-51d1-4393-85a9-f548457d19f4" class="xr-var-data-in" type="checkbox"><label for="data-0540fbaa-51d1-4393-85a9-f548457d19f4" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net liquid FW flux through the Barents Sea Opening, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[ -859.243059,  -942.211781,  -723.703298, ..., -1036.046746,
        -1055.237416,  -736.846205],
       [ -878.919322,  -862.165165,  -760.842132, ...,  -981.459231,
        -1017.759096,  -719.537064],
       [ -867.125354,  -771.0794  ,  -883.947051, ...,  -823.744405,
        -1084.024653,  -832.384503],
       ...,
       [-1201.528063,  -956.321947,  -989.990348, ...,  -928.170124,
        -1522.813339, -1333.944058],
       [-1175.496328,  -992.809814, -1042.238636, ..., -1027.30427 ,
        -1012.655464, -1161.633369],
       [-1108.045221, -1149.213528,  -974.059705, ...,  -944.651881,
        -1351.228427,  -993.196776]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>FW_flux_Bering_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-e87ce45f-09e0-409a-bcc6-fb8a11397b83" class="xr-var-attrs-in" type="checkbox"><label for="attrs-e87ce45f-09e0-409a-bcc6-fb8a11397b83" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3168e67f-c369-4c32-ab82-8f1a9eab97ac" class="xr-var-data-in" type="checkbox"><label for="data-3168e67f-c369-4c32-ab82-8f1a9eab97ac" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net liquid FW flux through Bering Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[2351.369668, 2345.677436, 2046.439566, ..., 2298.623674, 2036.719667,
        1907.280919],
       [2481.513182, 2178.085803, 2490.061059, ..., 2760.976043, 2139.010713,
        2320.373448],
       [2514.857782, 2488.589714, 2864.883346, ..., 2666.687224, 2805.529561,
        1831.068287],
       ...,
       [2212.93228 , 2305.747855, 3165.795471, ..., 2682.178162, 2137.858094,
        2769.764568],
       [2402.817047, 2871.272846, 2241.49669 , ..., 2899.779166, 2921.583788,
        3124.232717],
       [2553.009217, 2738.646198, 2402.378728, ..., 2832.505199, 2564.175895,
        3110.720966]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Solid_FW_flux_Fram_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-ad8a4221-5346-499c-a744-ca8927f0bf29" class="xr-var-attrs-in" type="checkbox"><label for="attrs-ad8a4221-5346-499c-a744-ca8927f0bf29" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-fb661b77-1e73-4fca-b1d9-592c74662892" class="xr-var-data-in" type="checkbox"><label for="data-fb661b77-1e73-4fca-b1d9-592c74662892" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net Solid (ice+snow) FW flux through Fram Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-2355.201527, -3079.918585, -1900.235976, ..., -2379.143692,
        -2263.860412, -1740.013499],
       [-2072.011081, -2483.281102, -2397.287222, ..., -2044.468084,
        -2757.085258, -2187.036132],
       [-2495.74312 , -1468.060247, -2391.734318, ..., -2991.861612,
        -2881.262317, -2262.942851],
       ...,
       [ -989.394195, -1285.473222,  -763.780509, ...,  -657.173252,
         -940.635132, -2216.186576],
       [-1176.377381,  -715.543546,  -763.626743, ...,  -876.188872,
         -550.202924, -1673.306079],
       [ -842.80755 , -1236.592837,  -685.109519, ...,  -585.170298,
        -1213.069558, -1393.501459]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Solid_FW_flux_Barrow_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-6ac34903-cc09-486e-ba41-a4baff30151e" class="xr-var-attrs-in" type="checkbox"><label for="attrs-6ac34903-cc09-486e-ba41-a4baff30151e" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ac8fe5d4-0aed-4759-b84a-c6ee1c0f914d" class="xr-var-data-in" type="checkbox"><label for="data-ac8fe5d4-0aed-4759-b84a-c6ee1c0f914d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net Solid (ice+snow) FW flux through Barrow Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[ -5.907839, -11.016486,   2.898278, ...,  -6.772   ,  -2.346885,
         -4.972206],
       [ -5.405102, -12.325443,  -2.837828, ...,  -1.54938 ,  -1.524433,
         -3.239178],
       [-13.615343,  -3.321843,   3.297263, ...,  17.846225,  -8.849867,
         -1.40733 ],
       ...,
       [ -4.252253,  -4.74888 ,  -2.318929, ...,  -0.692743,  -3.516814,
         -7.24111 ],
       [ -2.473455,  -2.43267 ,  -4.119768, ...,  -3.041222,  -0.642326,
         -3.151623],
       [ -4.023888,  -4.630743,  -6.034809, ...,  -3.946639,  -2.759937,
         -3.67783 ]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Solid_FW_flux_Nares_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-e887f40d-c972-4233-a5a6-2e636f86fcdb" class="xr-var-attrs-in" type="checkbox"><label for="attrs-e887f40d-c972-4233-a5a6-2e636f86fcdb" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-082b8131-5c0c-493b-a384-93912f61b924" class="xr-var-data-in" type="checkbox"><label for="data-082b8131-5c0c-493b-a384-93912f61b924" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net Solid (ice+snow) FW flux through Nares Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-443.523805, -369.69004 , -319.816739, ..., -359.434137, -331.597514,
        -351.161639],
       [-402.060722, -365.66951 , -455.727733, ..., -359.163976, -398.079664,
        -312.769165],
       [-309.118123, -407.329009, -518.392379, ..., -380.334965, -392.379044,
        -384.005149],
       ...,
       [-322.681791, -285.266534, -360.379804, ..., -249.28949 , -291.504876,
        -301.008009],
       [-214.401449, -252.253729, -303.416623, ..., -295.322261, -282.239789,
        -357.222407],
       [-361.437905, -301.694338, -259.185245, ..., -248.62952 , -255.963657,
        -396.696598]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Solid_FW_flux_Davis_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-b53e3e35-96c7-4976-975b-0d87acd2be72" class="xr-var-attrs-in" type="checkbox"><label for="attrs-b53e3e35-96c7-4976-975b-0d87acd2be72" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8e913df6-361a-48b5-bfa2-ffe15cddebc0" class="xr-var-data-in" type="checkbox"><label for="data-8e913df6-361a-48b5-bfa2-ffe15cddebc0" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net Solid (ice+snow) FW flux through Davis Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-647.548166, -690.769077, -803.010762, ..., -637.388108, -669.678922,
        -636.923716],
       [-738.654959, -712.727442, -787.469841, ..., -741.271782, -734.0404  ,
        -652.683568],
       [-607.804625, -582.211375, -735.954593, ..., -633.625357, -651.638696,
        -628.742061],
       ...,
       [-547.210914, -467.312263, -533.798556, ..., -565.575028, -573.092124,
        -579.833192],
       [-381.382969, -369.539971, -560.781192, ..., -423.884627, -600.9458  ,
        -596.006766],
       [-544.597115, -384.419366, -492.503528, ..., -482.520345, -479.724188,
        -568.860609]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Solid_FW_flux_BSO_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-b8493c85-6ea4-4b10-be4a-eca34f378009" class="xr-var-attrs-in" type="checkbox"><label for="attrs-b8493c85-6ea4-4b10-be4a-eca34f378009" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0beca8dd-1e3e-4533-bb0a-830ea6758d9e" class="xr-var-data-in" type="checkbox"><label for="data-0beca8dd-1e3e-4533-bb0a-830ea6758d9e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net Solid (ice+snow) FW flux through the Barents Sea Opening, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[-2.677222e+01, -2.198672e+02, -7.108708e+01, ..., -8.265375e+00,
        -7.027574e+01, -2.478501e-01],
       [-1.119710e+00, -1.611613e+01, -9.113674e+01, ..., -7.502441e+01,
        -4.567288e+01, -8.217717e+01],
       [-1.862617e+01, -4.320776e+00, -1.400749e+02, ..., -1.114686e+01,
        -2.599572e+02, -2.824174e+01],
       ...,
       [-2.107002e+01, -1.972472e+01, -1.322291e+00, ..., -1.250803e+01,
         0.000000e+00, -8.715960e+00],
       [-1.129319e-01, -3.020100e+00, -9.972180e+00, ..., -6.321711e+00,
        -1.357067e-01, -5.525681e-01],
       [-1.324610e-02, -1.583726e+01, -2.125017e-01, ..., -2.465729e+00,
        -3.163840e-01, -3.543094e+01]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Solid_FW_flux_Bering_annual_net</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-44b1eb35-a637-4ead-8340-d239021d7092" class="xr-var-attrs-in" type="checkbox"><label for="attrs-44b1eb35-a637-4ead-8340-d239021d7092" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-71ad552f-24d6-4b53-8711-fe1b62e52b47" class="xr-var-data-in" type="checkbox"><label for="data-71ad552f-24d6-4b53-8711-fe1b62e52b47" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net Solid (ice+snow) FW flux through Bering Strait, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[ 56.300783,  86.619422,  21.629406, ...,  45.369409, 120.205643,
          6.023335],
       [ 52.854622,  68.339477, 139.181478, ...,  79.513795,  82.273825,
        216.946026],
       [ 64.470058,  16.432358,  33.79051 , ...,  36.5111  ,  51.494807,
        -83.580959],
       ...,
       [ 58.127421,  22.637266,  79.579919, ...,  48.221805,  29.201449,
        146.166502],
       [ 46.223662,  44.331598,   9.747562, ...,  44.638335,  63.846993,
         49.628882],
       [  4.125923,  26.376146,  44.08245 , ...,  35.386517, 144.93525 ,
         22.865989]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>runoff_annual</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-bb5a5153-e4c5-4a06-8dc3-9c2c17ddefa2" class="xr-var-attrs-in" type="checkbox"><label for="attrs-bb5a5153-e4c5-4a06-8dc3-9c2c17ddefa2" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-31309a0e-e43c-4097-8f2f-8bb0b482d6e6" class="xr-var-data-in" type="checkbox"><label for="data-31309a0e-e43c-4097-8f2f-8bb0b482d6e6" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>FW flux from river runoff into the Arctic Ocean domain, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[3389.793118, 3653.250059, 3255.904314, ..., 3484.324351, 3762.057224,
        3233.230548],
       [2991.152992, 3493.827835, 3384.707049, ..., 3571.643922, 3489.125416,
        3641.709685],
       [3534.397219, 3128.514068, 3354.798516, ..., 3304.537755, 3539.266607,
        3084.447612],
       ...,
       [3665.258107, 3551.863606, 3809.485292, ..., 3493.525529, 3663.667382,
        4321.328755],
       [3743.83261 , 3378.368684, 3672.490382, ..., 3739.293615, 3739.029349,
        3973.012085],
       [3552.160713, 3480.78009 , 3710.884772, ..., 3580.675064, 4001.506981,
        3973.911416]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>netPrec_annual</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-345f7d1b-bf86-4ead-9736-1becbebd2ee9" class="xr-var-attrs-in" type="checkbox"><label for="attrs-345f7d1b-bf86-4ead-9736-1becbebd2ee9" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-cd8193d8-bfb9-4a5a-9498-07e602e9e153" class="xr-var-data-in" type="checkbox"><label for="data-cd8193d8-bfb9-4a5a-9498-07e602e9e153" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3/yr</dd><dt><span>long_name :</span></dt><dd>Net FW flux from precipitation minus evaporation over the Arctic Ocean domain, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[2019.436111, 2208.638737, 1936.136054, ..., 2049.989982, 1959.873063,
        1750.749748],
       [1945.582104, 2039.416637, 2085.04094 , ..., 1870.845855, 1965.883031,
        2057.552438],
       [2032.998228, 2047.057141, 1904.70621 , ..., 1894.083722, 1825.828287,
        2026.627389],
       ...,
       [1858.080937, 1946.276296, 2100.604079, ..., 1994.116693, 2114.804976,
        2423.484939],
       [1915.662721, 1961.74668 , 1920.628415, ..., 1993.625762, 1744.708491,
        2245.915281],
       [1767.588737, 1904.765559, 1953.973994, ..., 1760.192971, 2384.175174,
        2118.712754]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Liquid_FW_storage_Arctic_annual</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-69793c58-c84c-4730-8650-d154b2f01cc5" class="xr-var-attrs-in" type="checkbox"><label for="attrs-69793c58-c84c-4730-8650-d154b2f01cc5" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-4f5e3c17-4231-4b94-8a74-e94d6111b694" class="xr-var-data-in" type="checkbox"><label for="data-4f5e3c17-4231-4b94-8a74-e94d6111b694" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3</dd><dt><span>long_name :</span></dt><dd>FW storage in the Arctic Ocean domain, , relative to 34.8. Ignoring any negative FW (water above reference salinity)</dd></dl></div><div class="xr-var-data"><pre>array([[ 81250.414556,  85443.803218,  80863.782256, ...,  86120.03671 ,
         81999.322618,  87066.701325],
       [ 82567.489008,  85437.534745,  81016.233259, ...,  86801.295397,
         81720.408045,  85405.906043],
       [ 83435.689171,  84300.641386,  81701.536079, ...,  88202.733212,
         82363.689791,  84802.874562],
       ...,
       [ 99179.037787, 100587.947588,  99713.659894, ..., 105329.776774,
        101183.194676,  96731.099064],
       [ 99022.701221, 100071.990872, 100428.151173, ..., 106023.385394,
        101243.934883,  97353.008726],
       [ 99884.660244, 101526.449779, 100904.197851, ..., 106283.670855,
        101106.948969,  97309.828159]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Solid_FW_storage_Arctic_annual</span></div><div class="xr-var-dims">(time, member)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">...</div><input id="attrs-39cc02f1-c221-4511-aa40-8629545ce7d1" class="xr-var-attrs-in" type="checkbox"><label for="attrs-39cc02f1-c221-4511-aa40-8629545ce7d1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-09099c77-d09e-4cdf-bceb-7d7bcd4ade41" class="xr-var-data-in" type="checkbox"><label for="data-09099c77-d09e-4cdf-bceb-7d7bcd4ade41" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>units :</span></dt><dd>km3</dd><dt><span>long_name :</span></dt><dd>FW storage in sea ice and snow in the Arctic Ocean domain, relative to 34.8</dd></dl></div><div class="xr-var-data"><pre>array([[18283.302344, 16436.957815, 18942.480543, ..., 19105.369531,
        17193.142364, 16026.957959],
       [17228.15868 , 16184.248407, 19493.271233, ..., 18736.727461,
        17731.125586, 18033.048197],
       [16582.390706, 17113.875851, 19081.541068, ..., 18073.074623,
        16677.630513, 18713.913839],
       ...,
       [ 8286.152773,  7618.147979,  7159.460183, ...,  7615.242652,
         7314.728945,  8332.238818],
       [ 7925.266   ,  8366.732533,  7583.306716, ...,  7247.856691,
         6969.390301,  7445.873087],
       [ 6850.743786,  7492.329279,  7275.546906, ...,  7656.442802,
         7476.367423,  7656.280716]])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-ce9156c1-69d8-4d8c-9d6e-b198ec76c628" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-ce9156c1-69d8-4d8c-9d6e-b198ec76c628" class="xr-section-summary">Attributes: <span>(5)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>creation_date :</span></dt><dd>02-Jun-2020 15:38:31</dd><dt><span>author :</span></dt><dd>Alexandra Jahn, CU Boulder, alexandra.jahn@colorado.edu</dd><dt><span>title :</span></dt><dd>Annual timeseries of freshwater data from the CESM Low Warming Ensemble</dd><dt><span>description :</span></dt><dd>Annual mean Freshwater (FW) fluxes and storage relative to 34.8 shown in Jahn and Laiho, GRL, 2020, calculated from the 11-member Community Earth System Model (CESM) Low Warming Ensemble output (Sanderson et al., 2017, Earth Syst. Dynam., 8, 827-847. doi: 10.5194/esd-8-827-2017). These 11 ensemble members were branched from the first 11 ensemble members of the CESM Large Ensemble (companion data file) at the end of 2005. Convention for the fluxes is that positive fluxes signify a source of FW to the Arctic and negative fluxes are a sink/export of FW for the Arctic. FW fluxes are the net fluxes through a strait over the full ocean depth, adding up any positive and negative fluxes. Liquid FW storage is calculated over the full depth of the ocean but ignoring any negative FW (resulting from salinties over 34.8). Solid FW storage includes FW stored in sea ice and FW stored in snow on sea ice. Surface fluxes and FW storage is calculated over the Arctic domain bounded by Barrow Strait, Nares Strait, Bering Strait, Fram Strait, and the Barents Sea Opeing (BSO). Davis Strait fluxes are included for reference only and are outside of the Arctic domain. A map showing the domain and the location of the straits can be found in Jahn and Laiho, GRL, 2020.</dd><dt><span>data_structure :</span></dt><dd>The data structure is |Ensemble member | Time (in years)|. All data are annual means. The data covers 2006-2100. There are 11 ensemble members.</dd></dl></div></li></ul></div></div>
</div>
</div>
</section>
<section id="exercise-3" class="level3" data-number="8.4.7">
<h3 data-number="8.4.7" class="anchored" data-anchor-id="exercise-3"><span class="header-section-number">8.4.7</span> Exercise 3</h3>
<p>https://arcticdata.io/catalog/view/doi:10.18739/A26T0GX63</p>
</section>
</section>
<section id="include-this---bryces-notes" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="include-this---bryces-notes"><span class="header-section-number">8.5</span> INCLUDE THIS? - Bryce’s notes</h2>
<ul>
<li>Look into parallel access and NetCDF and whether all wheels can take advantage of the built-in parallel access</li>
<li>Data Organization / File Naming?</li>
<li>Using hierarchical folder structures
<ul>
<li>Encoding hierarchy into filenames</li>
<li>File naming for natural ordering (principle of most sig. fist)</li>
<li>Setting things up for Dask multi-file support</li>
</ul></li>
<li>Understand the advantages of random and parallel formats such as NetCDF</li>
<li>Talk about NetCDF and its role in data archival</li>
<li>Is it a good archival format: Yes! Better than CSV in many (not all) ways. The format is open and well-documented, support for the reading the format is ubiquitous, it’s efficient w/ disk space (compared to CSV), it supports remote querying (unlike CSV).</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../sections/07-software-design-1.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Software Design I</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../sections/09-parallel-with-dask.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Parallelization with Dask</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>