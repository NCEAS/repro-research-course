<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>UCSB Faculty Seminar Series: Grow Your Data &amp; Team Science Skills - 5&nbsp; Writing Data Management Plans</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./session_06.html" rel="next">
<link href="./session_04.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session_05.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Writing Data Management Plans</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Writing Data Management Plans</span></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Training Materials</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.nceas.ucsb.edu/learning-hub" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-door-fill"></i></a>
    <a href="https://twitter.com/ucsb_nceas" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/NCEAS/nceas-training/tree/2023-08-usgs" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar Series Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Synthesis Research Generation &amp; Iteration</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Team Science for Synthesis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Intro to R Programming</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Management Essentials and the FAIR &amp; CARE Principles</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_05.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Writing Data Management Plans</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Intro to Literate Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Intro to Tidy Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Accessing &amp; Finding Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Intro to <code>Git</code> and GitHub</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Cleaning &amp; Wrangling Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Collaborating using <code>Git</code> &amp; GitHub</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Appendix</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#the-big-idea" id="toc-the-big-idea" class="nav-link" data-scroll-target="#the-big-idea"><span class="header-section-number">5.1</span> The Big Idea</a></li>
  <li><a href="#split-your-research-project-into-meaningful-steps-using-the-data-life-cycle" id="toc-split-your-research-project-into-meaningful-steps-using-the-data-life-cycle" class="nav-link" data-scroll-target="#split-your-research-project-into-meaningful-steps-using-the-data-life-cycle"><span class="header-section-number">5.2</span> Split your research project into meaningful steps using the Data Life Cycle</a>
  <ul class="collapse">
  <li><a href="#the-data-life-cycle" id="toc-the-data-life-cycle" class="nav-link" data-scroll-target="#the-data-life-cycle"><span class="header-section-number">5.2.1</span> The Data Life Cycle</a></li>
  </ul></li>
  <li><a href="#document-your-project-using-a-dmp" id="toc-document-your-project-using-a-dmp" class="nav-link" data-scroll-target="#document-your-project-using-a-dmp"><span class="header-section-number">5.3</span> Document your project using a DMP</a>
  <ul class="collapse">
  <li><a href="#writing-dmps" id="toc-writing-dmps" class="nav-link" data-scroll-target="#writing-dmps"><span class="header-section-number">5.3.1</span> Writing DMPs</a></li>
  <li><a href="#how-to-plan" id="toc-how-to-plan" class="nav-link" data-scroll-target="#how-to-plan"><span class="header-section-number">5.3.2</span> How to Plan</a></li>
  <li><a href="#what-to-include-in-a-dmp" id="toc-what-to-include-in-a-dmp" class="nav-link" data-scroll-target="#what-to-include-in-a-dmp"><span class="header-section-number">5.3.3</span> What to include in a DMP</a></li>
  </ul></li>
  <li><a href="#iterate-iterate-iterate" id="toc-iterate-iterate-iterate" class="nav-link" data-scroll-target="#iterate-iterate-iterate"><span class="header-section-number">5.4</span> Iterate, iterate, iterate</a></li>
  <li><a href="#deep-dive-into-metadata-publishing-data" id="toc-deep-dive-into-metadata-publishing-data" class="nav-link" data-scroll-target="#deep-dive-into-metadata-publishing-data"><span class="header-section-number">5.5</span> Deep dive into Metadata &amp; Publishing Data</a>
  <ul class="collapse">
  <li><a href="#metadata-best-practices" id="toc-metadata-best-practices" class="nav-link" data-scroll-target="#metadata-best-practices"><span class="header-section-number">5.5.1</span> Metadata Best Practices</a></li>
  <li><a href="#publishing-data" id="toc-publishing-data" class="nav-link" data-scroll-target="#publishing-data"><span class="header-section-number">5.5.2</span> Publishing Data</a></li>
  </ul></li>
  <li><a href="#exercise-evaluate-a-data-package-on-the-knb-repository" id="toc-exercise-evaluate-a-data-package-on-the-knb-repository" class="nav-link" data-scroll-target="#exercise-evaluate-a-data-package-on-the-knb-repository"><span class="header-section-number">5.6</span> Exercise: Evaluate a Data Package on the KNB Repository</a></li>
  <li><a href="#bonus-investigate-metadata-and-data-documentation-in-other-data-repositories" id="toc-bonus-investigate-metadata-and-data-documentation-in-other-data-repositories" class="nav-link" data-scroll-target="#bonus-investigate-metadata-and-data-documentation-in-other-data-repositories"><span class="header-section-number">5.7</span> Bonus: Investigate metadata and data documentation in other Data Repositories</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">




<section id="learning-objectives" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<ul>
<li>Understand the major components of the data life cycle and the data management plan</li>
<li>Practice identifying metadata guidelines that are best for reproducibility</li>
<li>Become familiar with environmental data repositories for accessing and publishing data</li>
</ul>
</section>
<section id="the-big-idea" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="the-big-idea"><span class="header-section-number">5.1</span> The Big Idea</h2>
<p>The ultimate goal of this lesson is to provide you with a framework to achieve open science that is FAIR, CARE, and reproducible. And while this hugely important, it is challenging in practice.</p>
<p>The framework we’ll talk about in this lesson contains the following elements:</p>
<ul>
<li>Data Life Cycle</li>
<li>Data Management Plan (DMP)</li>
<li>Data ethics: FAIR and CARE Principles as a lens</li>
<li>Rich metadata</li>
<li>Meaningful data publishing</li>
</ul>
<p>We’ll be going over each of these elements in detail and how they each fit into the reproducible open science framework we’ve been focusing on. It’s important to note that each of these elements are all connected to each other and can be achieved and utilized simultaneously.</p>
<p>We think of this framework as a three step process:</p>
<ol type="1">
<li>Split your research project into meaningful steps using the Data Life Cycle</li>
<li>Document your project using a DMP</li>
<li>Iterate, iterate, iterate</li>
</ol>
<p>Let’s dive deeper into each of these steps now.</p>
</section>
<section id="split-your-research-project-into-meaningful-steps-using-the-data-life-cycle" class="level2 page-columns page-full" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="split-your-research-project-into-meaningful-steps-using-the-data-life-cycle"><span class="header-section-number">5.2</span> Split your research project into meaningful steps using the Data Life Cycle</h2>
<section id="the-data-life-cycle" class="level3 page-columns page-full" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="the-data-life-cycle"><span class="header-section-number">5.2.1</span> The Data Life Cycle</h3>
<p>The Data Life Cycle is a tool for facilitating successful management and preservation of data throughout a research project. Multiple versions of the data life cycle exist and vary in practice across domains or communities. For example, a meta-analysis project may only focus on the Discover, Integrate, and Analyze phases of the cycle.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><a href="https://dataoneorg.github.io/Education/bestpractices/"><img src="images/data-life-cycle.png" class="img-fluid figure-img" alt="Data Life Cycle graphic with each stage following the next to create a circle."></a></p>
<figcaption class="figure-caption">Source: DataOne</figcaption>
</figure>
</div>
</div></div><p>DataOne’s <a href="https://dataoneorg.github.io/Education/bestpractices/">Data Management Skillbuilding Hub</a> offers several best practices on how to effectively work with your data throughout all stages of the data life cycle.</p>
<p><strong>A way to use the Data Life Cycle in practice is to:</strong></p>
<ul>
<li>Think about the end goal, outcomes, and products of your project</li>
<li>Think and decide steps in the Data Life Cycle you need to include in your project</li>
<li>Review <a href="https://dataoneorg.github.io/Education/bestpractices/">best practices</a> for that step in the cycle and start outlining action items in each of those steps</li>
</ul>
</section>
</section>
<section id="document-your-project-using-a-dmp" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="document-your-project-using-a-dmp"><span class="header-section-number">5.3</span> Document your project using a DMP</h2>
<p>Now let’s make these steps in the Data Life Cycle tangible using a DMP.</p>
<section id="writing-dmps" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="writing-dmps"><span class="header-section-number">5.3.1</span> Writing DMPs</h3>
<p>A Data Management Plan is a document that describes how you will use your data during a research project, as well as what you will do with your data long after the project ends. <strong>Often a DMP encompasses all phases of the Data Life Cycle</strong> - from planning, to collecting, to analyzing and ultimately to preservation and storage of the data.</p>
<p>These are important project aspects to deeply consider because a well-thought-out plan means you are more likely to:</p>
<ul>
<li>stay organized</li>
<li>work efficiently</li>
<li>truly share data</li>
<li>engage your team</li>
<li>meet funder requirements as DMPs are becoming common in the submission process for proposals</li>
</ul>
<p>A DMP is both a straightforward blueprint for how you manage your data, <em>and</em> provides guidelines for your and your team on policies, access, roles, and more. While it is important to plan, it is equally important to recognize that no plan is perfect as change is inevitable. To make your DMP as robust as possible, treat it as a “living document” that you periodically review with your team and adjust as the needs of the project change.</p>
</section>
<section id="how-to-plan" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="how-to-plan"><span class="header-section-number">5.3.2</span> How to Plan</h3>
<ul>
<li><strong>Plan early:</strong> research shows that over time, information is lost and this is inevitable so it’s important to think about long-term plans for your research at the beginning before you’re deep in your project. And ultimately, you’ll save more time.</li>
<li><strong>Plan in collaboration:</strong> high engagement of your team and stakeholders is not only a benefit to your project, but it also makes your DMP more resilient. When you include diverse expertise and perspectives to the planning stages, you’re more likely to overcome obstacles in the future.</li>
<li><strong>Utilize existing resources:</strong> don’t reinvent the wheel! There are many great DMP resources out there. Consider the article <em>Ten Simple Rules for Creating a Good Data Management Plan</em> <span class="citation" data-cites="michener2015">(<a href="#ref-michener2015" role="doc-biblioref">Michener 2015</a>)</span>, which has succinct guidelines on what to include in a DMP. Or use an online tool like <a href="https://dmptool.org/">DMPTool</a>, which provides official DMP templates from funders like NSF, example answers, and allows for collaboration.</li>
<li><strong>Make revising part of the process:</strong> Don’t let your DMP collect dust after your initially write it. Make revising the DMP part of your research project and use it as a guide to ensure you’re keeping on track.</li>
<li><strong>Include FAIR and CARE:</strong> Think of the resources we discussed in the <a href="https://learning.nceas.ucsb.edu/2023-04-coreR/session_06.htm">FAIR and CARE Principles lesson</a>. When you include FAIR and CARE in the planning process of your DMP, it will make it easier to include and maintain throughout the entire project.</li>
</ul>
</section>
<section id="what-to-include-in-a-dmp" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="what-to-include-in-a-dmp"><span class="header-section-number">5.3.3</span> What to include in a DMP</h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th>DMP Section</th>
<th>Guiding Questions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Funder Requirements</td>
<td><ul>
<li><p>Does the funder have a template or specific DMP guidelines?</p></li>
<li><p>Do you thoroughly understand all the requirements? Or do you need to reach out for clarification?</p></li>
<li><p>Is there a page-limit to what you can submit in your proposal? Would it beneficial to have an appendix or a longer version of your DMP for internal use elsewhere (and not for submission)?</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Study Design</td>
<td><ul>
<li><p>What analytical methods do you plan to use?</p></li>
<li><p>What experiments, if any, are needed to answer your research question?</p></li>
<li><p>What are the end products you plan to produce?</p></li>
<li><p>What ethical considerations do you have about your project?</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Data Collection</td>
<td><ul>
<li><p>What type of data do you plan to collect (text, audio files, images, models, spreadsheets)?</p></li>
<li><p>Where do you plan to source your data? Is it observational, already existing, or does it need to be collected? Do you need to obtain a license to access the data? Do you need an IRB review?</p></li>
<li><p>How much data do you plan to collect or use?</p></li>
<li><p>What format is the data in? Is it open source or is it proprietary?</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Data Organization</td>
<td><ul>
<li><p>How will you manage your data? Will you be using open source or proprietary software programs?</p></li>
<li><p>Do you need a database to manage your data? Are there existing databases you can utilize or do you need to build one?</p></li>
<li><p>What software tools do you plan to use to manage and organize your data?</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Quality Assurance and Quality Control</td>
<td><ul>
<li><p>How will you ensure that your data is of quality?</p></li>
<li><p>How will you maintain data integrity throughout your analysis?</p></li>
<li><p>What tests will you run on your raw data and processed data?</p></li>
<li><p>Will you be utilizing outside partners to implement testing or QA/QC measures?</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Data Policies</td>
<td><ul>
<li><p>What licenses do you plan to use for your data? Are there open source licenses that meet your funders requirements?</p></li>
<li><p>What are the policies for sharing, retaining, and licensing the data? Whose responsibility is that?</p></li>
<li><p>Are there any legal or ethical restrictions on your data? Do you have sensitive data that cannot be shared? Is a metadata documentation appropriate?</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Data documentation &amp; Metadata</td>
<td><ul>
<li><p>What information is required for you and others to accurately interpret, reuse, and access your data?</p></li>
<li><p>Will you be using a metadata standard?</p></li>
<li><p>What information is needed for you to write comprehensive metadata?</p></li>
<li><p>Where and how will you maintain this documentation? Is it possible for you to have the documentation open source?</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Data Sharing</td>
<td><ul>
<li><p>How will the data be shared after the project ends? Is this an accessible location?</p></li>
<li><p>When will the data and project be available? Immediately after the project ends or a time period after?</p></li>
<li><p>Will you be publishing the project and the data to a journal?</p></li>
<li><p>What data products do you plan to share?</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Roles and Responsibilities</td>
<td><ul>
<li><p>Who is in charge of collecting the data? Managing it? Storing it? Archiving it? Running quality control? Overall project management? There are lots of roles to consider here.</p></li>
<li><p>What kind of expertise is needed for these roles?</p></li>
<li><p>What happens if a role needs to change? How do you plan to handle this kind of change?</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Long-term Storage &amp; Data Preservation</td>
<td><ul>
<li><p>Where do you plan to archive your data?</p></li>
<li><p>How long will the data be accessible?</p></li>
<li><p>How will the data be accessed for future use?</p></li>
<li><p>How will you be storing the data during your project? Is this different than where you will store it after the project ends?</p></li>
<li><p>Does your institution or funder have long-term storage options for you to use?</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Budget</td>
<td><ul>
<li><p>Do you need to purchase any proprietary software?</p></li>
<li><p>Do you need to purchase any hardware?</p></li>
<li><p>Do you need to pay for any services?</p></li>
<li><p>Will you need to hire employees? Consultants?</p></li>
<li><p>Do you anticipate that you will need to pay for any professional development or training either for yourself or your team?</p></li>
</ul></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="iterate-iterate-iterate" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="iterate-iterate-iterate"><span class="header-section-number">5.4</span> Iterate, iterate, iterate</h2>
<p>It’s crucial to remember that a DMP is a <em>plan</em>. None of the information in it is set in stone and you should change and update it as needed. For example, your initial DMP may have it written to store the final datasets in a physical hard drive, but later on you find an online repository like <a href="https://knb.ecoinformatics.org/">KNB</a>. An online data repository is a better option, and you should update your plan to reflect it!</p>
<p>It may be helpful to develop a policy where you and your team review the DMP and update it as needed. Or maybe the DMP is part of someone’s responsibility on the team, maybe it’s a rotating responsibility. There’s a lot of flexibility here, and you should implement whatever policy or plan works best for you and your collaborators.</p>
<p>What is most important is that your DMP is an accurate reflection when you’re finished with your project so you’re ready to submit your data. This will make the process of submitting data much smoother.</p>
</section>
<section id="deep-dive-into-metadata-publishing-data" class="level2 page-columns page-full" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="deep-dive-into-metadata-publishing-data"><span class="header-section-number">5.5</span> Deep dive into Metadata &amp; Publishing Data</h2>
<p>So far we’ve discussed the high-level steps toward achieving an open science project that is FAIR, CARE, and reproducible. However, there are many sub-steps within those three steps and much of metadata and data publishing are deeply intertwined with all those steps. Meaning metadata and data publishing alone play a huge role in all aspects of the Data life cycle and DMP, so it’s worth discussing these two aspects in more detail.</p>
<section id="metadata-best-practices" class="level3" data-number="5.5.1">
<h3 data-number="5.5.1" class="anchored" data-anchor-id="metadata-best-practices"><span class="header-section-number">5.5.1</span> Metadata Best Practices</h3>
<p>Metadata (data about data) is an important part of the Data Life Cycle because it enables data reuse long after the original collection. Imagine that you’re writing your metadata for a typical researcher (who might even be you!) 30+ years from now - what will they need to understand what’s inside your data files?</p>
<p>The goal is to have enough information for the researcher to <strong>understand the data</strong>, <strong>interpret the data</strong>, and then <strong>reuse the data</strong> in another study.</p>
<section id="overall-guidelines" class="level4" data-number="5.5.1.1">
<h4 data-number="5.5.1.1" class="anchored" data-anchor-id="overall-guidelines"><span class="header-section-number">5.5.1.1</span> Overall Guidelines</h4>
<p>Another way to think about metadata is to answer the following questions with the documentation:</p>
<ul>
<li>What was measured?</li>
<li>Who measured it?</li>
<li>When was it measured?</li>
<li>Where was it measured?</li>
<li>How was it measured?</li>
<li>How is the data structured?</li>
<li>Why was the data collected?</li>
<li>Who should get credit for this data (researcher AND funding agency)?</li>
<li>How can this data be reused (licensing)?</li>
</ul>
</section>
<section id="bibliographic-guidelines" class="level4" data-number="5.5.1.2">
<h4 data-number="5.5.1.2" class="anchored" data-anchor-id="bibliographic-guidelines"><span class="header-section-number">5.5.1.2</span> Bibliographic Guidelines</h4>
<p>The details that will help your data be cited correctly are:</p>
<ul>
<li>Global identifier like a digital object identifier (DOI)</li>
<li>Descriptive title that includes information about the topic, the geographic location, the dates, and if applicable, the scale of the data</li>
<li>Descriptive abstract that serves as a brief overview off the specific contents and purpose of the data package</li>
<li>Funding information like the award number and the sponsor</li>
<li>People and organizations like the creator of the dataset (i.e.&nbsp;who should be cited), the person to contact about the dataset (if different than the creator), and the contributors to the dataset</li>
</ul>
</section>
<section id="discovery-guidelines" class="level4" data-number="5.5.1.3">
<h4 data-number="5.5.1.3" class="anchored" data-anchor-id="discovery-guidelines"><span class="header-section-number">5.5.1.3</span> Discovery Guidelines</h4>
<p>The details that will help your data be discovered correctly are:</p>
<ul>
<li>Geospatial coverage of the data, including the field and laboratory sampling locations, place names and precise coordinates</li>
<li>Temporal coverage of the data, including when the measurements were made and what time period (ie the calendar time or the geologic time) the measurements apply to</li>
<li>Taxonomic coverage of the data, including what species were measured and what taxonomy standards and procedures were followed</li>
<li>Any other contextual information as needed</li>
</ul>
</section>
<section id="interpretation-guidelines" class="level4" data-number="5.5.1.4">
<h4 data-number="5.5.1.4" class="anchored" data-anchor-id="interpretation-guidelines"><span class="header-section-number">5.5.1.4</span> Interpretation Guidelines</h4>
<p>The details that will help your data be interpreted correctly are:</p>
<ul>
<li>Collection methods for both field and laboratory data the full experimental and project design as well as how the data in the dataset fits into the overall project</li>
<li>Processing methods for both field and laboratory samples</li>
<li>All sample quality control procedures</li>
<li>Provenance information to support your analysis and modelling methods</li>
<li>Information about the hardware and software used to process your data, including the make, model, and version</li>
<li>Computing quality control procedures like testing or code review</li>
</ul>
</section>
<section id="data-structure-and-contents" class="level4" data-number="5.5.1.5">
<h4 data-number="5.5.1.5" class="anchored" data-anchor-id="data-structure-and-contents"><span class="header-section-number">5.5.1.5</span> Data Structure and Contents</h4>
<ul>
<li>Everything needs a description: the data model, the data objects (like tables, images, matricies, spatial layers, etc), and the variables all need to be described so that there is no room for misinterpretation.</li>
<li>Variable information includes the definition of a variable, a standardized unit of measurement, definitions of any coded values (i.e.&nbsp;0 = not collected), and any missing values (i.e.&nbsp;999 = NA).</li>
</ul>
<p>Not only is this information helpful to you and any other researcher in the future using your data, but it is also helpful to search engines. The semantics of your dataset are crucial to ensure your data is both discoverable by others and interoperable (that is, reusable).</p>
<p>For example, if you were to search for the character string “carbon dioxide flux” in a data repository, not all relevant results will be shown due to varying vocabulary conventions (i.e., “CO2 flux” instead of “carbon dioxide flux”) across disciplines — only datasets containing the exact words “carbon dioxide flux” are returned. With correct semantic annotation of the variables, your dataset that includes information about carbon dioxide flux but that calls it CO2 flux WOULD be included in that search.</p>
</section>
<section id="rights-and-attribution" class="level4" data-number="5.5.1.6">
<h4 data-number="5.5.1.6" class="anchored" data-anchor-id="rights-and-attribution"><span class="header-section-number">5.5.1.6</span> Rights and Attribution</h4>
<p>Correctly assigning a way for your datasets to be cited and reused is the last piece of a complete metadata document. This section sets the scientific rights and expectations for the future on your data, like:</p>
<ul>
<li>Citation format to be used when giving credit for the data</li>
<li>Attribution expectations for the dataset</li>
<li>Reuse rights, which describe who may use the data and for what purpose</li>
<li>Redistribution rights, which describe who may copy and redistribute the metadata and the data</li>
<li>Legal terms and conditions like how the data are licensed for reuse.</li>
</ul>
</section>
<section id="metadata-standards" class="level4" data-number="5.5.1.7">
<h4 data-number="5.5.1.7" class="anchored" data-anchor-id="metadata-standards"><span class="header-section-number">5.5.1.7</span> Metadata Standards</h4>
<p>So, how does a computer organize all this information? There are a number of metadata standards that make your metadata machine readable and therefore easier for data curators to publish your data.</p>
<ul>
<li><a href="https://eml.ecoinformatics.org/">Ecological Metadata Language (EML)</a></li>
<li><a href="https://www.fgdc.gov/metadata/iso-standards">Geospatial Metadata Standards (ISO 19115 and ISO 19139)</a>
<ul>
<li>See <a href="http://www.ncei.noaa.gov/sites/default/files/2020-04/ISO%2019115-2%20Workbook_Part%20II%20Extentions%20for%20imagery%20and%20Gridded%20Data.pdf">NOAA’s ISO Workbook</a></li>
</ul></li>
<li><a href="chrome-extension://efaidnbmnnnibpcajpcglclefindmkaj/https://www.fgdc.gov/standards/projects/FGDC-standards-projects/metadata/biometadata/biodatap.pdf">Biological Data Profile (BDP)</a></li>
<li><a href="https://www.dublincore.org/">Dublin Core</a></li>
<li><a href="https://dwc.tdwg.org/">Darwin Core</a></li>
<li><a href="https://www.loc.gov/standards/premis/">PREservation Metadata: Implementation Strategies (PREMIS)</a></li>
<li><a href="https://www.loc.gov/standards/mets/">Metadata Encoding Transmission Standard (METS)</a></li>
</ul>
<p><em>Note this is not an exhaustive list.</em></p>
</section>
<section id="data-identifiers" class="level4" data-number="5.5.1.8">
<h4 data-number="5.5.1.8" class="anchored" data-anchor-id="data-identifiers"><span class="header-section-number">5.5.1.8</span> Data Identifiers</h4>
<p>Many journals require a DOI (a digital object identifier) be assigned to the published data before the paper can be accepted for publication. The reason for that is so that the data can easily be found and easily linked to.</p>
<p>Some data repositories assign a DOI for each dataset you publish on their repository. But, if you need to update the datasets, check the policy of the data repository. Some repositories assign a new DOI after you update the dataset. If this is the case, researchers should cite the exact version of the dataset that they used in their analysis, even if there is a newer version of the dataset available.</p>
</section>
<section id="data-citation" class="level4" data-number="5.5.1.9">
<h4 data-number="5.5.1.9" class="anchored" data-anchor-id="data-citation"><span class="header-section-number">5.5.1.9</span> Data Citation</h4>
<p>Researchers should get in the habit of citing the data that they use (even if it’s their own data!) in each publication that uses that data.</p>
</section>
</section>
<section id="publishing-data" class="level3 page-columns page-full" data-number="5.5.2">
<h3 data-number="5.5.2" class="anchored" data-anchor-id="publishing-data"><span class="header-section-number">5.5.2</span> Publishing Data</h3>
<section id="data-sharing-preservation" class="level4" data-number="5.5.2.1">
<h4 data-number="5.5.2.1" class="anchored" data-anchor-id="data-sharing-preservation"><span class="header-section-number">5.5.2.1</span> Data Sharing &amp; Preservation</h4>
<p><img src="images/WhyManage-small.png" class="img-fluid"></p>
</section>
<section id="data-repositories-built-for-data-and-code" class="level4" data-number="5.5.2.2">
<h4 data-number="5.5.2.2" class="anchored" data-anchor-id="data-repositories-built-for-data-and-code"><span class="header-section-number">5.5.2.2</span> Data Repositories: Built for Data (and code)</h4>
<ul>
<li>GitHub is not an archival location</li>
<li>Examples of dedicated data repositories:
<ul>
<li>KNB</li>
<li>Arctic Data Center</li>
<li>tDAR</li>
<li>EDI</li>
<li>Zenodo</li>
</ul></li>
<li>Dedicated data repositories are:
<ul>
<li>Rich in metadata</li>
<li>Archival in their mission</li>
<li><a href="https://www.coretrustseal.org/">Certified</a></li>
</ul></li>
<li>Data papers, e.g., Scientific Data</li>
<li><a href="https://www.re3data.org/">re3data</a> is a global registry of research data repositories</li>
<li><a href="https://repositoryfinder.datacite.org/">Repository Finder</a> is a pilot project and tool to help researchers find an appropriate repository for their work</li>
</ul>
</section>
<section id="data-packages" class="level4 page-columns page-full" data-number="5.5.2.3">
<h4 data-number="5.5.2.3" class="anchored" data-anchor-id="data-packages"><span class="header-section-number">5.5.2.3</span> Data Packages</h4>
<p>We define a data package as a scientifically useful collection of data and metadata that a researcher wants to preserve. Sometimes a data package represents all of the data from a particular experiment, while at other times it might be all of the data from a grant, or on a topic, or associated with a paper. Whatever the extent, we define a data package as having one or more data files, software files, and other scientific products such as graphs and images, all tied together with a descriptive metadata document.</p>
<p>These data repositories all assign a unique identifier to every version of every data file, similarly to how it works with source code commits in GitHub. Those identifiers usually take one of two forms. A DOI identifier is often assigned to the metadata and becomes a publicly citable identifier for the package. Each of the other files gets a global identifier, often a UUID that is globally unique. In the graphic to the side, the package can be cited with the DOI <code>doi:10.5063/F1F18WN4</code>,and each of the individual files have their own identifiers as well.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="images/data-package.png" class="img-fluid"></p>
</div></div></section>
<section id="dataone-federation" class="level4" data-number="5.5.2.4">
<h4 data-number="5.5.2.4" class="anchored" data-anchor-id="dataone-federation"><span class="header-section-number">5.5.2.4</span> DataOne Federation</h4>
<p>DataONE is a federation of dozens of data repositories that work together to make their systems interoperable and to provide a single unified search system that spans the repositories. DataONE aims to make it simpler for researchers to publish data to one of its member repositories, and then to discover and download that data for reuse in synthetic analyses.</p>
<p>DataONE can be <a href="https://search.dataone.org/">searched on the web</a>, which effectively allows a single search to find data from the dozens of members of DataONE, rather than visiting each of the (currently 44!) repositories one at a time.</p>
<p><img src="images/DataONECNs.png" class="img-fluid"></p>
</section>
</section>
</section>
<section id="exercise-evaluate-a-data-package-on-the-knb-repository" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="exercise-evaluate-a-data-package-on-the-knb-repository"><span class="header-section-number">5.6</span> Exercise: Evaluate a Data Package on the KNB Repository</h2>
<p>Explore data packages published on KNB assess the quality of their metadata. Imagine you’re a data curator! The data packages you’ll be looking into more deeply are datasets you’re already familiar with through the R Practice Sessions.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Setup
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Break into groups and use the following data packages:
<ol type="a">
<li><strong>Group A:</strong> EDI Data Portal <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-sbc.77.8">SBC LTER: Reef: Abundance, size and fishing effort for California Spiny Lobster (Panulirus interruptus), ongoing since 2012</a></li>
<li><strong>Group B:</strong> EDI Data Portal <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-nwt.268.1">Physiological stress of American pika (Ochotona princeps) and associated habitat characteristics for Niwot Ridge, 2018 - 2019</a></li>
<li><strong>Group C:</strong> EDI Data Portal <a href="https://portal.edirepository.org/nis/mapbrowse?scope=knb-lter-cap&amp;identifier=256&amp;revision=10">Ecological and social interactions in urban parks: bird surveys in local parks in the central Arizona-Phoenix metropolitan area</a></li>
</ol></li>
</ol>
</div>
</div>
<p>You and your group will evaluate a data package for its: (1) metadata quality, (2) data documentation quality for reproducibility, and (3) FAIRness and CAREness.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise: Evaluate a data package on EDI Data Portal
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>View our <a href="https://docs.google.com/document/d/1PQpw9ohOMY7K1yBWaknMHV0dGEm0GnZ9pCB8_i2JPoU/edit?usp=sharing">Data Package Assessment Rubric</a> and make a copy of it to:
<ol type="a">
<li><strong>Investigate the metadata in the provided data</strong>
<ol type="i">
<li>Does the metadata meet the standards we talked about? How so?</li>
<li>If not, how would you improve the metadata based on the standards we talked about?</li>
</ol></li>
<li><strong>Investigate the overall data documentation in the data package</strong>
<ol type="i">
<li>Is the documentation sufficient enough for reproducibility? Why or why not?</li>
<li>If not, how would you improve the data documentation? What’s missing?</li>
</ol></li>
<li><strong>Identify elements of FAIR and CARE</strong>
<ol type="i">
<li>Is it clear that the data package used a FAIR and CARE lens?</li>
<li>If not, what documentation or considerations would you add?</li>
</ol></li>
</ol></li>
<li>Elect someone to share back to the group the following:
<ol type="a">
<li>How easy or challenging was it to find the metadata and other data documentation you were evaluating? Why or why not?</li>
<li>What documentation stood out to you? What did you like or not like about it?</li>
<li>How well did these data packages uphold FAIR and CARE Principles?</li>
<li>Do you feel like you understand the research project enough to use the data yourself (aka reproducibility?</li>
</ol></li>
</ol>
<p><em>If you and your group finish early, check out more datasets in the bonus question.</em></p>
</div>
</div>
</section>
<section id="bonus-investigate-metadata-and-data-documentation-in-other-data-repositories" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="bonus-investigate-metadata-and-data-documentation-in-other-data-repositories"><span class="header-section-number">5.7</span> Bonus: Investigate metadata and data documentation in other Data Repositories</h2>
<p>Not all environmental data repositories document and publish datasets and data packages in the same way. Nor do they have the same submission requirements. It’s helpful to become familiar with metadata and data documentation jargon so it’s easier to identify the information you’re looking for. It’s also helpful for when you’re nearing the end of your project and are getting ready to publish your datasets.</p>
<p>Evaluate the following data packages at these data repositories:</p>
<ol type="1">
<li>KNB <a href="https://knb.ecoinformatics.org/view/https%3A%2F%2Fpasta.lternet.edu%2Fpackage%2Fmetadata%2Feml%2Fknb-lter-arc%2F20052%2F1">Arthropod pitfall trap biomass captured (weekly) and pitfall biomass model predictions (daily) near Toolik Field Station, Alaska, summers 2012-2016</a></li>
<li>DataOne <a href="https://search.dataone.org/view/knb-lter-jrn.20020210.9893">USDA-NOAA NWS Daily Climatological Data</a></li>
<li>Arctic Data Center <a href="https://arcticdata.io/catalog/view/doi%3A10.18739%2FA2JQ0SW7X">Landscape evolution and adapting to change in ice-rich permafrost systems 2021-2022</a></li>
</ol>
<p>How different are these data repositories from the EDI Data Portal? Would you consider publishing you data at one or multiple of these repositories?</p>
<!-- consider these other lesson: data-management-plans.Rmd or data-management-plans-reduced.Rmd -->
<!-- Note: convert from .Rmd to .qmd -->


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-michener2015" class="csl-entry" role="listitem">
Michener, William K. 2015. <span>“Ten Simple Rules for Creating a Good Data Management Plan.”</span> <em>PLOS Computational Biology</em> 11 (10): 1–9. <a href="https://doi.org/10.1371/journal.pcbi.1004525">https://doi.org/10.1371/journal.pcbi.1004525</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./session_04.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Management Essentials and the FAIR &amp; CARE Principles</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./session_06.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Intro to Literate Analysis</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>