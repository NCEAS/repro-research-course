<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>11&nbsp; Collaborating with Git and GitHub – NCEAS Learning Hub’s coreR Course</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./session_12.html" rel="next">
<link href="./session_10.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session_11.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Collaborating with Git and GitHub</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Collaborating with Git and GitHub</span></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Training Materials</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.nceas.ucsb.edu/learning-hub" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-door-fill"></i></a>
    <a href="https://twitter.com/ucsb_nceas" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/NCEAS/nceas-training/tree/2024-10-coreR" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Course Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">RStudio Server Setup</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Git and GitHub Setup</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Working in R &amp; RStudio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Literate Analysis with Quarto</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reproducibility: a Lego activity</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Git and GitHub</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Tidy Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Cleaning and Wrangling Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Practice Session: Joins</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_11.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Collaborating with Git and GitHub</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Publishing to the Web</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Practice Session: Collaborative Report</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Data Management Essentials</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_16.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Working with Spatial Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_17.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Writing Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_18.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Practice Session: Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_19.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Office Hour</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_20.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">GitHub for Project Management</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_21.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Reproducibility &amp; Provenance</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session_22.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Installing R and Git in your computer</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#introduction-to-git-and-github-tools-for-collaboration" id="toc-introduction-to-git-and-github-tools-for-collaboration" class="nav-link" data-scroll-target="#introduction-to-git-and-github-tools-for-collaboration"><span class="header-section-number">11.1</span> Introduction to Git and GitHub Tools for Collaboration</a></li>
  <li><a href="#collaborating-with-a-trusted-colleague-without-conflicts" id="toc-collaborating-with-a-trusted-colleague-without-conflicts" class="nav-link" data-scroll-target="#collaborating-with-a-trusted-colleague-without-conflicts"><span class="header-section-number">11.2</span> Collaborating with a trusted colleague <strong>without conflicts</strong></a>
  <ul class="collapse">
  <li><a href="#step-1-owner-adds-a-collaborator-to-their-repository-on-github" id="toc-step-1-owner-adds-a-collaborator-to-their-repository-on-github" class="nav-link" data-scroll-target="#step-1-owner-adds-a-collaborator-to-their-repository-on-github">Step 1: Owner adds a Collaborator to their repository on GitHub</a></li>
  <li><a href="#step-2-collaborator-clones-the-remote-repository" id="toc-step-2-collaborator-clones-the-remote-repository" class="nav-link" data-scroll-target="#step-2-collaborator-clones-the-remote-repository">Step 2: Collaborator clones the remote repository</a></li>
  <li><a href="#intermediate-step-collaborator-communicates-with-owner-that-they-plan-to-make-some-changes" id="toc-intermediate-step-collaborator-communicates-with-owner-that-they-plan-to-make-some-changes" class="nav-link" data-scroll-target="#intermediate-step-collaborator-communicates-with-owner-that-they-plan-to-make-some-changes">INTERMEDIATE STEP: Collaborator communicates with Owner that they plan to make some changes</a></li>
  <li><a href="#step-3-collaborator-edits-files-locally" id="toc-step-3-collaborator-edits-files-locally" class="nav-link" data-scroll-target="#step-3-collaborator-edits-files-locally">Step 3: Collaborator edits files locally</a></li>
  <li><a href="#step-4-collaborator-commits-pulls-and-pushs" id="toc-step-4-collaborator-commits-pulls-and-pushs" class="nav-link" data-scroll-target="#step-4-collaborator-commits-pulls-and-pushs">Step 4: Collaborator <code>commit</code>s, <code>pull</code>s, and <code>push</code>s</a></li>
  <li><a href="#intermediate-step-collaborator-communicates-with-owner-that-they-pushed-their-changes-to-github" id="toc-intermediate-step-collaborator-communicates-with-owner-that-they-pushed-their-changes-to-github" class="nav-link" data-scroll-target="#intermediate-step-collaborator-communicates-with-owner-that-they-pushed-their-changes-to-github">INTERMEDIATE STEP: Collaborator communicates with Owner that they pushed their changes to GitHub</a></li>
  <li><a href="#step-5-owner-pulls-new-changes-from-the-remote-repo-to-their-local-repo" id="toc-step-5-owner-pulls-new-changes-from-the-remote-repo-to-their-local-repo" class="nav-link" data-scroll-target="#step-5-owner-pulls-new-changes-from-the-remote-repo-to-their-local-repo">Step 5: Owner <code>pull</code>s new changes from the remote repo to their local repo</a></li>
  <li><a href="#intermediate-step-owner-communicates-with-collaborator-that-they-now-plan-to-make-some-changes" id="toc-intermediate-step-owner-communicates-with-collaborator-that-they-now-plan-to-make-some-changes" class="nav-link" data-scroll-target="#intermediate-step-owner-communicates-with-collaborator-that-they-now-plan-to-make-some-changes">INTERMEDIATE STEP: Owner communicates with Collaborator that they now plan to make some changes</a></li>
  <li><a href="#step-6-owner-edits-commits-pulls-just-in-case-and-pushes" id="toc-step-6-owner-edits-commits-pulls-just-in-case-and-pushes" class="nav-link" data-scroll-target="#step-6-owner-edits-commits-pulls-just-in-case-and-pushes">Step 6: Owner edits, <code>commit</code>s, <code>pull</code>s (just in case!) and <code>push</code>es</a></li>
  <li><a href="#intermediate-step-owner-communicates-with-collaborator-that-they-pushed-their-changes-to-github" id="toc-intermediate-step-owner-communicates-with-collaborator-that-they-pushed-their-changes-to-github" class="nav-link" data-scroll-target="#intermediate-step-owner-communicates-with-collaborator-that-they-pushed-their-changes-to-github">INTERMEDIATE STEP: Owner communicates with Collaborator that they pushed their changes to GitHub</a></li>
  <li><a href="#step-7-collaborator-pulls-new-changes-from-the-remote-repo-to-their-local-repo" id="toc-step-7-collaborator-pulls-new-changes-from-the-remote-repo-to-their-local-repo" class="nav-link" data-scroll-target="#step-7-collaborator-pulls-new-changes-from-the-remote-repo-to-their-local-repo">Step 7: Collaborator <code>pull</code>s new changes from the remote repo to their local repo</a></li>
  </ul></li>
  <li><a href="#ex1-no-conflict" id="toc-ex1-no-conflict" class="nav-link" data-scroll-target="#ex1-no-conflict"><span class="header-section-number">11.3</span> Exercise 1: With a partner collaborate in a repository without a merge conflict</a>
  <ul class="collapse">
  <li><a href="#defining-merge-method" id="toc-defining-merge-method" class="nav-link" data-scroll-target="#defining-merge-method"><span class="header-section-number">11.3.1</span> Defining Merge Method</a></li>
  </ul></li>
  <li><a href="#a-note-on-advanced-collaboration-techniques" id="toc-a-note-on-advanced-collaboration-techniques" class="nav-link" data-scroll-target="#a-note-on-advanced-collaboration-techniques"><span class="header-section-number">11.4</span> A Note on Advanced Collaboration Techniques</a></li>
  <li><a href="#merge-conflicts" id="toc-merge-conflicts" class="nav-link" data-scroll-target="#merge-conflicts"><span class="header-section-number">11.5</span> Merge conflicts</a>
  <ul class="collapse">
  <li><a href="#common-ways-to-resolve-a-merge-conflict" id="toc-common-ways-to-resolve-a-merge-conflict" class="nav-link" data-scroll-target="#common-ways-to-resolve-a-merge-conflict"><span class="header-section-number">11.5.1</span> Common ways to resolve a merge conflict</a></li>
  </ul></li>
  <li><a href="#producing-and-resolving-merge-conflicts" id="toc-producing-and-resolving-merge-conflicts" class="nav-link" data-scroll-target="#producing-and-resolving-merge-conflicts"><span class="header-section-number">11.6</span> Producing and resolving merge conflicts</a>
  <ul class="collapse">
  <li><a href="#step-1-owner-and-collaborator-ensure-that-their-local-repos-are-synced-with-the-remote-repo" id="toc-step-1-owner-and-collaborator-ensure-that-their-local-repos-are-synced-with-the-remote-repo" class="nav-link" data-scroll-target="#step-1-owner-and-collaborator-ensure-that-their-local-repos-are-synced-with-the-remote-repo">Step 1: Owner and Collaborator ensure that their local repos are synced with the remote repo</a></li>
  <li><a href="#step-2-owner-makes-a-change-and-commits-locally" id="toc-step-2-owner-makes-a-change-and-commits-locally" class="nav-link" data-scroll-target="#step-2-owner-makes-a-change-and-commits-locally">Step 2: Owner makes a change and commits locally</a></li>
  <li><a href="#step-3-collaborator-makes-a-change-and-commits-on-the-same-line" id="toc-step-3-collaborator-makes-a-change-and-commits-on-the-same-line" class="nav-link" data-scroll-target="#step-3-collaborator-makes-a-change-and-commits-on-the-same-line">Step 3: Collaborator makes a change and commits <strong>on the same line</strong></a></li>
  <li><a href="#step-4-collaborator-pushes-the-file-to-github" id="toc-step-4-collaborator-pushes-the-file-to-github" class="nav-link" data-scroll-target="#step-4-collaborator-pushes-the-file-to-github">Step 4: Collaborator pushes the file to GitHub</a></li>
  <li><a href="#step-5-owner-pushes-their-changes-and-gets-an-error" id="toc-step-5-owner-pushes-their-changes-and-gets-an-error" class="nav-link" data-scroll-target="#step-5-owner-pushes-their-changes-and-gets-an-error">Step 5: Owner pushes their changes and gets an error</a></li>
  <li><a href="#step-6-owner-pulls-from-github-to-get-collaborator-changes" id="toc-step-6-owner-pulls-from-github-to-get-collaborator-changes" class="nav-link" data-scroll-target="#step-6-owner-pulls-from-github-to-get-collaborator-changes">Step 6: Owner pulls from GitHub to get Collaborator changes</a></li>
  <li><a href="#step-7-owner-edits-the-file-to-resolve-the-conflict" id="toc-step-7-owner-edits-the-file-to-resolve-the-conflict" class="nav-link" data-scroll-target="#step-7-owner-edits-the-file-to-resolve-the-conflict">Step 7: Owner edits the file to resolve the conflict</a></li>
  <li><a href="#step-8-owner-commits-the-resolved-changes" id="toc-step-8-owner-commits-the-resolved-changes" class="nav-link" data-scroll-target="#step-8-owner-commits-the-resolved-changes">Step 8: Owner commits the resolved changes</a></li>
  <li><a href="#step-9-owner-pushes-the-resolved-changes-to-github" id="toc-step-9-owner-pushes-the-resolved-changes-to-github" class="nav-link" data-scroll-target="#step-9-owner-pushes-the-resolved-changes-to-github">Step 9: Owner pushes the resolved changes to GitHub</a></li>
  <li><a href="#step-10-collaborator-pulls-the-resolved-changes-from-github" id="toc-step-10-collaborator-pulls-the-resolved-changes-from-github" class="nav-link" data-scroll-target="#step-10-collaborator-pulls-the-resolved-changes-from-github">Step 10: Collaborator pulls the resolved changes from GitHub</a></li>
  <li><a href="#step-11-both-can-view-commit-history" id="toc-step-11-both-can-view-commit-history" class="nav-link" data-scroll-target="#step-11-both-can-view-commit-history">Step 11: Both can view commit history</a></li>
  </ul></li>
  <li><a href="#exercise-2-with-a-partner-collaborate-in-a-repository-and-resolve-a-merge-conflict" id="toc-exercise-2-with-a-partner-collaborate-in-a-repository-and-resolve-a-merge-conflict" class="nav-link" data-scroll-target="#exercise-2-with-a-partner-collaborate-in-a-repository-and-resolve-a-merge-conflict"><span class="header-section-number">11.7</span> Exercise 2: With a partner collaborate in a repository and resolve a merge conflict</a></li>
  <li><a href="#best-practices-to-avoid-merge-conflicts" id="toc-best-practices-to-avoid-merge-conflicts" class="nav-link" data-scroll-target="#best-practices-to-avoid-merge-conflicts"><span class="header-section-number">11.8</span> Best practices to avoid merge conflicts</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="learning-objectives" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<ul>
<li>Apply the principles, features, and collaboration tools of Git and GitHub to effectively collaborate with colleagues on code</li>
<li>Analyze and evaluate common causes of conflicts that arise when collaborating on repositories</li>
<li>Demonstrate the ability to resolve conflicts using Git conflict resolution techniques</li>
<li>Apply workflows and best practices that minimize conflicts on collaborative repositories</li>
</ul>
</section>
<section id="introduction-to-git-and-github-tools-for-collaboration" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="introduction-to-git-and-github-tools-for-collaboration"><span class="header-section-number">11.1</span> Introduction to Git and GitHub Tools for Collaboration</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://twitter.com/allison_horst"><img src="images/allison-horst-jenny-bryan-quote.png" class="img-fluid figure-img" alt="Artwork by Allison Horst"></a></p>
<figcaption>Artwork by Allison Horst</figcaption>
</figure>
</div>
<p>Git is not only a powerful tool for individual work but also an excellent choice for collaborating with friends and colleagues. Git ensures that after you’ve completed your contributions to a repository, you can confidently synchronize your changes with changes made by others.</p>
<p>One of the easiest and most effective ways to collaborate using Git is by utilizing a shared repository on a hosting service like <a href="https://github.com">GitHub</a>. This shared repository acts as a central hub, enabling collaborators to effortlessly exchange and merge their changes. With Git and a shared repository, you can collaborate seamlessly and work confidently, knowing that your changes will be integrated smoothly with those of your collaborators.</p>
<!-- [![Graphic from Atlassian](images/git-collab-repos.svg)](https://www.atlassian.com/git/tutorials/syncing){width="80%" fig-align="center"} -->
<p>There are many advanced techniques for synchronizing Git repositories, but let’s start with a simple example.</p>
<p>In this example, the Collaborator will <code>clone</code> a copy of the Owner’s repository from GitHub, and the Owner will grant them Collaborator status, enabling the Collaborator to directly pull and push from the Owner’s GitHub repository.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/github-collaborators-diagram.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>We’ll be practicing the above workflow in the next exercises – here, a respository (aka repo) owner controls permissions on their remote repo, which is hosted on GitHub. They can push commits from their local repo to the remote repo. Similarly, they can pull commits from the remote repo to their cloned local repo(s) (remember, you can clone your repo to mulitple machines e.g.&nbsp;your laptop and your desktop). The repository owner adds a colleague as a collaborator by sending them an invite from the remote repo on GitHub. This collaborator can now push their own changes from their local repo to the now-shared remote repo (and also pull the Owner’s changes). Git and GitHub provide the tools for both colleagues to create and merge their changes to the shared remote repository.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="collaborating-with-a-trusted-colleague-without-conflicts" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="collaborating-with-a-trusted-colleague-without-conflicts"><span class="header-section-number">11.2</span> Collaborating with a trusted colleague <strong>without conflicts</strong></h2>
<p>We start our collaboration by giving a trusted colleague access to our repository on GitHub. In this example, we define the <strong>Owner as the individual who owns the repository</strong>, and the <strong>Collaborator as the person whom the Owner chooses to give permission to make changes to their repository</strong>.</p>
<p>The Collaborator will make changes to the repository and then <code>push</code> those changes to the shared repository on GitHub. The Owner will then use <code>pull</code> to retrieve the changes without encountering any conflicts. <em>This is the most ideal workflow.</em></p>
<p>The instructors will demonstrate this process in the next section.</p>
<section id="step-1-owner-adds-a-collaborator-to-their-repository-on-github" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-1-owner-adds-a-collaborator-to-their-repository-on-github">Step 1: Owner adds a Collaborator to their repository on GitHub</h3>
<p>The Owner must change the settings of the remote repository and give the Collaborator access to the repository by inviting them as a collaborator. Once the Collaborator accepts the owner’s invitation, they will have push access to the repository – meaning they can contribute their own changes/commits to the Owner’s repository.</p>
<p>To do this, the owner will navigate to their remote repository on GitHub, then choose <strong>Settings</strong> &gt; <strong>Collaborators</strong> &gt; <strong>Add people</strong>, to send an email invitation. The invitation will show as “Pending” until accepted.</p>
</section>
<section id="step-2-collaborator-clones-the-remote-repository" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-2-collaborator-clones-the-remote-repository">Step 2: Collaborator clones the remote repository</h3>
<p>In order to contribute, the Collaborator must <strong>clone</strong> the repository from the <strong>Owner’s</strong> GitHub account (<em>Note: as a Collaborator, you won’t see the repository appear under your profile’s Repositories page</em>). To do this, the Collaborator should navigate to the Owner’s repository on GitHub, then copy the clone URL. In RStudio, the Collaborator will create a new project from version control by pasting this clone URL into the appropriate dialog box (see the <a href="https://learning.nceas.ucsb.edu/2024-06-delta/session_05.html#exercise-2-clone-your-repository-and-use-git-locally-in-rstudio">earlier chapter</a> introducing GitHub).</p>
</section>
<section id="intermediate-step-collaborator-communicates-with-owner-that-they-plan-to-make-some-changes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="intermediate-step-collaborator-communicates-with-owner-that-they-plan-to-make-some-changes">INTERMEDIATE STEP: Collaborator communicates with Owner that they plan to make some changes</h3>
<p>Frequent communication is SO important when collaborating! Letting one another know that you’re about to make and push changes to the remote repo can help to prevent merge conflicts (and reduce headaches). <strong>The easiest way to avoid merge conflicts is to ensure that you and your collaborators aren’t working on the same file(s)/section(s) of code at the same time.</strong></p>
</section>
<section id="step-3-collaborator-edits-files-locally" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-3-collaborator-edits-files-locally">Step 3: Collaborator edits files locally</h3>
<p>With the repo cloned locally, the Collaborator can now make changes to the <code>README.md</code> file, adding a line or statement somewhere noticeable near the top. Save the changes.</p>
</section>
<section id="step-4-collaborator-commits-pulls-and-pushs" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-4-collaborator-commits-pulls-and-pushs">Step 4: Collaborator <code>commit</code>s, <code>pull</code>s, and <code>push</code>s</h3>
<p>It’s recommended that all collaborators (including the repo Owner) follow this workflow when syncing changes between their local repo and the remote repo (in this example, the Collaborator is now following these steps):</p>
<ol type="1">
<li><code>add</code> and <code>commit</code> your modified file(s) (e.g.&nbsp;the updated <code>README.md</code>)</li>
<li><code>pull</code> to fetch and merge changes from the remote/origin repository (in an ideal situation, as we’re demonstrating here, any potential changes are merged seamlessly without conflict)</li>
<li><code>push</code> your changes to the remote/origin repository</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why do I need to add and commit files <em>before</em> pulling?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember, <code>git pull</code> is a combination of <code>git fetch</code>ing remote changes to your local repo and <code>git merge</code>ing those changes from your local repo into your local working file(s).</p>
<p>The <strong>merge</strong> part of <code>git pull</code> will fail if you have uncommitted changes in your local working file(s) to avoid any potential overwriting of your own changes. Because of this, you should always, add/commit <em>then</em> pull, <em>and finally</em> push.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/rstudio-commit-push.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</section>
<section id="intermediate-step-collaborator-communicates-with-owner-that-they-pushed-their-changes-to-github" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="intermediate-step-collaborator-communicates-with-owner-that-they-pushed-their-changes-to-github">INTERMEDIATE STEP: Collaborator communicates with Owner that they pushed their changes to GitHub</h3>
<p>Remember, communication is key! The Owner now knows that they can pull those changes down to their local repo.</p>
</section>
<section id="step-5-owner-pulls-new-changes-from-the-remote-repo-to-their-local-repo" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-5-owner-pulls-new-changes-from-the-remote-repo-to-their-local-repo">Step 5: Owner <code>pull</code>s new changes from the remote repo to their local repo</h3>
<p>The Owner can now open their local working copy of the code in RStudio, and <code>pull</code> to fetch and merge those changes into their local copy.</p>
<p><em>Congrats, the Owner now has your changes! Now, all three repositories – the remote/origin repository on GitHub, the Owner’s local repository, and the Collaborator’s local repository – should all be in the exact same state.</em></p>
</section>
<section id="intermediate-step-owner-communicates-with-collaborator-that-they-now-plan-to-make-some-changes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="intermediate-step-owner-communicates-with-collaborator-that-they-now-plan-to-make-some-changes">INTERMEDIATE STEP: Owner communicates with Collaborator that they now plan to make some changes</h3>
<p>Did we mention that communication is important? :)</p>
</section>
<section id="step-6-owner-edits-commits-pulls-just-in-case-and-pushes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-6-owner-edits-commits-pulls-just-in-case-and-pushes">Step 6: Owner edits, <code>commit</code>s, <code>pull</code>s (just in case!) and <code>push</code>es</h3>
<p>Following the same workflow as the Collaborator did earlier:</p>
<ol type="1">
<li><code>add</code> and <code>commit</code> your modified file(s) (e.g.&nbsp;the updated <code>README.md</code>)</li>
<li><code>pull</code> to fetch and merge changes from the remote/origin repository (in an ideal situation, as we’re demonstrating here, any potential changes are merged seamlessly without conflict)</li>
<li><code>push</code> your changes to the remote/origin repository</li>
</ol>
</section>
<section id="intermediate-step-owner-communicates-with-collaborator-that-they-pushed-their-changes-to-github" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="intermediate-step-owner-communicates-with-collaborator-that-they-pushed-their-changes-to-github">INTERMEDIATE STEP: Owner communicates with Collaborator that they pushed their changes to GitHub</h3>
<p>Yes, this seems silly to repeat, yet again – but it’s also easy to forget in practice!</p>
</section>
<section id="step-7-collaborator-pulls-new-changes-from-the-remote-repo-to-their-local-repo" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-7-collaborator-pulls-new-changes-from-the-remote-repo-to-their-local-repo">Step 7: Collaborator <code>pull</code>s new changes from the remote repo to their local repo</h3>
<p>The Collaborator can now <code>pull</code> down those changes from the Owner, and all copies are once again fully synced. And just like that, you’ve successfully collaborated!</p>
</section>
</section>
<section id="ex1-no-conflict" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="ex1-no-conflict"><span class="header-section-number">11.3</span> Exercise 1: With a partner collaborate in a repository without a merge conflict</h2>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Setup
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Get into pairs, then choose one person as the Owner and one as the Collaborator</li>
<li>Both login to <a href="https://github.com">GitHub</a></li>
</ul>
<p><strong>These next steps are for the Owner:</strong></p>
<ul>
<li>Navigate to the <code>{FIRSTNAME}_test</code> repository</li>
<li>Go to <strong>Settings</strong> and navigate to <strong>Collaborators</strong> in the <strong>Access</strong> section on the left-hand side</li>
<li>Under <strong>Manage Access</strong> click the button <strong>Add people</strong> and type the username of your Collaborator in the search box</li>
<li>Once you’ve found the correct username, click <strong>Add {Collaborator username} to this repository</strong></li>
</ul>
<!-- ![](images/github-collaborators.png){width="80%" fig-align="center"} -->
<p><strong>Now, the Collaborator will follow this step:</strong></p>
<ul>
<li>Check your email for an invitation to GitHub or check your notifications (likely under <strong>Your Organizations</strong>) on GitHub to accept the invite to collaborate.</li>
</ul>
</div>
</div>
<section id="defining-merge-method" class="level3" data-number="11.3.1">
<h3 data-number="11.3.1" class="anchored" data-anchor-id="defining-merge-method"><span class="header-section-number">11.3.1</span> Defining Merge Method</h3>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Some Git configuration to surpress warning messages
</div>
</div>
<div class="callout-body-container callout-body">
<p>Git version 2.27 includes a new feature that allows users to specify the default method for integrating changes from a remote repository into a local repository, without receiving a warning (this warning is informative, but can get annoying). To suppress this warning <em>for this repository only</em> we need to configure Git by running this line of code in the Terminal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config pull.rebase false</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>pull.rebase false</code> is a default strategy for pulling where Git will first try to auto-merge the files. If auto-merging is not possible, it will indicate a merge conflict.</p>
<p><strong>Note:</strong> Unlike when we first configured Git, we do not include the <code>--global</code> flag here (e.g.&nbsp;<code>git config --global pull.rebase false</code>). This sets this default strategy for this repository only (rather than globally for all your repositories). We do this because your chosen/default method of grabbing changes from a remote repository (e.g.&nbsp;<a href="https://git-scm.com/docs/git-pull">pulling</a> vs.&nbsp;<a href="https://git-scm.com/docs/git-rebase">rebasing</a>) may change depending on collaborator/workflow preference.</p>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<p>You will do the exercise twice, where each person will get to practice being both the Owner and the Collaborator roles.</p>
<p><strong>Round One:</strong> Designate one person as the <strong>Owner</strong> and one as the <strong>Collaborator</strong>.</p>
<ul>
<li><strong>Step 1:</strong> Owner adds Collaborator to <code>{FIRSTNAME}_test</code> repository (see Setup block above for detailed steps)</li>
<li><strong>Step 2:</strong> Collaborator clones the Owner’s <code>{FIRSTNAME}_test</code> repository</li>
<li><strong>Step 3:</strong> Collaborator edits the <code>README</code> file:
<ul>
<li>Collaborator adds a new level 2 heading to <code>README</code> titled “Git Workflow”</li>
</ul></li>
<li><strong>Step 4:</strong> Collaborator commits and pushes the <code>README</code> file with the new changes to GitHub</li>
<li><strong>Step 5:</strong> Owner pulls the changes that the Collaborator made</li>
<li><strong>Step 6:</strong> Owner edits the <code>README</code> file:
<ul>
<li>Under “Git Workflow”, Owner adds the steps of the Git workflow we’ve been practicing</li>
</ul></li>
<li><strong>Step 7:</strong> Owner commits and pushes the <code>README</code> file with the new changes to GitHub</li>
<li><strong>Step 8:</strong> Collaborator pulls the Owner’s changes from GitHub</li>
</ul>
<p><strong>Round Two:</strong> Swap <strong>Owner</strong> and <strong>Collaborator</strong> roles and repeat!</p>
<ul>
<li><strong>Step 1:</strong> Owner adds Collaborator to <code>{FIRSTNAME}_test</code> repository</li>
<li><strong>Step 2:</strong> Collaborator clones the Owner’s <code>{FIRSTNAME}_test</code> repository</li>
<li><strong>Step 3:</strong> Collaborator edits the <code>README</code> file:
<ul>
<li>Collaborator adds a new level 2 heading to <code>README</code> titled “How to Create a Git Repository from an existing project” and adds the high level steps for this workflow</li>
</ul></li>
<li><strong>Step 4:</strong> Collaborator commits and pushes the <code>README</code> file with the new changes to GitHub</li>
<li><strong>Step 5:</strong> Owner pulls the changes that the Collaborator made</li>
<li><strong>Step 6:</strong> Owner edits the <code>README</code> file:
<ul>
<li>Under “How to Create a Git Repository”, Owner adds the high level steps for this workflow</li>
</ul></li>
<li><strong>Step 7:</strong> Owner commits and pushes the <code>README</code> file with the new changes to GitHub</li>
<li><strong>Step 8:</strong> Collaborator pulls the Owner’s changes from GitHub</li>
</ul>
<p><strong>Hint:</strong> If you don’t remember how to create a Git repository, refer to the chapter <a href="https://learning.nceas.ucsb.edu/2023-04-coreR/session_07.html">Intro to Git and GitHub</a> where we created two Git repositories</p>
</div>
</div>
</section>
</section>
<section id="a-note-on-advanced-collaboration-techniques" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="a-note-on-advanced-collaboration-techniques"><span class="header-section-number">11.4</span> A Note on Advanced Collaboration Techniques</h2>
<p>There are many Git and GitHub collaboration techniques, some more advanced than others. We won’t be covering advanced strategies in this course. But here is a table for your reference on a few popular Git collaboration workflow strategies and tools.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 28%">
<col style="width: 28%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>Collaboration Technique</th>
<th>Benefits</th>
<th>When to Use</th>
<th>When Not to Use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Branch Management Strategies</td>
<td>1. Enables parallel development and experimentation<br>2. Facilitates isolation of features or bug fixes<br>3. Provides flexibility and control over project workflows</td>
<td>When working on larger projects with multiple features or bug fixes simultaneously.<br>When you want to maintain a stable main branch while developing new features or resolving issues on separate branches.<br>When collaborating with teammates on different aspects of a project and later integrating their changes.</td>
<td>When working on small projects with a single developer or limited codebase.<br>When the project scope is simple and doesn’t require extensive branch management.<br>When there is no need to isolate features or bug fixes.</td>
</tr>
<tr class="even">
<td>Code Review Practices</td>
<td>1. Enhances code quality and correctness through feedback<br>2. Promotes knowledge sharing and learning within the team<br>3. Helps identify bugs, improve performance, and ensure adherence to coding standards</td>
<td>When collaborating on a codebase with team members to ensure code quality and maintain best practices.<br>When you want to receive feedback and suggestions on your code to improve its readability, efficiency, or functionality.<br>When working on critical or complex code that requires an extra layer of scrutiny before merging it into the main branch.</td>
<td>When working on personal projects or small codebases with no collaboration involved.<br>When time constraints or project size make it impractical to conduct code reviews.<br>When the codebase is less critical or has low complexity.</td>
</tr>
<tr class="odd">
<td>Forking</td>
<td>1. Enables independent experimentation and development<br>2. Provides a way to contribute to a project without direct access<br>3. Allows for creating separate, standalone copies of a repository</td>
<td>When you want to contribute to a project without having direct write access to the original repository.<br>When you want to work on an independent variation or extension of an existing project.<br>When experimenting with changes or modifications to a project while keeping the original repository intact.</td>
<td>When collaborating on a project with direct write access to the original repository.<br>When the project does not allow external contributions or forking.<br>When the project size or complexity doesn’t justify the need for independent variations.</td>
</tr>
<tr class="even">
<td>Pull Requests</td>
<td>1. Facilitates code review and discussion<br>2. Allows for collaboration and feedback from team members<br>3. Enables better organization and tracking of proposed changes</td>
<td>When working on a shared repository with a team and wanting to contribute changes in a controlled and collaborative manner.<br>When you want to propose changes to a project managed by others and seek review and approval before merging them into the main codebase.</td>
<td>When working on personal projects or individual coding tasks without the need for collaboration.<br>When immediate changes or fixes are required without review processes.<br>When working on projects with a small team or single developer with direct write access to the repository.</td>
</tr>
</tbody>
</table>
<p>The “When Not to Use” column provides insights into situations where it <em>may</em> be less appropriate / unnecessary to use each collaboration technique, helping you make informed decisions based on the specific context and requirements of your project.</p>
<p>These techniques provide different benefits and are used in various collaboration scenarios, depending on the project’s needs and team dynamics.</p>
</section>
<section id="merge-conflicts" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="merge-conflicts"><span class="header-section-number">11.5</span> Merge conflicts</h2>
<p><strong>Merge conflicts</strong> occur when both collaborators make conflicting changes to the same file. Resolving merge conflicts involves identifying the root of the problem and restoring the project to a normal state. Good communication, discussing file sections to work on, and avoiding overlaps can help prevent merge conflicts. However, if conflicts do arise, Git warns about potential issues and ensures that changes from different collaborators based on the same file version are not overwritten. To resolve conflicts, you need to explicitly specify whose changes should be used for each conflicting line in the file.</p>
<p>In this image, we see collaborators <code>mbjones</code> and <code>metamattj</code> have both made changes to the same line in the same <code>README.md</code> file. This is causing a merge conflict because Git doesn’t know whose changes came first. To resolve it, we need to tell Git whose changes to keep for that line, and whose changes to discard.</p>
<p><img src="images/git-conflict-00-lines-changed.png" class="img-fluid"></p>
<section id="common-ways-to-resolve-a-merge-conflict" class="level3" data-number="11.5.1">
<h3 data-number="11.5.1" class="anchored" data-anchor-id="common-ways-to-resolve-a-merge-conflict"><span class="header-section-number">11.5.1</span> Common ways to resolve a merge conflict</h3>
<p><strong>1. Abort, abort, abort…</strong></p>
<p>Sometimes you just made a mistake. When you get a merge conflict, the repository is placed in a “Merging” state until you resolve it. There’s a Terminal command to abort doing the merge altogether:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> merge <span class="at">--abort</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Of course, after doing that you still haven’t synced with your Collaborator’s changes, so things are still unresolved. But at least your repository is now usable on your local machine.</p>
<p><strong>2. Checkout</strong></p>
<p>The simplest way to resolve a conflict, given that you know whose version of the file you want to keep, is to use the command line to tell Git to use either <strong>your</strong> changes (the person doing the <code>merge</code>), or <strong>their</strong> changes (the Collaborator).</p>
<ul>
<li>keep your Collaborator’s file: <code>git checkout --theirs conflicted_file.Rmd</code></li>
<li>keep your own file: <code>git checkout --ours conflicted_file.Rmd</code></li>
</ul>
<p>Once you have run that command, then run <code>add</code> (staging), <code>commit</code>, <code>pull</code>, and <code>push</code> the changes as normal.</p>
<p><strong>3. Pull and edit the file</strong></p>
<p>Option 2, above, requires the command line, however, we have a third option for resolving the merge conflict from RStudio. Using this approach will allow us to pick and choose some of our changes <em>and</em> some of our Collaborator’s changes by letting us manually edit and fix the conflicted file.</p>
<p>When you <code>pull</code> a file with a conflict, Git will provide you with a warning modify the file so that it includes both your own changes and your Collaborator’s changes. The file will also appear in the <strong>Git</strong> tab with an orange <code>U</code> icon, which indicates that the file is <code>Unmerged</code> and therefore awaiting your help to resolve the conflict. It delimits these blocks of conflicted code with a series of less than and greater than signs, so they are easy to find:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/rstudio-merge-conflict.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<p>In the above example, <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code> marks the start of <em>your</em> changes. The <code>=======</code> delimiter separates your changes from your Collaborator’s conflicting changes. <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> mark the end of your Collaborator’s changes.</p>
<p>To resolve the conflicts, simply find all of these blocks, and edit them so that the file looks how you want (either pick your lines, your Collaborator’s lines, some combination, or something altogether new), and save. Be sure you removed the delimiter lines that started with</p>
<ul>
<li><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code></li>
<li><code>=======</code></li>
<li><code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code></li>
</ul>
<p>Once you have made those changes, you simply <code>add</code> (staging), <code>commit</code>, and <code>push</code> the files to resolve the conflict.</p>
</section>
</section>
<section id="producing-and-resolving-merge-conflicts" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="producing-and-resolving-merge-conflicts"><span class="header-section-number">11.6</span> Producing and resolving merge conflicts</h2>
<p>To illustrate this process, the instructors are going to carefully create a merge conflict step-by-step, show how to resolve it, and show how to see the results of the successful merge after it is complete. First, the instructors will walk through the exercise to demonstrate the issues. Then, participants will pair up and try the exercise.</p>
<section id="step-1-owner-and-collaborator-ensure-that-their-local-repos-are-synced-with-the-remote-repo" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-1-owner-and-collaborator-ensure-that-their-local-repos-are-synced-with-the-remote-repo">Step 1: Owner and Collaborator ensure that their local repos are synced with the remote repo</h3>
<p>Pair with the same partner as in Exercise 1 and decide who will be the Owner and who will be the Collaborator. Begin the exercise by ensuring that both the Owner and Collaborator have all of the changes synced from the remote repo to their local repos. This includes doing a <code>git pull</code> to ensure that you have all changes locally, and ensuring that the <strong>Git</strong> tab in RStudio doesn’t show any changes that need to be committed.</p>
</section>
<section id="step-2-owner-makes-a-change-and-commits-locally" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-2-owner-makes-a-change-and-commits-locally">Step 2: Owner makes a change and commits locally</h3>
<p>From this clean slate, the Owner will first modify and commit a small change. The Owner should add their name on a specific line of the <code>README.md</code> file (we will change the title in line 1). Save and commit the change (<strong>but DO NOT push</strong>). The Owner should now have a local but unpushed commit that the Collaborator does not yet have access to.</p>
</section>
<section id="step-3-collaborator-makes-a-change-and-commits-on-the-same-line" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-3-collaborator-makes-a-change-and-commits-on-the-same-line">Step 3: Collaborator makes a change and commits <strong>on the same line</strong></h3>
<p>Now, the Collaborator will modify and commit a small change. The Collaborator should add their name to the same line of the <code>README.md</code> file (we will again change the title in line 1). Save and commit the change (<strong>but DO NOT push</strong>). The Collaborator should now also have a local but unpushed commit that the Owner does not yet have access to.</p>
<p><em>At this point, both the Owner and Collaborator have committed local changes, but neither have tried to share their changes via GitHub.</em></p>
</section>
<section id="step-4-collaborator-pushes-the-file-to-github" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-4-collaborator-pushes-the-file-to-github">Step 4: Collaborator pushes the file to GitHub</h3>
<p>Sharing starts when the Collaborator pushes their changes to the GitHub repo, which updates GitHub with their version of the file. The Owner is now one revision behind, but doesn’t know it yet.</p>
</section>
<section id="step-5-owner-pushes-their-changes-and-gets-an-error" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-5-owner-pushes-their-changes-and-gets-an-error">Step 5: Owner pushes their changes and gets an error</h3>
<p>At this point, the Owner tries to push their change to the repository, which triggers an error from GitHub. While the error message is long, it tells you everything needed (that the Owner’s repository doesn’t reflect the changes on GitHub, and that they need to <code>pull</code> before they can push).</p>
<p><img src="images/git-conflict-01-push-error.png" class="img-fluid"></p>
</section>
<section id="step-6-owner-pulls-from-github-to-get-collaborator-changes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-6-owner-pulls-from-github-to-get-collaborator-changes">Step 6: Owner pulls from GitHub to get Collaborator changes</h3>
<p>Following the error message, the Owner pulls the changes from GitHub, and gets another, different error message. Here, it indicates that there is a merge conflict because of the conflicting lines.</p>
<p><img src="images/git-conflict-02-pull-error.png" class="img-fluid"></p>
<p>In the <strong>Git</strong> pane of RStudio, the file is also flagged with an orange <code>U</code>, which stands for an unresolved merge conflict.</p>
<p><img src="images/git-conflict-03-conflict.png" class="img-fluid"></p>
</section>
<section id="step-7-owner-edits-the-file-to-resolve-the-conflict" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-7-owner-edits-the-file-to-resolve-the-conflict">Step 7: Owner edits the file to resolve the conflict</h3>
<p>To resolve the conflict, the Owner now needs to edit the file. Again, as indicated above, Git has flagged the locations in the file where a conflict occurred with <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>. The Owner should edit the file, merging whatever changes are appropriate until the conflicting lines read how they should, and eliminate all of the marker lines with <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>.</p>
<p><img src="images/git-conflict-04-conflict-tags.png" class="img-fluid"></p>
<p>Of course, for scripts and programs, resolving the changes means more than just merging the text – whoever is doing the merging should make sure that the code runs properly and that none of the logic of the program has been broken.</p>
<p><img src="images/git-conflict-05-resolved-file.png" class="img-fluid"></p>
</section>
<section id="step-8-owner-commits-the-resolved-changes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-8-owner-commits-the-resolved-changes">Step 8: Owner commits the resolved changes</h3>
<p>From this point forward, things proceed as normal. The Owner first <code>add</code>s the file, which changes the orange <code>U</code> to a blue <code>M</code> for modified. Then, the Owner commits the changes locally. The Owner now has a resolved version of the file on their system.</p>
<p><img src="images/git-conflict-06-commit-resolved.png" class="img-fluid"></p>
</section>
<section id="step-9-owner-pushes-the-resolved-changes-to-github" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-9-owner-pushes-the-resolved-changes-to-github">Step 9: Owner pushes the resolved changes to GitHub</h3>
<p>The Owner can now push the changes, without error, to GitHub.</p>
<p><img src="images/git-conflict-07-push-resolved.png" class="img-fluid"></p>
</section>
<section id="step-10-collaborator-pulls-the-resolved-changes-from-github" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-10-collaborator-pulls-the-resolved-changes-from-github">Step 10: Collaborator pulls the resolved changes from GitHub</h3>
<p>Finally, the Collaborator can pull from GitHub to get the changes (which include the resolved conflicted lines of code) that the Owner made.</p>
</section>
<section id="step-11-both-can-view-commit-history" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="step-11-both-can-view-commit-history">Step 11: Both can view commit history</h3>
<p>Both the Collaborator and the Owner can view the history, which includes information about the conflict, the associated branch, and the merged changes.</p>
<p><img src="images/git-conflict-08-history.png" class="img-fluid"></p>
</section>
</section>
<section id="exercise-2-with-a-partner-collaborate-in-a-repository-and-resolve-a-merge-conflict" class="level2" data-number="11.7">
<h2 data-number="11.7" class="anchored" data-anchor-id="exercise-2-with-a-partner-collaborate-in-a-repository-and-resolve-a-merge-conflict"><span class="header-section-number">11.7</span> Exercise 2: With a partner collaborate in a repository and resolve a merge conflict</h2>
<p>Note you will only need to complete the Setup and Git configuration steps again if you are working in a new repository. Return to <a href="@ex1-no-conflict">Exercise 1</a> for Setup and Git configuration steps.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Instructions
</div>
</div>
<div class="callout-body-container callout-body">
<p>Now it’s your turn. In pairs, intentionally create a merge conflict, and then go through the steps needed to resolve the issues and continue developing with the merged files. See the sections above for help with each of the steps below. You will do the exercise twice, where each person will get to practice being both the Owner and the Collaborator roles.</p>
<p><strong>Round One:</strong> Designate one person as the Owner and one as the Collaborator. Both open the Owner’s <code>{FIRSTNAME}_test</code> project.</p>
<ul>
<li><strong>Step 1:</strong> Both Owner and Collaborator <code>pull</code> to ensure both have the most up-to-date changes</li>
<li><strong>Step 2:</strong> Owner edits the <code>README</code> file and makes a change to the title and commits but <strong>do not push yet!</strong></li>
<li><strong>Step 3:</strong> <strong>On the same line</strong>, Collaborator edits the <code>README</code> file and makes a change to the title and commits</li>
<li><strong>Step 4:</strong> Collaborator pushes the file to GitHub</li>
<li><strong>Step 5:</strong> Owner pushes their changes and gets an error</li>
<li><strong>Step 6:</strong> Owner pulls from GitHub to get Collaborator changes</li>
<li><strong>Step 7:</strong> Owner edits the <code>README</code> file to resolve the conflict</li>
<li><strong>Step 8:</strong> Owner commits the resolved changes</li>
<li><strong>Step 9:</strong> Owner pushes the resolved changes to GitHub</li>
<li><strong>Step 10:</strong> Collaborator pulls the resolved changes from GitHub</li>
<li><strong>Step 11:</strong> Both view commit history</li>
</ul>
<p><strong>Round Two:</strong> Swap Owner and Collaborator roles and repeat! Switch to the new Owner’s <code>{FIRSTNAME}_test</code> project.</p>
<ul>
<li><strong>Step 1:</strong> Both Owner and Collaborator <code>pull</code> to ensure both have the most up-to-date changes</li>
<li><strong>Step 2:</strong> Owner edits the <code>README</code> file and makes a change to line 2 and commits but <strong>do not push yet!</strong></li>
<li><strong>Step 3:</strong> <strong>On the same line</strong>, Collaborator edits the <code>README</code> file and makes a change to line 2 and commits</li>
<li><strong>Step 4:</strong> Collaborator pushes the file to GitHub</li>
<li><strong>Step 5:</strong> Owner pushes their changes and gets an error</li>
<li><strong>Step 6:</strong> Owner pulls from GitHub to get Collaborator changes</li>
<li><strong>Step 7:</strong> Owner edits the <code>README</code> file to resolve the conflict</li>
<li><strong>Step 8:</strong> Owner commits the resolved changes</li>
<li><strong>Step 9:</strong> Owner pushes the resolved changes to GitHub</li>
<li><strong>Step 10:</strong> Collaborator pulls the resolved changes from GitHub</li>
<li><strong>Step 11:</strong> Both view commit history</li>
</ul>
</div>
</div>
</section>
<section id="best-practices-to-avoid-merge-conflicts" class="level2 page-columns page-full" data-number="11.8">
<h2 data-number="11.8" class="anchored" data-anchor-id="best-practices-to-avoid-merge-conflicts"><span class="header-section-number">11.8</span> Best practices to avoid merge conflicts</h2>
<p>Some basic rules of thumb can avoid the vast majority of merge conflicts, saving a lot of time and frustration. These are words our teams live by:</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://xkcd.com/1597/"><img src="images/git-xkcd-comic.png" class="img-fluid figure-img" alt="XKCD 1597"></a></p>
<figcaption>XKCD 1597</figcaption>
</figure>
</div>
</div></div><ul>
<li>Communicate often and set up effective communication channels</li>
<li>Tell each other what you are working on</li>
<li>Start your working session with a <code>pull</code></li>
<li><code>Pull</code> immediately after you <code>commit</code> and before you <code>push</code></li>
<li><code>Commit</code> often in small chunks (this helps you organize your work!)</li>
<li>Make sure you and who you are collaborating with all <strong>fully</strong> understand the Git workflow you’re using (aka make sure you’re on the same page before you start)!</li>
</ul>
<p>A good workflow is encapsulated as follows:</p>
<p><code>Pull -&gt; Edit -&gt; Save -&gt; Add (stage) -&gt; Commit -&gt; Pull -&gt; (OPTIONAL) Fix any merge conflicts -&gt; Push</code></p>
<p>It may take a bit of practice to get comfortable with navigating merge conflicts, but like any other technical skill, they’ll become less intimidating with time. With careful communication and a consistent workflow, conflicts can be largely avoided or resolved when they do occur.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./session_10.html" class="pagination-link" aria-label="Practice Session: Joins">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Practice Session: Joins</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./session_12.html" class="pagination-link" aria-label="Publishing to the Web">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Publishing to the Web</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>